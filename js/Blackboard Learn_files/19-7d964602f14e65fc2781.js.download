(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+WzV":function(e,t){e.exports='<div class="course" bb-dir>\n  <div class="panel-wrap classic-learn-wrapper">\n    <header class="panel-header">\n      <div class="columns">\n        <h1 class="panel-title">{{ course.model.displayName }}</h1>\n        <button class="left-off-canvas-toggle menu-toggle" \n                type="button"\n                analytics-id="course.original.menu.button">\n          <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n          <span class="sr-only" bb-translate>base.menu</span>\n        </button>\n      </div>\n    </header>\n    <div class="panel-content iframe-wrapper">\n      \x3c!-- Please do not change the class name of this iframe (classic-learn-iframe). There are dependencies on this class in Learn Java / JavaScript code, such as LaunchBasicLTIReturnAction.java. --\x3e\n      <iframe bb-iframe-max-height class="classic-learn-iframe" name="classic-learn-iframe" ng-if="::course.getIframeUrl()"\n              ng-src="{{::course.getIframeUrl()}}" bb-iframe-event-repeater="keydown" title="{{course.model.displayName}}"\n              bb-iframe-location-interceptor="course.handleClassicRedirect(location, preventDefault)"></iframe>\n      <div ui-view="course-classic-peek"></div>\n    </div>\n  </div>\n</div>\n'},"018c":function(e,t){e.exports='<bb-guidance\n  ng-if="!$ctrl.inPreview"\n  component-key="components.directives.studentPreviewDirective.ftue.startPreview.tooltipHeader"\n  class="guidance-element-overlay">\n    <h3 bb-translate>components.directives.studentPreviewDirective.ftue.startPreview.tooltipHeader</h3>\n    <p bb-translate>components.directives.studentPreviewDirective.ftue.startPreview.tooltipContent</p>\n</bb-guidance>\n<button ng-if="!$ctrl.inPreview"\n        bb-guidance-target\n        component-key="components.directives.studentPreviewDirective.ftue.startPreview.tooltipHeader"\n        ng-click="$ctrl.togglePreview()"\n        analytics-id="components.directives.studentPreviewDirective.preview.button">\n  <bb-svg-icon size="medium" icon="visible" class="visibility-icon"></bb-svg-icon>\n  <span bb-translate>components.directives.studentPreviewDirective.preview</span>\n</button>\n<bb-guidance\n  ng-if="$ctrl.inPreview"\n  component-key="components.directives.studentPreviewDirective.ftue.endPreview.tooltipHeader"\n  class="guidance-element-overlay in-preview">\n  <h3 bb-translate>components.directives.studentPreviewDirective.ftue.endPreview.tooltipHeader</h3>\n  <p bb-translate>components.directives.studentPreviewDirective.ftue.endPreview.tooltipContent</p>\n</bb-guidance>\n<button ng-if="$ctrl.inPreview"\n        bb-guidance-target\n        component-key="components.directives.studentPreviewDirective.ftue.endPreview.tooltipHeader"\n        ng-click="$ctrl.togglePreview()"\n        analytics-id="components.directives.studentPreviewDirective.exitPreview.button">\n  <bb-svg-icon size="medium" icon="visible" class="visibility-icon"></bb-svg-icon>\n  <span bb-translate>components.directives.studentPreviewDirective.exitPreview</span>\n</button>'},"0Fb7":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var i=n("mrSG"),s=(n("IsEC"),n("IbG+")),r=n("Fvsw"),o=n("pjml"),a="ultra.components.services.predict.settings.system-settings.predictSystemSettings",c="predictSystemSettings",u=function(){function e(e,t,n,i,s){this.cacheFactory=e,this.$cookies=t,this.$rootScope=n,this.context=i,this.PredictSystemSettings=s,this.systemSettingsCache=this.cacheFactory.createCache("predictSystemSettings")}return e.prototype.getPredictSystemSettings=function(){var e=this,t=this.systemSettingsCache.get("predictSystemSettings");t||(t={promise:this.context.getSystemInfo().$asPromise().then(function(t){return t.telemetryEnabled?e.PredictSystemSettings.get().then(function(e){return 200===e.$response.status?e:{isStudentEnabled:!1,isInstructorEnabled:!1,isAdvisorEnabled:!1}}):{isStudentEnabled:!1,isInstructorEnabled:!1,isAdvisorEnabled:!1}})},this.systemSettingsCache.put("predictSystemSettings",t));return t.promise},e.prototype.getPredictHostOrigin=function(){return this.$cookies.get("bbPredictHostOrigin")},e.$inject=["DSCacheFactory","$cookies","$rootScope",r.b,o.mb.serviceName],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}i.__extends(t,e)}(u);s.module(a,["ngCookies",r.a,o.R]).service(c,u)},"1tuW":function(e,t,n){},"1zDl":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var i=n("mrSG"),s=n("LvDl"),r=n("IbG+"),o=n("pjml"),a=n("+brj"),c="ultra.service.course.content.copy",u="courseContentCopy",l=function(){function e(e,t){var n=this;this.browserStorage=e,this.$q=t,this.COPY_TASKS_KEY="COPY-TASKS-ID",this.DISMISSED_TASKS_KEY="DISMISSED-COPY-TASKS-ID",this.getCurrentCopyTaskErrorSummaries=function(e){return n.getCurrentCopyTasks().then(function(t){return void 0===t&&(t=[]),t.length?n.getErrorSummaries(e,t):[]})},this.getCurrentCopyTaskErrorCountsByCategory=function(e){return n.getCurrentCopyTaskErrorSummaries(e).then(function(e){return s.map(e,function(e){return n.mergeTasksWithinCourseGrouping(e)})})},this.mergeTasksWithinCourseGrouping=function(e){var t=s.first(e),i=t.sourceCourseName,r=t.sourceCourseId;return{errorCountsByCategory:s(e).flatMap(function(e){return e.errorCountsByCategory}).groupBy(function(e){return e.name}).map(function(e,t){return n.mergeErrorCountsOfSameCategory(e)}).sortBy(function(e){return n.localizedCategoryName(e.name)}).value(),sourceCourseId:r,sourceCourseName:i,taskIds:s.map(e,function(e){return e.taskId})}},this.mergeErrorCountsOfSameCategory=function(e){return s.reduce(e,function(e,t){return{count:e.count+t.count,name:t.name}},{count:0,name:""})},this.localizedCategoryName=function(e){var t=o.n.ConversionContentCategory.parse(e);return t?t.getLocalizableCategoryNameKey():null},this.getErrorSummaries=function(e,t){return void 0===t&&(t=[]),e.getGranularCopyTaskStatus(t).then(function(e){o.n.ConversionReportStatus.Success;var t=s(e.results).groupBy("sourceCourseId").mapValues(function(e,t){return s.head(e).sourceCourseName}).value();return s(e.results).filter(function(e){return!!e.errorCountsByCategory.length}).groupBy("sourceCourseId").sortBy(function(e,n){return t[n]}).map(function(e,t){return e}).value()})},this.copyDetailsNotificationCount=function(e){return n.getCopyDetailsNotificationTasks().then(function(t){return s(e).flatMap().filter(function(e){return s.includes(t,e.taskId)}).flatMap("errorCountsByCategory").reduce(function(e,t){return e+t.count},0)})},this.resetCopyDetailsNotificationCount=function(){n.getCurrentCopyTasks().then(function(e){void 0===e&&(e=[]),n.browserStorage.saveToStorage(n.DISMISSED_TASKS_KEY,e,a.a.SessionStorage)})}}return e.prototype.getCurrentCopyTasks=function(){return this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage)},e.prototype.getCopyDetailsNotificationTasks=function(){var e=this.browserStorage.getFromStorage(this.DISMISSED_TASKS_KEY,a.a.SessionStorage),t=this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage);return this.$q.all([e,t]).then(function(e){var t=e[0],n=void 0===t?[]:t,i=e[1];return(void 0===i?[]:i).filter(function(e){return!s.includes(n,e)})})},e.prototype.appendToCurrentCopyTasks=function(e){var t=this;return void 0===e&&(e=[]),this.browserStorage.getFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage).then(function(n){return void 0===n&&(n=[]),t.browserStorage.saveToStorage(t.COPY_TASKS_KEY,n.concat(e),a.a.SessionStorage)})},e.prototype.clearCopyTasks=function(){this.browserStorage.deleteFromStorage(this.DISMISSED_TASKS_KEY,a.a.SessionStorage),this.browserStorage.deleteFromStorage(this.COPY_TASKS_KEY,a.a.SessionStorage)},e.$inject=[a.c,"$q"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}i.__extends(t,e)}(l);r.module(c,[o.R]).service(u,l)},"20Gm":function(e,t,n){},"2sqL":function(e,t){e.exports='<bb-modal id="student-preview-modal" role="alertdialog" class="notification" bb-translate-attrs="{\'aria-label\': \'components.directives.studentPreviewDirective.modalTitleKey\'}"\n          modal-title-key="components.directives.studentPreviewDirective.modalTitleKey" aria-describedby="first-time-confimation"\n          analytics-id-tag-prefix="components.directives.studentPreviewDirective">\n  <div name="modal-contents">\n    <bb-svg-icon size="custom" icon="preview-user-avatar"></bb-svg-icon>\n    <p id="first-time-info" bb-translate>\n      components.directives.studentPreviewDirective.firstTimeConfirmtion\n    </p>\n  </div>\n  <button name="modal-footer-button-primary"\n          type="button"\n          class="button js-discard-changes js-primary-button"\n          ng-click="startPreview()"\n          analytics-id="components.directives.studentPreviewDirective.startPreview.button">\n    <span bb-translate="components.directives.studentPreviewDirective.startPreview"></span>\n  </button>\n  <button name="modal-footer-button-secondary"\n          type="button"\n          class="button button--secondary js-cancel-discard js-secondary-button"\n          ng-click="$dismiss()"\n          analytics-id="components.directives.studentPreviewDirective.cancel.button">\n    <span bb-translate="components.directives.studentPreviewDirective.cancel"></span>\n  </button>\n</bb-modal>'},"3Lan":function(e,t){e.exports='\n<div class="course courseConversion" bb-dir ng-class="course.courseColorClass"\n     bb-first-time-container bb-course-membership-markups="{{::course.model.id}}">\n  <div class="student-preview-header" ng-show="course.inPreview" bb-foundation-defer>\n    <h2 bb-translate course-org-token-resolver>course.studentPreview</h2>\n    <bb-svg-icon class="preview-user-avatar" size="custom" icon="preview-user-avatar"></bb-svg-icon>\n    <bb-overflow-menu\n        element-id="preview-option"\n        element-name="preview-option"\n        menu-items="course.previewOptionArray"\n        analytics-id-tag-prefix="course.previewOptions.oveflowMenu">\n    </bb-overflow-menu>\n  </div>  \n  <div ng-if="!course.inPreview" class="course-content-container">\n    <div class="panel-wrap" ng-class="{\'course-calendar-overflow\': course.isCourseCalendar()}">\n      <bb-preview-header class="preview-header-large-screen" course="course.model"\n                         bb-focus="{{ course.model.isUltraPreview() === true }}" keep-trigger-focus="true"></bb-preview-header>\n      <div class="show-for-large-up">\n        <div class="complete-banner-wrapper" ng-if="course.showCompleteBanner()">\n          <span class="complete-banner-text" role="alert">\n            <bb-translate course-org-token-resolver>course.complete</bb-translate>\n          </span>\n        </div>\n      </div>\n      <header class="panel-header simple-header course-header"\n              ng-class="{\'has-filter\': course.isCourseGrades(),\n                        \'is-editable\': course.isEditingCourseName && course.canEditCourseName(),\n                        \'can-edit\': course.canEditCourseName() && course.isCourseOutline()}">\n        <div class="panel-titles-container" id="global-title">\n          <form name="courseForm" class="course-form">\n\n            <div class="panel-sub-title js-course-id js-vr-remove-random">\n              <span ng-if="course.isCourseOutline()">{{::course.model.courseId}}</span>\n              <span ng-if="!course.isCourseOutline()">{{::course.model.displayName}}</span>\n            </div>\n\n            <div class="editable-title-container black-header-contents" ng-show="!course.isEditingCourseName">\n              <button class="left-off-canvas-toggle menu-toggle standard-button dark-background" \n                      type="button"\n                      analytics-id="course.menu.button">\n                <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n                <span class="sr-only" bb-translate>base.menu</span>\n              </button>\n              \x3c!-- LRN-116880 On Course Outline, the header is editable and announced by screenreaders as "clickable", which is redundant\n              because there\'s already a button to edit the course name, which is what screenreader users should use instead, so let\'s hide\n              that header and move focus onto a plain text header instead --\x3e\n              <h1 class="sr-only"\n                  ng-if="course.isCourseOutline()"\n                  bb-focus="{{ course.model.isUltraPreview() === false }}"\n                  keep-trigger-focus="true"\n                  bb-focus-next=".course-skip-link .skip-link"\n                  bb-focus-next-one-time-only="true"\n                  data-ng-bind="course.model.displayName">\n              </h1>\n              <h1 class="panel-title" ng-class="{\'title-not-editable\': !(course.isCourseOutline() && course.canEditCourseName())}">\n                \x3c!-- If Course Outline--\x3e\n                <span ng-if="course.isCourseOutline()"\n                      class="js-course-name ellipsis"\n                      data-ng-bind="course.model.displayName"\n                      ng-click="course.enterCourseNameEditMode()"\n                      bb-prevent-click-if="!(course.isCourseOutline() && course.canEditCourseName)"\n                      tabindex="-1" aria-hidden="true"\n                      analytics-id="course.editCourseName">\n                </span>\n                \x3c!-- else--\x3e\n                <span ng-if="!course.isCourseOutline()"\n                      bb-translate="{{course.headerKey}}"\n                      translate-values="{ courseName: course.model.displayName }">\n                </span>\n              </h1>\n              <button ng-if="course.isCourseOutline() && course.canEditCourseName()" class="edit-title standard-button dark-background" type="button"\n                      ng-click="course.enterCourseNameEditMode()"\n                      course-org-token-resolver\n                      bb-translate-attrs="{\'title\': \'course.editCourseName\', \'aria-label\': \'course.editCourseName\'}"\n                      analytics-id="course.editCourseName.button">\n                <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n              </button>\n\n              <div>\n                <a ng-if="course.isCourseGrades() && !course.model.isComplete()" class="open-gradebook-settings button super-clear js-open-settings"\n                      ng-class="{\'desktop-medium-large-hidden\': course.isDesktop}"\n                      bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.download\'}"\n                      bb-peek-sref="grade-download-setting"\n                      analytics-id="course.downloadGradeSettings.link">\n                  <bb-svg-icon size="medium" icon="download"></bb-svg-icon>\n                </a>\n              </div>\n\n              <div bb-course-entitlement="course.gradebook.MODIFY" course-id="course.model.id">\n                <div ng-if="(!course.isDesktop || (course.isDesktop && course.isSmallScreen)) && course.isCourseGrades()" ng-class="{\'desktop-medium-large-hidden\': course.isDesktop}">\n                  <a class="open-gradebook-settings button super-clear js-open-settings"\n                          bb-guidance-target \n                          component-key="grades.grader.course.settings.small.screen"\n                          bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.openSettings\'}"\n                          bb-peek-sref="grade-setting"\n                          analytics-id="course.gradebookSettings.link">\n                    <bb-svg-icon size="small" icon="settings"></bb-svg-icon>\n                  </a>\n                  <bb-guidance id="header-guidance-moment-grade-settings" component-key="grades.grader.course.settings.small.screen"\n                               class="guidance-element-overlay push-right" role="tooltip">\n                    <p><bb-translate>components.directives.grade.course-grades-grader.ftue.setting</bb-translate></p>\n                  </bb-guidance>\n                </div>\n              </div>\n\n            </div>\n            <div class="panel-title-input-container black-header-contents" ng-show="course.isEditingCourseName && course.canEditCourseName()" bb-click-outside="course.updateCourseName()">\n              <button class="left-off-canvas-toggle menu-toggle standard-button dark-background" \n                      type="button"\n                      analytics-id="course.panelTitle.editTitle.button">\n                <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n                <span class="sr-only" bb-translate>base.menu</span>\n              </button>\n              <input id="course-panel-title"\n                    name="panel-title"\n                    class="panel-header-title panel-title panel-title-input"\n                    autocapitalize="off"\n                    type="text"\n                    maxlength="333"\n                    aria-label="{{course.name}}"\n                    placeholder="{{course.name}}"\n                    ng-required="true"\n                    ng-model="course.model.name"\n                    ng-blur="course.updateCourseName()"\n                    bb-keyboard-enter="course.updateCourseName()"\n                    go-blank-after-save="true"\n                    bb-focus="{{ course.model.isUltraPreview() === false }}"\n                    keep-trigger-focus="true"\n                    analytics-id="course.panelTitle.input.text">\n              \x3c!-- Do not use ng-if here. The reason is that bb-translate directive translates the string when the value in bbTranslate changes, "{{course.headerKey}}" in this case.\n              If ng-if is used, the first time the element is rendered, the value is "{{course.headerKey}}" and will not change, thus will not trigger the translation process.\n              With ng-show, the value in bbTranslate is initially "" and then changes to "{{course.headerKey}}". So the translation process is triggered.\n              Since bbTranslate is quite complicated, I choose to use ng-show as walk around instead of updating bb-translate directive. --\x3e\n            </div>\n          </form>\n        </div>\n      </header>\n\n      <bb-skip-link bb-skip-link-target=".js-course-skip-link-target" bb-skip-link-focus-next=".js-course-outline-tool" class="course-skip-link"></bb-skip-link>\n\n      <div class="panel-content">\n        <bb-preview-header class="preview-header-medium-screen" course="course.model"></bb-preview-header>\n        <div class="course-nav" role="navigation" tabindex="-1" bb-translate-attrs="{\'aria-label\':\'course.headerLabel\'}">\n          <ul class="course-tools button-group" tabindex="-1" ng-class="course.courseToolButtonClass">\n            <li ui-sref-active="active">\n              <a bb-peek-sref="course.outline"\n                ng-attr-aria-current="{{course.headerKey === \'course.outline.headerLabel\' ? \'page\' : false}}"\n                class="button super-clear course-tool-tab js-course-outline-tool"\n                bb-translate-attrs="{\'aria-label\': \'course.title.outline\' ,\'title\': \'course.title.outline\'}"\n                analytics-id="course.outline.link">\n                <bb-svg-icon size="medium" icon="courses"></bb-svg-icon>\n              </a>\n            </li>\n            <li ui-sref-active="active" ng-if="course.canViewCalendar">\n              <a bb-peek-sref="course.calendar"\n                class="button super-clear course-tool-tab"\n                ng-attr-aria-current="{{course.headerKey === \'course.calendar.headerLabel\' ? \'page\' : false}}"\n                bb-translate-attrs="{\'aria-label\': \'course.title.calendar\', \'title\': \'course.title.calendar\'}"\n                analytics-id="course.calendar.link">\n                <bb-svg-icon size="medium" icon="calendar"></bb-svg-icon>\n              </a>\n            </li>\n            <li ui-sref-active="active">\n              <a bb-peek-sref="course.engagement"\n                class="button super-clear course-tool-tab"\n                ng-attr-aria-current="{{course.headerKey === \'course.engagement.headerLabel\' ? \'page\' : false}}"\n                bb-translate-attrs="{\'aria-label\': \'course.title.participation\', \'title\': \'course.title.participation\'}"\n                analytics-id="course.engagement.link">\n                <bb-svg-icon size="medium" icon="discussion"></bb-svg-icon>\n              </a>\n            </li>\n            \x3c!--ULTRA-14994 comment it out since we didn\'t put it in milestone 2 --\x3e\n            \x3c!--<li bb-feature-toggle="overallGradeAlert" remove-from-dom="true" ui-sref-active="active" ng-if="course.canAccessGradebook" class="gradebook" ng-class="{\'has-alert\': course.hasNewAddedItems}">--\x3e\n              \x3c!--<a bb-peek-sref="course.grades"--\x3e\n                \x3c!--role="tab"--\x3e\n                \x3c!--class="button icon super-clear large course-tool-tab"--\x3e\n                \x3c!--bb-translate-attrs="{\'aria-label\': \'course.title.grades\', \'title\': \'course.title.grades\'}"--\x3e\n                \x3c!--aria-selected="{{course.ultraState.includes(\'**.course.grades.**\')}}">--\x3e\n                \x3c!--<i class="icon-doc-pencil-2"></i>--\x3e\n                \x3c!--&lt;!&ndash;<bb-svg-icon size="medium" icon="grade" color="true"></bb-svg-icon>&ndash;&gt;--\x3e\n                \x3c!--&lt;!&ndash;TODO: ULTRA-14986 should add condition &ndash;&gt;--\x3e\n                \x3c!--<bb-svg-icon ng-if="course.hasNewAddedItems" class="show-alert" size="small" icon="attention" status="alert"></bb-svg-icon>--\x3e\n              \x3c!--</a>--\x3e\n              \x3c!--<div ng-if="course.showAlertContainer" class="overall-grade-alert-container">--\x3e\n                \x3c!--<button ng-click="course.dismissAlertContainer()" class="close-button super-clear">--\x3e\n                  \x3c!--<bb-svg-icon size="small" icon="close"></bb-svg-icon>--\x3e\n                \x3c!--</button>--\x3e\n                \x3c!--<div class="overall-grade-alert-container-pip"></div>--\x3e\n                \x3c!--<div class="alert-icon">--\x3e\n                  \x3c!--<bb-svg-icon icon="attention" size="medium"></bb-svg-icon>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<div class="alert-description">--\x3e\n                  \x3c!--Youâ€™ve added new graded items. Please update the overall grade.--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<a class="button alert-button"  bb-peek-sref="overall-grade">Update</a>--\x3e\n              \x3c!--</div>--\x3e\n            \x3c!--</li>--\x3e\n            <li ui-sref-active="active" ng-if="course.canAccessGradebook">\n              <a bb-peek-sref="course.grades"\n                ng-attr-aria-current="{{course.headerKey === \'course.grades.headerLabel\' ? \'page\' : false}}"\n                class="button super-clear course-tool-tab"\n                bb-translate-attrs="{\'aria-label\': \'course.title.grades\', \'title\': \'course.title.grades\'}"\n                analytics-id="course.grades.link">\n                <bb-svg-icon size="medium" icon="grades"></bb-svg-icon>\n              </a>\n            </li>\n            <li ui-sref-active="active">\n              <a bb-peek-sref="course.messages"\n                class="button super-clear  course-tool-tab"\n                ng-attr-aria-current="{{course.headerKey === \'course.messages.headerLabel\' ? \'page\' : false}}"\n                bb-translate-attrs="{\'aria-label\': \'course.title.messages\', \'title\': \'course.title.messages\'}"\n                bb-key-hide-ftue="course.nav"\n                analytics-id=\'course.messages.link\'>\n                <bb-svg-icon size="medium" icon="messages"></bb-svg-icon>\n              </a>\n            </li>\n            <li ui-sref-active="active" ng-if="course.canAccessAnalytics()">\n              <a bb-peek-sref="{{::course.getAnalyticsHref()}}"\n                ng-attr-aria-current="{{course.headerKey === \'course.analytics.headerLabel\' ? \'page\' : false}}"\n                class="button super-clear  course-tool-tab"\n                bb-translate-attrs="{\'aria-label\': \'course.title.analytics\', \'title\': \'course.title.analytics\'}"\n                analytics-id="course.getAnalytics.link">\n                <bb-svg-icon size="medium" icon="beast-analytics"></bb-svg-icon>\n              </a>\n            </li>\n            <li class="search-tab-2 prototype-content">\n              <a href="javascript:void(0);" id="search-toggle"\n                role="button"\n                class="button super-clear course-tool-tab"\n                bb-translate-attrs="{\'title\': \'course.title.search\'}"\n                analytics-id="course.searchToggle.link">\n                <span class="sr-only" bb-translate="course.title.search"></span>\n                <bb-svg-icon size="medium" icon="search"></bb-svg-icon>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div class="hide-for-large-up">\n          <div class="complete-banner-wrapper" ng-if="course.showCompleteBanner()">\n            <span class="complete-banner-text" role="alert">\n              <bb-translate>course.complete</bb-translate>\n            </span>\n          </div>\n        </div>\n        <div ui-view="course@" class="course-tool-content">\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="course.inPreview" class="student-preview-container">\n    <iframe id="preview-iframe" frameborder="0" ng-src="{{course.previewUrl}}"></iframe>\n  </div>  \n  <bb-conversion-status-bar ng-show="course.isCourseOutline()" class="course-conversion-bar">\n  </bb-conversion-status-bar>\n</div>'},"7SkM":function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-attention",use:"icon-medium-attention-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-attention"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12.75 18.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" /><path d="M12 15l-.5-10h1L12 15z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(r);e.exports=r},ERjl:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-custom-preview-user-avatar",use:"icon-custom-preview-user-avatar-usage",viewBox:"0 0 150 150",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 150 150" id="icon-custom-preview-user-avatar"><defs><circle id="icon-custom-preview-user-avatar_a" cx="75" cy="75" r="75" /></defs><g fill="none" fill-rule="evenodd"><mask id="icon-custom-preview-user-avatar_b"><use xlink:href="#icon-custom-preview-user-avatar_a" fill="#FFF" /></mask><use fill="#D8D8D8" xlink:href="#icon-custom-preview-user-avatar_a" /><path fill="#EFD5EF" mask="url(#icon-custom-preview-user-avatar_b)" d="M0 0h150v150H0z" /><path fill="#C378D0" mask="url(#icon-custom-preview-user-avatar_b)" d="M0 0h108v150H0z" /><g mask="url(#icon-custom-preview-user-avatar_b)"><g transform="translate(54 53)" fill="#272727"><circle cx="3" cy="3" r="3" /><circle cx="47" cy="3" r="3" /></g><path d="M85.0005 127.7557c-5.789 0-11.2782-1.2735-16.2104-3.5574-2.126-.9834-3.845 1.9346-2.019 3.3962C71.7624 131.6033 78.103 134 85.0006 134c6.8922 0 13.2329-2.3967 18.2293-6.4055 1.8262-1.4616.1018-4.3796-2.019-3.3962-4.9321 2.2839-10.4213 3.5574-16.2103 3.5574" fill="#000" opacity=".2" mask="url(#icon-custom-preview-user-avatar_b)" /><g transform="translate(-1 37)" stroke="#FFF" stroke-linejoin="round" stroke-width="6"><circle cx="109.5" cy="19.5" r="19.5" /><path d="M91.1365 17.5H77" /><circle cx="57.5" cy="19.5" r="19.5" /><path d="M36.3868 17.5H0" /></g><g transform="translate(75 70)"><path fill-opacity=".2" fill="#000" d="M33 30v16L7 30z" /><rect fill="#C378D0" width="60" height="30" rx="15" /></g></g></g></symbol>'});s.add(r);e.exports=r},EiA2:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return E}),n.d(t,"a",function(){return I});var i=n("mrSG"),s=(n("uKDm"),n("ERjl"),n("wSk3")),r=n("0JpG"),o=n("w9Zy"),a=n("5MwF"),c=n("go4a"),u=n("jhBu"),l=n("A4xO"),d=n("pjml"),p=n("0Fb7"),m=n("M+Ig"),h=n("BjFu"),b=n("lEL+"),v=n("TnpK"),g=n("Q/M7"),f=n("1zDl"),w=n("oQrK"),y=n("en1n"),C=n("JNtI"),k=n("hkqm"),S=n("Sa5G"),x=n("Qbdf"),P=n("x+T+"),E="ultra.course.controller",I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t}(function(){function t(t,n,i,s,r,o,a,u,l,d,p,h,b,v,f,w,y,k,S,x,P){var E=this;this.$rootScope=t,this.$scope=n,this.$location=i,this.$http=s,this.$window=r,this.CourseModel=l,this.EntitlementService=d,this.bbOffcanvas=h,this.ultraState=b,this.timeout=f,this.predictSystemSettingsService=w,this.contentCopy=y,this.$sce=k,this.toast=S,this.contextCourse=x,this.entitlementCache=P,this.isEditingCourseName=!1,this.canAccessGradebook=!1,this.canViewGrades=!1,this.canViewCalendar=!1,this.canModifyAttendance=!1,this.isPredictEnabled=null,this.hasNewAddedItems=!0,this.showAlertContainer=!0,this.canAccessAnalyticsReports=null,this.inPreview=!1,this.previewOptionArray=[],n.course=this,this.previewOptionArray=[{labelKey:"course.previewOption.viewGradebook",onClick:function(){E.endStudentPreview(!0)},uniqueId:"go-to-gradebook"},{labelKey:"course.previewOption.resetPreview",comfirmLabelKey:"course.previewOption.reset",onClick:function(){o.studentPreview.withParams({discardData:!0}).$destroy().$then(function(){o.studentPreview.$save().$then(function(){E.toast.show({messageKey:"course.activityReset",icon:"icon-check",toastStatus:"success"}),E.initPreviewUrl(),e("#preview-iframe").attr("src",E.previewUrl)})})},uniqueId:"reset-all-progress",confirmationOptions:C.a("x-bb-reset-preview")},{labelKey:"course.previewOption.exitPreview",onClick:function(){E.endStudentPreview(!1)},uniqueId:"exit-student-preview"}],this.contextCourse.previewStatus.previewing&&(this.inPreview=window.top===window,this.inPreview&&e(window.document).find("body").addClass("in-preview-mode-parent")),o.isClassic()||!o.isLocaleEnforced&&p.getUserLocale()||p.setLocale(n,o.locale),this.headerKey="course.outline.headerLabel",this.model=o,this.membership=a,this.previousCourseName=this.model&&this.model.name,this.AnalyticsPermission=u,this.legacyUrl=g.d(this.model,b.params.legacyUrl),this.courseColorClass=c.a(this.membership),this.contextCourse.previewStatus.previewing&&window.top!==window||v.getTermsAndMemberships().then(function(e){var t=v.findCourseMembership(E.model.id,e.memberships);-1!==t&&(e.memberships[t].course.ultraStatus=E.model.ultraStatus)}),this.wasCourseOpenedDirectly(this.ultraState.prev)||this.clearSavedCopyTasks(),n.$on("convert-to-ultra",function(e,n){E.model.isUltra()||E.model.id!==n||E.model.convertToUltraCourse().then(function(){E.ultraState.transitionTo(E.model.getBaseRoute()),t.$broadcast("convertToUltraCourse",n)})}),n.$on("choose-classic-view",function(e,t){E.model.isUndecided()&&E.model.id===t&&E.model.chooseClassicCourseView()}),this.initPreviewUrl(),this.initEntitlement(),n.$watch("course.headerKey",function(e,t){e!==t&&E.handleHeaderKeyChange()}),n.$on("telemetry-user-activity",function(e,t,n,i){b.goPeekState(m.a.ContentActivityInDetail.toString(),{contentId:n})}),this.canEditCourseName()||this.timeout(function(){e(".js-course-name").unbind("click")},this.$scope,0,!1),n.$on("no-permission-course",function(){b.isPeekPanelOpen?b.leavePeekState():b.transitionTo("base.courses")}),n.$on("$stateChangeStart",function(e,t){null!=window.opener&&t.name.indexOf("course.classic")<0&&E.model.isClassic()&&E.membership.user.isGuest()&&s({method:"GET",url:g.c("/webapps/login/?action=logout")}).then(function(){window.close()}),-1===t.name.indexOf("peek.course")&&E.contextCourse.previewStatus.previewing&&E.endStudentPreview(!1)}),n.$on("$stateChangeSuccess",function(){E.contextCourse.previewStatus.previewing&&window.top!==window&&sessionStorage.setItem("PREVIEW_URL_"+E.model.id,i.absUrl())}),n.$on("TOGGLE-PREVIEW",function(e,t){E.inPreview=t,E.contextCourse.refreshStudentPreviewStatus(),E.initPreviewUrl(),E.initEntitlement()})}return Object.defineProperty(t.prototype,"isSmallScreen",{get:function(){return y.h()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDesktop",{get:function(){return w.a.detect().desktop()},enumerable:!0,configurable:!0}),t.prototype.handleHeaderKeyChange=function(){var t=e(".course h1 span[bb-focus]");t.off("keydown.focusNext"),this.timeout(function(){t.focus(),l.a(t,".course-skip-link .skip-link",!0)},this.$scope,0,!1)},t.prototype.isCourseOutline=function(){return"course.outline.headerLabel"===this.headerKey},t.prototype.isCourseCalendar=function(){return"course.calendar.headerLabel"===this.headerKey},t.prototype.isCourseGrades=function(){return-1!==this.headerKey.indexOf(".grades.instructorHeaderLabel")||-1!==this.headerKey.indexOf(".grades.studentHeaderLabel")},t.prototype.getIframeUrl=function(){var e=this.$location.search();return this.isClassicCourseReturnLink(e)?g.c(this.getClassicCourseReturnLink(e)):g.c(this.legacyUrl||this.model&&this.model.homePageUrl)},t.prototype.handleClassicRedirect=function(t,n){var i=g.b(t.href);if("/webapps/login/"===t.pathname)if(n(),i.new_loc){var s=g.f("/ultra","classicRedirect",{legacyUrl:i.new_loc});i.new_loc=s;var r=g.c(t.pathname+"?"+e.param(i));this.replaceUrl(r)}else this.replaceUrl(g.c(t.pathname+"?action=relogin"));else t.pathname.indexOf("/webapps/blackboard/execute/viewCatalog")>=0&&(n(),this.ultraState.transitionTo("base.course-catalog"))},t.prototype.replaceUrl=function(e){this.$window.location.assign(e)},t.prototype.updateCourseName=function(){var e=this;this.model.name?(this.$scope.$emit("update-course-name",this.model,this.membership),this.model.$patch().$then(function(t){e.previousCourseName=t.name,e.isEditingCourseName=!1})):(this.model.name=this.previousCourseName,this.isEditingCourseName=!1)},t.prototype.enterCourseNameEditMode=function(){this.isEditingCourseName=this.canEditCourseName(),this.bbOffcanvas.safeFocus(e(".panel-header-title"))},t.prototype.showCompleteBanner=function(){return this.model.isComplete()&&this.isCourseOutline()&&!this.membership.isStudentOrGuestMembership()},t.prototype.canEditCourseName=function(){return this.model.permissions.editName},t.prototype.isClassicCourseReturnLink=function(e){return e.hasOwnProperty("classicLocation")||e.hasOwnProperty("customClassicLocation")},t.prototype.getClassicCourseReturnLink=function(e){var t,n,i,s,r=this.model.id,o=a.a.partnerCloudBasePath+"/tool-provider/providerContent",c=a.a.partnerCloudBasePath+"/course/tools",u=a.a.partnerCloudBasePath+"/content";if(angular.isDefined(e.customClassicLocation))i=g.s(e.customClassicLocation)?g.i(e.customClassicLocation)===g.j()?e.customClassicLocation:this.legacyUrl||this.model&&this.model.homePageUrl:e.customClassicLocation;else switch(e.classicLocation){case"contentMarket":i=o+"?provider_id="+(t=e.providerId)+"&course_id="+r+"&content_id="+(n=e.contentId);break;case"contentMarketTools":i=c+"?provider_id="+(t=e.providerId)+"&course_id="+r;break;case"outline":i="/webapps/blackboard/content/listContentEditable.jsp?content_id="+(n=e.contentId)+"&course_id="+r;break;case"needsGrading":i="/webapps/gradebook/do/instructor/viewNeedsGrading?course_id="+r;break;case"predict":i="/webapps/telemetry/predict/launch?course_id="+r+"&ischeckcookiereturn=true";break;case"partnerContent":t=e.providerId,n=e.contentId,i=(angular.isDefined(e.lti_errormsg)||angular.isDefined(e.lti_errorlog)?o:u)+"?provider_id="+t+"&course_id="+r+"&content_id="+n;break;case"partnerConfirmation":i=u+"/return?provider_id="+(t=e.providerId)+"&course_id="+r+"&content_id="+(n=e.contentId),i+=(s=e.itemIds)?"&itemIds="+s:"&root=true";break;default:i=this.legacyUrl||this.model&&this.model.homePageUrl}return i},t.prototype.syncIsPredictEnabledFlag=function(){var e=this;!this.canAccessGradebook||!a.a.features.organizationPredict&&this.model.isOrganization?(this.isPredictEnabled=!1,this.updateCourseToolButtonClass()):this.predictSystemSettingsService.getPredictSystemSettings().then(function(t){e.isPredictEnabled=e.membership.isStudentMembership()&&t.isStudentEnabled||!e.membership.isStudentMembership()&&t.isInstructorEnabled,e.updateCourseToolButtonClass()})},t.prototype.updateCourseToolButtonClass=function(){var e="columns-baseline",t=0;this.canViewCalendar&&t++,this.canAccessGradebook&&t++,this.canAccessAnalytics()&&t++,t>0&&(e="columns-plus-"+t),this.courseToolButtonClass=e},t.prototype.getPredictHref=function(){return this.membership.isStudentMembership()?"course.analytics.predict-student({ courseId: '"+this.model.id+"', studentId: '"+this.membership.userId+"'})":this.canAccessGradebook?"course.analytics.predict-instructor({ courseId: '"+this.model.id+"'})":""},t.prototype.getAnalyticsHref=function(){return this.canAccessAnalytics()?this.canAccessAnalyticsReports?"course.analytics.reports":this.isPredictEnabled?this.membership.isStudentMembership()?"course.analytics.predict-student({ courseId: '"+this.model.id+"', studentId: '"+this.membership.userId+"'})":this.canAccessGradebook?"course.analytics.predict-instructor({ courseId: '"+this.model.id+"'})":void 0:this.canViewGrades?"course.analytics.question-analysis":this.canAccessScormReports?"course.analytics.scorm-reports":"":""},t.prototype.getPredictTranslateAttrs=function(){return this.membership.isStudentMembership()?"{'aria-label': 'course.title.predictStudent', 'title': 'course.title.predictStudent'}":"{'aria-label': 'course.title.predictInstructor', 'title': 'course.title.predictInstructor'}"},t.prototype.isPredictActive=function(){return this.ultraState.includes("**.analytics.predict-student.**")||this.ultraState.includes("**.analytics.predict-instructor.**")},t.prototype.dismissAlertContainer=function(){this.showAlertContainer=!1,this.hasNewAddedItems=!1},t.prototype.wasCourseOpenedDirectly=function(e){return!e||!e.name},t.prototype.clearSavedCopyTasks=function(){this.contentCopy.clearCopyTasks()},t.prototype.canAccessAnalytics=function(){return this.canAccessScormReports||this.canViewGrades||null!==this.canAccessAnalyticsReports&&null!==this.isPredictEnabled&&(this.canAccessAnalyticsReports||this.isPredictEnabled)},t.prototype.initPreviewUrl=function(){var e=sessionStorage.getItem("PREVIEW_URL_"+this.model.id);e?(e=g.a(e,"inPreviewMode","true"),this.previewUrl=this.$sce.trustAsResourceUrl(e)):this.previewUrl=this.$sce.trustAsResourceUrl(g.c("/ultra/courses/"+this.model.id+"/outline/?inPreviewMode=true"))},t.prototype.initEntitlement=function(){var e=this;this.AnalyticsPermission.canAccessAnalyticsReports(this.model).then(function(t){e.canAccessAnalyticsReports=t,e.updateCourseToolButtonClass()}),this.EntitlementService.hasCourseEntitlement("course.gradebook.MODIFY",this.model.id).then(function(t){e.canAccessScormReports=t}),this.membership.isStudentMembership()?(this.canAccessGradebook=!0,this.canViewGrades=!1):(this.canAccessGradebook=this.EntitlementService.areAllEntitled(["course.gradebook-metadata.VIEW",S.w.ViewGroups],this.model.id),this.canViewGrades=this.EntitlementService.isEntitled("course.gradebook-grades.VIEW",this.model.id)),this.syncIsPredictEnabledFlag(),this.EntitlementService.hasCourseEntitlement("course.calendar.VIEW",this.model.id).then(function(t){e.canViewCalendar=t,e.updateCourseToolButtonClass()}),this.EntitlementService.hasCourseEntitlement("course.attendance.MODIFY",this.model.id).then(function(t){e.canModifyAttendance=t})},t.prototype.endStudentPreview=function(t){var n=this;this.entitlementCache.clearEntitlementCache(this.model.id),this.model.studentPreview.withParams({discardData:!1}).$destroy().$then(function(){n.entitlementCache.loadCourseEntitlements(n.model.id).then(function(){n.toast.show({messageKey:"course.outline.studentPreview.previewEnded",icon:"icon-check",toastStatus:"success"}),n.inPreview=!1,n.$rootScope.$broadcast("TOGGLE-PREVIEW",n.inPreview),e(window.document).find("body").removeClass("in-preview-mode-parent"),e(window.document).find("body").removeClass("has-footer-in-preview-mode"),t&&n.ultraState.goPeekState("course.grades",{courseId:n.model.id})})})},t.$inject=["$rootScope","$scope","$location","$http","$window","currentCourse","membership",s.b,d.o.serviceName,u.b,r.serviceName,o.e,v.d,h.b,b.b,p.b,f.b,"$sce",k.b,x.e,P.c],t}())}).call(this,n("EVdn"))},N8es:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-calendar",use:"icon-medium-calendar-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-calendar"><path d="M4 3H1v20h22V3h-3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M4 1h5v4H4zM15 1h5v4h-5z" /><path d="M1 9h22" stroke-width="2" /><path d="M5 14v-1h2v1H5zM11 14v-1h2v1h-2zM17 14v-1h2v1h-2zM5 19v-1h2v1H5zM11 19v-1h2v1h-2zM17 19v-1h2v1h-2zM9 3h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(r);e.exports=r},Pz5j:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n("IbG+"),s="ultra.directives.iframeLocationInterceptor",r=function(){function t(n){var i=this;this.$parse=n,this.restrict="A",this.link=function(n,s,r){var o=i.$parse(r.bbIframeLocationInterceptor),a=null,c=function(i){if(i&&i.target){var r=t.getElementLocation(e(i.target));if(r){var a=s.get(0).contentWindow;o(n,{event:i,location:new URL(r,a.location.href),preventDefault:i.preventDefault.bind(i)})}}}.bind(i);s.on("load",function(t){var i=s.get(0).contentWindow;a&&a.off("click",c),(a=e(i)).on("click",c),o(n,{event:t,location:i&&i.location,preventDefault:function(){}})}),n.$on("$destroy",function(){a&&a.off("click",c)})}}return t.getElementLocation=function(e){var t=(e.attr("onclick")||"").match(/document.location=['"](.*)['"];/);if(t&&!(t.length<2))return t[1]},t.$inject=["$parse"],t}();i.module(s,[]).directive("bbIframeLocationInterceptor",["$injector",function(e){return e.instantiate(r)}])}).call(this,n("EVdn"))},QSHA:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-grades",use:"icon-medium-grades-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-grades"><path d="M21 11V1H3v22h11M7 5h8M7 9h10M7 13h9M7 17h3M18 21v2l2-1 3-6-2-1-3 6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M19 21.2361l2.4472-4.8945.2112.1056-2.4038 4.8074L19 21.382v-.1459z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(r);e.exports=r},"hgV/":function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-grade",use:"icon-medium-grade-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-grade"><path d="M21 11V1H3v22h8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M17.5 12l1.2348 3.8004h3.996l-3.2328 2.3488 1.2348 3.8004L17.5 19.6008l-3.2328 2.3488 1.2348-3.8004-3.2328-2.3488h3.996L17.5 12zM7 5h8M7 9h10M7 13h3M7 17h2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(r);e.exports=r},"ogn+":function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",function(){return S}),n.d(t,"controllerName",function(){return x}),n.d(t,"templateProvider",function(){return P});n("1tuW"),n("XZwZ"),n("H4qw"),n("IlBk"),n("pWIa"),n("5C1M"),n("7SkM"),n("N8es"),n("ppcO"),n("hgV/"),n("QSHA"),n("MGIy"),n("v5QC"),n("q5SQ");var i=n("IbG+"),s=n("wSk3"),r=n("Fvsw"),o=n("EiA2"),a=n("zu5+"),c=n("r4Oz"),u=n("Pz5j"),l=n("pjml"),d=n("CPqS"),p=n("IVCC"),m=n("0Fb7"),h=n("3FFP"),b=n("BjFu"),v=n("1zDl"),g=n("+brj"),f=n("zEHu"),w=n("t4sX"),y=n("ZzYr"),C=n("3Lan");n.d(t,"courseTemplate",function(){return C});var k=n("+WzV");n.d(t,"classicCourseTemplate",function(){return k});var S="ultra.course",x=o.b,P=["currentCourse",function(e){return e.isUltra()?C:k}];i.module(S,["dibari.angular-ellipsis",s.a,r.a,c.a,a.a,u.a,l.R,d.a,h.b,b.a,m.a,p.a,v.a,v.a,g.b,f.a,w.a,y.a]).controller(o.b,o.a)},ppcO:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-courses",use:"icon-medium-courses-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-courses"><path d="M8 5v18M21 1H3v22h18V5H3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M19 1v4" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 11h5v3h-5z" /></symbol>'});s.add(r);e.exports=r},r4Oz:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n("IbG+"),s="ultra.directives.accessibility.iframeEventRepeater",r=function(){this.restrict="A",this.link=function(t,n,i){if("IFRAME"!==n[0].tagName)throw'Directive "bb-iframe-event-repeater" is only available on <iframe>';var s=i.bbIframeEventRepeater.split(/\s*,\s*/);n.on("load",function(t){var i=e(t.target);if(i.attr("src")){var r=i[0].contentWindow;s.forEach(function(t){r.addEventListener(t,function(t){n.trigger(e.Event(t.type,t))})})}})}};i.module(s,[]).directive("bbIframeEventRepeater",["$injector",function(e){return e.instantiate(r)}])}).call(this,n("EVdn"))},t4sX:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var i=n("mrSG"),s=(n("20Gm"),n("yC9S")),r=(n("ERjl"),n("12mu")),o=n("TnpK"),a=n("pjml"),c=n("2sqL"),u=n("lEL+"),l=n("Qbdf"),d=n("0JpG"),p=n("x+T+"),m=n("hkqm"),h=n("018c"),b=n("fYJU"),v=n("aHpC"),g="ultra.components.directives.studentPreview";!function(){function t(t,n,i,s,r,o,a,c,u,l,d,p){var m=this;this.$scope=t,this.$rootScope=n,this.modalService=i,this.ultraState=s,this.timeout=r,this.studentPreviewModel=o,this.contextCourse=a,this.bbLocalize=c,this.courseModel=u,this.toast=l,this.entitlementCache=d,this.contextUser=p,this.inPreview=!1,this.courseId=this.contextCourse.courseId,this.userId=this.contextUser.userId,this.studentPreviewScope=this.$scope.$new(!0),this.$rootScope.$on("EXIT-PREVIEW",function(e,t){m.endStudentPreview(t)}),this.courseModel.$new(this.courseId).studentPreview.$fetch().$then(function(t){t.previewing?(m.inPreview=!0,e(window.parent.document).find("body").addClass("in-preview-mode-parent")):e(window.parent.document).find("body").removeClass("in-preview-mode-parent")})}t.prototype.$onInit=function(){},t.prototype.togglePreview=function(){this.inPreview?this.endStudentPreview(!1):this.showFirstTimeConfirmationModal()},t.prototype.showFirstTimeConfirmationModal=function(){var t=this,n=this.$rootScope.$new(),i=this.modalService.open({scope:n,template:c});n.startPreview=function(){i.dismiss(),t.timeout(function(){t.startStudentPreview()},t.$scope,0)},e(window.document).find("body").addClass("dialog-pop-up-in-preview-mode")},t.prototype.startStudentPreview=function(){var t=this;this.courseModel.$new(this.courseId).studentPreview.$save().$then(function(){t.inPreview=!0,t.$rootScope.$broadcast("TOGGLE-PREVIEW",t.inPreview),e(window.parent.document).find("body").addClass("in-preview-mode-parent")})},t.prototype.endStudentPreview=function(t){var n=this;this.entitlementCache.clearEntitlementCache(this.courseId),this.courseModel.$new(this.courseId).studentPreview.withParams({discardData:!1}).$destroy().$then(function(){n.entitlementCache.loadCourseEntitlements(n.courseId).then(function(){n.toast.show({messageKey:"components.directives.studentPreviewDirective.previewEnded",icon:"icon-check",toastStatus:"success"}),n.inPreview=!1,n.$rootScope.$broadcast("TOGGLE-PREVIEW",n.inPreview),e(window.parent.document).find("body").removeClass("in-preview-mode-parent"),e(window.parent.document).find("body").removeClass("has-footer-in-preview-mode"),t&&n.ultraState.goPeekState("course.grades",{courseId:n.courseId})})})},t=i.__decorate([Object(s.a)({moduleName:g,componentName:"bbStudentPreview",template:h}),i.__param(0,Object(v.b)("$scope")),i.__param(1,Object(v.b)("$rootScope")),i.__param(2,Object(v.b)(r.b)),i.__param(3,Object(v.b)(o.d)),i.__param(4,Object(v.b)(u.b)),i.__param(5,Object(v.b)(a.ub.serviceName)),i.__param(6,Object(v.b)(l.e)),i.__param(7,Object(v.b)(d.serviceName)),i.__param(8,Object(v.b)(a.o.serviceName)),i.__param(9,Object(v.b)(m.b)),i.__param(10,Object(v.b)(p.c)),i.__param(11,Object(v.b)(b.b))],t)}()}).call(this,n("EVdn"))},uKDm:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-beast-analytics",use:"icon-medium-beast-analytics-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-beast-analytics"><path d="M12 23c6.0751 0 11-4.9249 11-11S18.0751 1 12 1 1 5.9249 1 12s4.9249 11 11 11z" stroke-width="2" stroke-miterlimit="10" /><path d="M15.3 1.1L12 12l10.3-4.9M12 12l8.3 8" stroke-width="2" stroke-miterlimit="10" stroke-linejoin="round" /></symbol>'});s.add(r);e.exports=r},v5QC:function(e,t,n){var i=n("4BeY"),s=n("IaFt"),r=new i({id:"icon-medium-search",use:"icon-medium-search-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-search"><g clip-path="url(#icon-medium-search_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="10" cy="10" r="9" /><path d="M17 17l6 6" /></g><defs><clipPath id="icon-medium-search_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});s.add(r);e.exports=r},wSk3:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=n("mrSG"),s=(n("M8gh"),n("IbG+")),r="ultra.components.services.analyticsPermission",o="analyticsPermission",a=function(){function e(e){this.$q=e}return e.prototype.canAccessAnalyticsReports=function(e){return e.tools.$resolve().$allow(["403"]).$asPromise().then(function(){var t=e.tools.getToolById("bb-learn-analytics-course-student-tool"),n=e.tools.getToolById("bb-learn-analytics-course-instructor-tool"),i=!!n&&n.toolEnabledSetting.isAvailable,s=!!t&&t.toolEnabledSetting.isAvailable;return i||s})},e.$inject=["$q"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}i.__extends(t,e)}(a);s.module(r,[]).service(o,a)},zEHu:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("IbG+"),s=n("jhBu"),r="ultra.components.directives.courseEntitlement",o=function(){function e(e,t){var n=this;this.$entitlementService=e,this.ngIfDirective=t,this.scope={bbCourseEntitlement:"@",courseId:"@",entitlementAction:"@",showContents:"@"},this.restrict=this.ngIfDirective[0].restrict,this.priority=this.ngIfDirective[0].priority,this.transclude=this.ngIfDirective[0].transclude,this.terminal=this.ngIfDirective[0].terminal,this.link=function(e,t,i,s,r){i.ngIf="::showContents",n.ngIfDirective[0].compile(t,i,void 0)(e,t,i,s,r);var o,a=!0;if(e.entitlementAction&&"hide"===e.entitlementAction.toLowerCase()&&(a=!1),!e.bbCourseEntitlement)throw e.showContents=!1,new Error("No entitlementUid has been provided");o=e.bbCourseEntitlement;var c=e.$parent.$watch(e.courseId,function(t){t&&(n.$entitlementService.hasCourseEntitlement(o,t).then(function(t){e.showContents=a===t},function(t){e.showContents=!1}),c())})}}return e.$inject=[s.b,"ngIfDirective","$parse"],e}();i.module(r,[s.a]).directive("bbCourseEntitlement",["$injector",function(e){return e.instantiate(o)}])},"zu5+":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("IbG+"),s=n("0+Qs"),r=n("yC9S"),o="ultra.directives.iframeMaxHeight",a=function(){function e(e,t){var n=this;this.$window=e,this.interval=t,this.restrict="A",this.scope={hideBodyScroll:"=?"},this.link=function(e,t){var s,o=i.element(n.$window),a=n.$window;t.load(function(){try{t.contents().find("body").css("padding-top","0"),e.hideBodyScroll&&(i.element("body").css("overflow","hidden"),i.element("body").scrollTop(0))}catch(e){}n.interval(function(){u(c())},e,500,0,!1)}),u(c());function c(){var e=a.innerHeight,t=o.height();return e&&e>t?e:t}function u(e){e,s||(s=t.offset().top);var n=e-s;t.css("height",n+"px"),t.parent().css("height",n+"px")}r.b.OnWindow("resize",function(){u(c())},e),e.$on("$destroy",function(){e.hideBodyScroll&&i.element("body").css("overflow","")})}}return e.$inject=["$window",s.b],e}();i.module(o,[s.a]).directive("bbIframeMaxHeight",["$injector",function(e){return e.instantiate(a)}])}}]);