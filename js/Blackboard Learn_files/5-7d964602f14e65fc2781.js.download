(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+oAF":function(e,t){e.exports='<bb-modal class="notification proctoring-modal" analytics-id-tag-prefix="components.services.proctoring">\n  <div name="modal-contents">\n    <p bb-translate>{{::requirementsText}}</p>\n    <p ng-bind-html="::downloadText"></p>\n    <p bb-translate>{{::browserText}}</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          role="button"\n          class="button js-primary-button proctoring-modal-button"\n          ng-click="$parent.$dismiss()"\n          bb-translate-attrs="{\'aria-label\':\'components.services.proctoring.modal.continue\'}"\n          analytics-id="components.services.proctoring.modal.continue.button"\n  >\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n    <bb-translate>components.services.proctoring.modal.continue</bb-translate>\n  </button>\n</bb-modal>\n'},"/orb":function(e,t){e.exports='<div>\n  <div class="name">\n    <ng-switch on="::content.getContentDisplay().linkAction()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <div ng-switch-when="contenturl">\n        \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.markCompleted()"\n            ng-href="{{content.getContentDisplay().contentUrl()}}" target="_blank" rel="noopener noreferrer" class="content-title"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="ltilaunch">\n        <bb-content-item-ltilaunch></bb-content-item-ltilaunch>\n      </div>\n      <div ng-switch-when="scormlaunch">\n        <bb-content-item-scormlaunch></bb-content-item-scormlaunch>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-agn-link">\n        \x3c!-- open  edit page when an instructor(=entitledToDesignAssessment) is accessing an assignment in a complete course. page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           bb-peek-sref="gradebook-item.assignment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\' })"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment"\n           bb-peek-sref="assignment.view({assignmentId:content.id})" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           class="content-title"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.readOnly.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-assignment">\n        <a bb-peek-sref="assignment.view({assignmentId:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.assignment.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-document">\n        <a bb-peek-sref="content-manage.edit.document({id:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.document.link"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-page">\n        <bb-content-item-page></bb-content-item-page>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-test-link">\n        \x3c!-- open edit page when an instructor(=entitledToDesignAssessment) is accessing content. In a complete course, page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment" class="content-title"\n           bb-peek-sref="gradebook-item.assessment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\',\n                                 assessmentType: \'test\'})"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment" href="javascript:void(0);"\n           ng-click="contentItemBase.openAssessmentItem()" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.readOnly.link"><span>{{ content.title }}</span></a>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink" bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n         analytics-id="content.item.courses.outline.gradebook.item.forum.link"><span>{{ content.title }}</span></a>\n      <div ng-switch-when="resource/x-bb-courselink">\n        <bb-course-link-item content="content" target-content="contentItemBase.targetContent" prefix="\'course.outline\'"/>\n      </div>\n      <a ng-switch-when="resource/x-bb-journallink" bb-peek-sref="journal.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="activity-indicator-{{::content.id}}"\n         analytics-id="content.item.courses.outline.journal.link"><span>{{ content.title }}</span></a>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator" status="active"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span>{{content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: "m": this }}</span>\n    </span>\n    <span ng-if="contentItemCourseOutline.getExtraRequirementsSummary() !== null">\n      <span class="vertical-bar"></span>\n      <span bb-translate class="js-extra-requirements">{{::contentItemCourseOutline.getExtraRequirementsSummary()}}</span>\n    </span>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true"\n          class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span>{{content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: "m": this }}</span>\n    </span>\n    <span ng-if="contentItemCourseOutline.getExtraRequirementsSummary() !== null">\n      <span class="vertical-bar"></span>\n      <span bb-translate class="js-extra-requirements">{{::contentItemCourseOutline.getExtraRequirementsSummary()}}</span>\n    </span>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="guidance-wrapper">\n      <div class="group-name">\n        <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n        <span class="group-target-guided" bb-guidance-target component-key="contentGroupInfo" is-need-exclude="true"\n              ng-if="!contentItemBase.contextCourse.course.isComplete()">\n        </span>\n        <a ng-if="contentItemBase.hasViewGroupsAsAdmin" \n           class="js-groups-link" \n           href="javascript:void(0);" \n           ng-click="contentItemBase.editGroups()"\n           analytics-id="content.item.course.outline.contentItemBase.editGroups.link">\n          <bb-group-count content="content"></bb-group-count>\n        </a>\n        <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="js-groups-link">\n          <bb-group-count content="content"></bb-group-count>\n        </span>\n        <div ng-if="!(contentItemBase.canViewGroups || contentItemBase.hasViewGroupsAsAdmin)" class="student-group-enrollment">\n          <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n        </div>\n        \x3c!-- For complete course, will not show this guidance: LRN-107718 --\x3e\n        <span>\n          <bb-guidance ng-if="!contentItemBase.contextCourse.course.isComplete() && !contentItemBase.entitledToDesignAssessment" component-key="contentGroupInfo"\n                       class="guidance-element-group guidance-is-empty-student guidance-element-overlay push-left">\n            <span bb-translate="{{::contentItemCourseOutline.groupAssessmentFtueKey}}" translate-values="{title: contentItemCourseOutline.customCategory}"></span>\n          </bb-guidance>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    tabindex="0"\n    class="lock-info"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    open-panel-on-restricted="true"\n                                    enable-conditional-release="content.canAccessAdaptiveRelease()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control"\n       ng-class="{\'conditional-release-control-for-complete-course\': contentItemCourseOutline.isCourseCompletedAndInInstructorView()}">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemCourseOutline.canOpenConditionalRelease && contentItemCourseOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-disable-on-mouse-over="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-open-on-activation="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}.link">\n        <span bb-translate="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}"></span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},"0c8s":function(e,t){e.exports='<div bb-load-bundle="components/directives/content-item-base" class="base-content-item" bb-cache-compilation="content-item-base">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" bb-click-to-invoke-child=".content-title">\n    <div ng-switch on="content.ui.importPlaceholder">\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n      <div ng-switch-default class="row drag-element-row" ng-class="{\n        \'is-restricted\': content.canViewAsInstructor() && content.isHiddenFromStudents(),\n        \'hidden-from-student-cr\': content.canViewAsInstructor() && content.isConditionalReleaseWithHiddenFromStudent(),\n        \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canViewAsInstructor()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n              <ng-switch on="content.ui.isUploading">\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n\n                <div class="outline-item-inner" ng-switch-default>\n                  <div class="element-image" ng-if="contentItemBase.isGradeLoaded" bb-content-item-icon="content" show-alert-icon="contentItemBase.shouldShowAlertIcon()">\n                  </div>\n                  <div class="element-details">\n                    <div ng-if="shouldShowContent">\n                      <bb-content-item-course-outline ng-if="!contentItemBase.isEngagementOutline()"></bb-content-item-course-outline>\n                      <bb-content-item-engagement-outline ng-if="contentItemBase.isEngagementOutline()"></bb-content-item-engagement-outline>\n                    </div>\n                    <div ng-if="!contentItemBase.shouldShowContent">\n                      {{contentItemBase.overrideMessage}}\n                    </div>\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n          <div ng-if="content.id" class="item-controls">\n            \x3c!-- Show this if the user has edit permissions on the content and it is movable //--\x3e\n            <button bb-drag-handle \n                    drag-item-id="{{content.id}}" \n                    drag-item-name="{{content.title}}"\n                    drag-item-type="{{contentItemBase.contentHandler}}"\n                    drag-item-context="{{contextArea}}" \n                    class="super-clear small button icon js-drag-handle" \n                    ng-if="canMove && content.canEdit() && !content.isInForcedSequenceModule()"\n                    translate-attrs-values="{contentTitle: content.title}"\n                    bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                    analytics-id="content.item.base.move.button"\n                    >\n\n              <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n            </button>\n            \x3c!-- Show this if the user has edit or delete permissions //--\x3e\n            <div class="right" bb-foundation-defer>\n              <bb-ally-content-ref\n                ng-if="contentItemBase.canShowAlly"\n                content-id="{{content.id}}"\n                file-id="{{::contentItemBase.allyService.getXythosIdFromContentItem(content)}}"\n                file-preview-url="{{::content.getContentDisplay().contentUrl()}}"\n              ></bb-ally-content-ref>\n              <bb-overflow-menu ng-show="contentItemBase.showOverflowMenu()"\n                                element-id="{{content.id}}"\n                                element-name="{{content.title}}"\n                                menu-items="contentItemBase.getOverflowMenu()"\n                                on-menu-toggle="contentItemBase.updateAlly()"\n                                analytics-id-tag-prefix="components.directives.content-item-base.overflowMenu">\n              </bb-overflow-menu>\n            </div>\n          </div>\n        </div>\n        <div ng-if="contentItemBase.getDescription()" class="content-item-description">\n          <p class="js-description" ng-bind="contentItemBase.getDescription()"></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},"0lMW":function(e,t,n){},"0oSe":function(e,t){e.exports='<bb-modal id="remove-fs-confirmation-modal" class="notification js-dismiss-modal" role="alertdialog" bb-translate-attrs="{\'aria-label\': \'course.conditionalRelease.removeFSModal.title\'}"\n          modal-title-key="course.conditionalRelease.removeFSModal.title"\n          analytics-id-tag-prefix="course.conditionalRelease.removeFSModal">\n  <div name="modal-contents">\n    <p bb-translate course-org-token-resolver>course.conditionalRelease.removeFSModal.instructions</p>\n  </div>\n  <button name="modal-footer-button-primary" \n          class="button js-primary-button" \n          ng-click="$parent.$close()" \n          bb-translate\n          analytics-id="global.remove">\n    global.remove\n  </button>\n  <button name="modal-footer-button-secondary" \n          class="button button--secondary js-secondary-button" \n          ng-click="$parent.$dismiss()" \n          bb-translate\n          analytics-id="global.cancel">\n    global.cancel\n  </button>\n</bb-modal>\n'},"0rzL":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("mrSG"),i=(n("eWdw"),n("IbG+")),s=n("pjml"),a=n("dJ97"),r=n("oSB+"),c=n.n(r),l=n("Bu0u"),d=n("qf7K"),u="ultra.components.directives.submissionCard",p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.ATTEMPT=new t("ATTEMPT"),t.GRADE=new t("GRADE"),t.INFO=new t("INFO"),t}(c.a),m=function(){function e(e){if(this.scope=e,!e.gradingColumn&&!e.gradeDetail)throw new l.a({message:"gradingColumn or gradeDetail must be provided."});if(this.scope.gradeDetail&&!this.scope.gradeDetail.column)throw new l.a({message:"gradeDetail.column must be provided to display attempt mode."});var t,n;switch(this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)&&(this.attempt=this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt,this.currentGradeStatus=this.scope.gradeDetail.ui.attempt.status),(!e.gradeDetail||e.gradeDetail&&!this.attempt)&&e.gradingColumn?this.scope.mode=p.INFO:e.gradeDetail&&this.attempt&&(this.scope.mode=p.ATTEMPT,this.scope.gradingColumn=this.scope.gradeDetail.column),e.iconClass=s.r.ContentHandler.UltraAssignment.iconClass,this.showLate=(!e.showLate||e.showLate())&&e.gradingColumn.isLate(),!this.showLate||!this.scope.gradingColumn.isLate()||e.gradeDetail&&this.attempt&&!this.attempt.isInProgress()||(e.isLate=!0,e.iconClass+="-a"),e.mode){case p.INFO:n=e.gradingColumn.dueDate?"DUE":"NO_DUE_DATE",t=this.showLate&&e.gradingColumn.isLate()?"UNOPENED_LATE":"UNOPENED";break;case p.ATTEMPT:n=this.attempt.status.toString(),e.hasAttempt=!0,t=s.C.AttemptStatus.InProgress.isEqualTo(this.attempt.status)&&this.showLate&&e.gradingColumn.isLate()?"SUBMISSION_LATE":"SUBMISSION";break;case p.GRADE:}e.status="components.directives.submission-card.attemptStatus."+n,e.title="components.directives.submission-card.title."+t}return e.prototype.shouldExpandForRubricIcon=function(){return(this.scope.showRubricButton&&this.scope.showRubricButton()||this.scope.showRubricDiv&&this.scope.showRubricDiv())&&this.scope.gradingColumn.hasRubricAssociation&&this.scope.gradingColumn.hasRubricAssociation()},e.$inject=["scope"],e}(),h=function(){function e(e){var t=this;this.$injector=e,this.restrict="AE",this.template=d,this.scope={gradeDetail:"=?",gradingColumn:"=?",inline:"@?",clickable:"=?",showLate:"&?",showRubricButton:"&?",showRubricDiv:"&?"},this.link=function(e){e.submissionCard=t.$injector.instantiate(m,{scope:e})}}return e.$inject=["$injector"],e}();i.module(u,[a.a]).directive("bbSubmissionCard",["$injector",function(e){return e.instantiate(h)}])},"1/hr":function(e,t,n){},"11+n":function(e,t,n){e.exports=n("ZJ/X")(1949)},"1ZbL":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("mrSG"),i=n("5MwF"),s=n("LvDl"),a=n("q1tI"),r=n("i8i4"),c=n("0JpG"),l=n("J8LU"),d=n("aJI9"),u=function(){function e(){this.__isFirstRender=!0,this.state={},this.props={}}return e.prototype.$onChanges=function(e){var t=this.props,n=Object(s.mapValues)(e,"currentValue"),o=Object(s.assign)({},this.props,n);if(this.__isFirstRender)Object(s.assign)(this,{props:o}),this.componentWillMount(),this.render(),this.__isFirstRender=!1;else{if(!this.didPropsChange(n,t))return;this.componentWillReceiveProps(o);var i=this.shouldComponentUpdate(o,this.state);if(Object(s.assign)(this,{props:o}),!i)return;this.componentWillUpdate(this.props,this.state),this.render(),this.componentDidUpdate(this.props,this.state)}},e.prototype.$postLink=function(){this.componentDidMount()},e.prototype.$onDestroy=function(){this.componentWillUnmount()},e.prototype.didPropsChange=function(e,t){return Object(s.some)(e,function(e,n){return e!==t[n]})},e.prototype.componentWillMount=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillReceiveProps=function(e){},e.prototype.shouldComponentUpdate=function(e,t){return!0},e.prototype.componentWillUpdate=function(e,t){},e.prototype.componentDidUpdate=function(e,t){},e.prototype.componentWillUnmount=function(){},e.prototype.render=function(){},e}();function p(e,t,n,p,m){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===p&&(p=!1),void 0===m&&(m=null);var h=t||e.propTypes&&Object.keys(e.propTypes)||[],b=m||[];return p&&(-1===n.indexOf("$scope")&&n.push("$scope"),-1===n.indexOf(c.serviceName)&&n.push(c.serviceName)),{bindings:o.__assign({},Object(s.fromPairs)(h.map(function(e){return[e,"<"]})),Object(s.fromPairs)(b.map(function(e){return[e,"@"]}))),controller:["$element"].concat(n,[function(t){function s(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=t.call(this)||this;return s.$element=e,s.injectedProps={},n.forEach(function(e,t){s.injectedProps[e]=o[t]}),s}return o.__extends(s,t),s.prototype.render=function(){var t=a.createElement(e,o.__assign({},this.injectedProps,this.props),null);if(p)return this.renderLocalized(t);Object(r.render)(t,this.$element[0])},s.prototype.renderLocalized=function(e){var t=this.injectedProps[c.serviceName],n={locale:t.getLocale(this.injectedProps.$scope),babelfishInstance:t.intl,babelfishFormatInstance:t.frmt};i.a.unitTesting&&(n.mockLocalize=Object(d.getLocalizeMock)()),Object(r.render)(a.createElement(l.Locale,n,e),this.$element[0])},s.prototype.componentWillUnmount=function(){Object(r.unmountComponentAtNode)(this.$element[0])},s}(u)])}}},"2a+M":function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return p});var o=n("mrSG"),i=n("LvDl"),s=n("IbG+"),a=n("oSB+"),r=n.n(a),c=n("0JpG"),l="ultra.services.dragDrop",d="dragDropService",u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.TOP=new t("TOP"),t.BOTTOM=new t("BOTTOM"),t.FOLDER=new t("FOLDER"),t.SELF=new t("SELF"),t}(r.a),p=function(){function t(e,t){var n=this;this.$timeout=e,this.bbLocalize=t,this.dragHoverClass="dz-drag-hover",this.dragElementSelector=".drag-element",this.onFolderClass="on-folder",this.onNestedFolderClass="on-nested-folder",this.originalElementClass="drag-element-original",this.movableElementClass="drag-element-movable",this.queuedScreenReaderMessages="",this.bbLocalize.loadBundle("components/services/drag-drop").then(function(){n.folderDepthMessageKey="components.services.drag-drop.folderDepthMessage"})}return t.prototype.createDropPlaceholderElement=function(t){this.dropPlaceholderElement=e('<div class="dragdropplaceholder js-no-file-drop" style="height: '+t.height()+"px; width: "+t.width()+'px"></div>')},t.prototype.setDropTarget=function(e){this.lastDropTargetId=this.currentDropTargetId,this.currentDropTargetId=e},t.prototype.clearDropTarget=function(){this.setDropTarget(void 0)},t.prototype.isCurrentDropTarget=function(e){return this.currentDropTargetId===e},t.prototype.isNotSameDropTarget=function(){return this.currentDropTargetId!==this.lastDropTargetId},t.prototype.scrollDragDropItemsContainer=function(e,n){var o=this._getScrollingContainerElement();if(o){var i=e<t.SCROLLING_CONSTANTS.scrollZoneHeight,s=e>o.height()-t.SCROLLING_CONSTANTS.scrollZoneHeight,a=o.scrollTop();i?o.scrollTop(a-n):s&&o.scrollTop(a+n)}},t.prototype._getScrollingContainerElement=function(){var e=this,n=t.SCROLL_CONTAINERS_SELECTORS.map(function(t){return e.originalElement.closest(t)});return i.find(n,function(t){return e._elementHasScrollbar(t)})},t.prototype._elementHasScrollbar=function(e){return e.get(0).scrollHeight>e.innerHeight()},t.SCROLLING_CONSTANTS={scrollZoneHeight:200,mouseInteractionDistanceToScroll:30,keyboardInteractionDistanceToScroll:200},t.SCROLL_CONTAINERS_SELECTORS=[".panel-wrap",".panel-content"],t.$inject=["$timeout",c.serviceName],t}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o.__extends(t,e)}(p);s.module(l,[c.moduleName]).service(d,p)}).call(this,n("EVdn"))},"2sMu":function(e,t){e.exports='<div class="content-wrapper" ng-class="{\'nocontent\': !content.canViewAsInstructor()}">\n  <ng-switch on="content.getContentDisplay().viewHandler()">\n    <div ng-switch-when="resource/x-bb-folder" class="engagement-folder">\n      <bb-content-item-folder></bb-content-item-folder>\n    </div>\n    <a ng-switch-when="resource/x-bb-forumlink" \n       bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n       bb-prevent-click-if="content.isConditionalReleaseLocked()" \n       ng-attr-tabindex="{{ content.isConditionalReleaseLocked() ? -1 : 0 }}"\n       class="content-title name" \n       draggable="{{canMove}}"\n       analytics-id="content.item.engagement.outline.forumLink.link"\n    >\n      <span>{{ content.title }}</span>\n    </a>\n    <div ng-switch-default class="content-title">{{ content.title }}</div>\n  </ng-switch>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="group-name">\n      <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n      <a href="javascript:void(0);" \n         ng-if="contentItemBase.hasViewGroupsAsAdmin" \n         ng-click="contentItemBase.editGroups()"\n         analytics-id="content.item.engagement.outline.contentItemBase.editGroups.link"\n      >\n        <bb-group-count content="content"></bb-group-count>\n      </a>\n      <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin">\n        <bb-group-count content="content"></bb-group-count>\n      </span>\n      <div ng-if="!contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="title">\n        <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    class="lock-info"\n    tabindex="0"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    open-panel-on-restricted="true"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemEngagementOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}.link">\n        <span bb-translate="components.directives.content-item-base.conditionalRelease.{{contentItemBase.conditionalRelease.conditionType}}"></span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},"4gA4":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-content-market",use:"icon-small-content-market-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-market"><path d="M2 2h13l-1 8H4" stroke-width="2" stroke-linejoin="round" /><circle cx="13" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="4" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 6h11.5M7 2v8M11 2v8M1 1h1l2 12h9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"5C1M":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-discussion",use:"icon-medium-discussion-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-discussion"><path d="M8 21.4025a10.4446 10.4446 0 0 1-1.75-.8072L1 22l1.4318-5.2034C1.5217 15.2417 1 13.4318 1 11.5 1 5.701 5.701 1 11.5 1c4.5718 0 8.4611 2.9218 9.9025 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M9 16c0 3.866 3.134 7 7 7 1.3878 0 2.6812-.3803 3.7692-1.0769L23 23l-1.0769-3.2308C22.6197 18.6812 23 17.3878 23 16c0-3.866-3.134-7-7-7s-7 3.134-7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="13" cy="16" r=".5" /><circle cx="16" cy="16" r=".5" /><circle cx="19" cy="16" r=".5" /></symbol>'});i.add(s);e.exports=s},"5PLe":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-documents",use:"icon-small-documents-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-documents"><path d="M1 4h7.0084L11 7v8H1V4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8.0005 4v3h3.0015M4 8h1M4 11h3.9722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 1h11v12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"5Tom":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m});var o=n("mrSG"),i=(n("JfeD"),n("nYZ0")),s=n("fYJU"),a=n("0JpG"),r=n("TnpK"),c=n("hvVM"),l=n("DvyB"),d=n("yC9S"),u=n("aHpC"),p="ultra.directives.group.group-student-enrollment",m=function(){function e(e,t,n,o,i){this.scope=e,this.contentService=t,this.currentUserService=n,this.localize=o,this.ultraState=i,this.isSelfEnrollment=!1}return e.prototype.$onInit=function(){this.render()},e.prototype.render=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,n,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0?(e=this.localize.getReactBabelfishParams(),t=e.locale,n=e.babelfishFormatter,i=this.content.selfEnrollmentGroups.filter(function(e){return e.group}).map(function(e){return e.group}),s=this,[4,l.getSelfEnrollmentGroupInfo(i,t,n)]):[3,2];case 1:return s.selfEnrollGroupInfo=o.sent(),this.isSelfEnrollment=this.selfEnrollGroupInfo.isSelfEnrollment,[3,3];case 2:this.isSelfEnrollment=!1,o.label=3;case 3:return[2]}})})},e.prototype.openContentEnrollPanel=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.fromView?this.ultraState.current.name.endsWith("discussion.view.with-grading.peek.discussion-details")?[4,this.ultraState.leavePeekState()]:[3,4]:[3,8];case 1:return e.sent(),[4,this.ultraState.leavePeekState()];case 2:return e.sent(),[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})];case 3:return e.sent(),[3,7];case 4:return[4,this.ultraState.leavePeekState()];case 5:return e.sent(),[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})];case 6:e.sent(),e.label=7;case 7:return[3,10];case 8:return[4,this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id})];case 9:e.sent(),e.label=10;case 10:return[2]}})})},e.prototype.isBeforeEnrollment=function(){return this.selfEnrollGroupInfo&&"Before"===this.selfEnrollGroupInfo.enrollmentDateState},e.prototype.isOpenEnrollment=function(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState},e.prototype.isOpenEnrollmentWithEnding=function(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState&&null!=this.selfEnrollGroupInfo.relativeDate},e.prototype.isAfterEnrollment=function(){return this.selfEnrollGroupInfo&&"After"===this.selfEnrollGroupInfo.enrollmentDateState},e=o.__decorate([Object(d.a)({moduleName:p,componentName:"bbGroupStudentEnrollment",template:c,bindings:{content:"<",fromView:"@"},requireModules:[i.c,s.a,a.moduleName,r.b]}),o.__param(0,Object(u.b)("$scope")),o.__param(1,Object(u.b)(i.d)),o.__param(2,Object(u.b)(s.b)),o.__param(3,Object(u.b)(a.serviceName)),o.__param(4,Object(u.b)(r.d))],e)}()},"5Xie":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-activity-indicator",use:"icon-small-activity-indicator-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-activity-indicator"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 0 1-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="2" stroke-width="4" /></symbol>'});i.add(s);e.exports=s},"5eHd":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-add-plus",use:"icon-small-add-plus-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add-plus"><path d="M8 5v6M11 8H5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"5koT":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-time",use:"icon-medium-time-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-time"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12 5v7l4 4M10 14l-3 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"7BzJ":function(e,t,n){},"9K4n":function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-forumlink" class="content-title"\n     bb-peek-sref="discussion.view.with-grading({contentId:\'{{targetContent.id}}\'})"\n     bb-prevent-click-if="targetContent.isConditionalReleaseLocked()" \n     aria-describedby="{{ariaDescribedBy}}"\n     analytics-id="course.link.item.forumLink.link"><span>{{ content.title }}</span></a>\n  <div ng-switch-default class="content-title">{{ content.title }}</div>\n</ng-switch>'},"C/Xi":function(e,t){e.exports='<div ng-if="::addContentButton.isCloudServiceAvailable">\n  <bb-file-upload\n    allow-multiple="true"\n    monitor-leave="true"\n    target-div="{{\'#\' + fileListViewId}}"\n    hide-transclude-during-upload="false"\n    click-enabled="false"\n    primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n    skip-zip-file-check="true"\n    disable-drag="true"\n    is-third-party-upload="true"\n    third-party-download-handler="addContentButton.downloadFile"\n    ignored-states="::ignoredStates()">\n    <button ng-click="addContentButton.assignPosition()"\n            class="doc-add-media clear ng-scope"\n            bb-kloudless\n            primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n            attach-handler="addContentButton.cloudUploadAttachHandler"\n            web-location="{{webLocation}}"\n            file-location="{{fileLocation}}"\n            allow-multiple="true"\n            on-files-selected="addContentButton.onFilesSelectedHandler"\n            analytics-id="components.directives.add-content-button.cloud-upload.button">\n      <div class="import-action-header">\n        <i class="icon-cloud add-content-cloud-upload-icon"></i>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n        <div class="action-details" bb-translate="components.directives.add-content-button.importContentFromCloudStorage.description"></div>\n      </div>\n    </button>\n  </bb-file-upload>\n</div>'},CNuu:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-duplicate",use:"icon-small-duplicate-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-duplicate"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1 4h11v11H1z" /><path d="M12 12h3V1H4v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"D8d/":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var o=n("IbG+"),i=n("0JpG"),s=n("A+IJ"),a=n("e7Kn"),r=n("2a+M"),c=n("pjml"),l=n("lEL+"),d=n("GbAM"),u="ultra.components.directives.bbDropHandler",p=function(){function t(e,t,n,o,i,s,a){var c=this;this.scope=e,this.element=t,this.attrs=n,this.$rootScope=o,this.timeout=i,this.dragDropService=s,this.bbLocalizeService=a,this.isDraggingOverFolder=!1,this.isEmptyTarget="emptyTarget"in n,this.dropTargetElement=t.closest(this.dragDropService.dragElementSelector),e.$on("bb-drag-move",function(){if(c.isEnabledForReordering()&&c.isNotSameDropTarget()&&c.isOnSamePanel()){var e=t.offset(),n=t.height()+e.top,o=t.width()+e.left;c.dragDropService.pointerPosition.left>=e.left&&c.dragDropService.pointerPosition.left<=o&&c.dragDropService.pointerPosition.top>=e.top&&c.dragDropService.pointerPosition.top<=n?c.dragOverFunc(c.dragDropService.pointerPosition.top):c.dragLeaveFunc()}}),e.$on("bb-drag-end",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&c.isOnSamePanel()&&c.dropHandlerFunc()}),t.on("drop",function(t){t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length>0&&e.onFileDropHandler&&e.onFileDropHandler()(t.originalEvent.dataTransfer.files,e.content())}),e.$on("bb-drag-cancel",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&c.isOnSamePanel()&&(e.content().id===c.dragDropService.currentDragId&&(c.dragDropService.positionBefore=e.content().id),c.dropHandlerFunc())}),e.$on("keyboard-drag-start",function(){c.isEnabledForReordering()&&e.content().id===c.dragDropService.currentDragId&&(c.dragPosition=r.b.SELF,c.dragDropService.originalElement=t.closest(c.dragDropService.dragElementSelector),c.dragDropService.currentDragElement=c.dragDropService.originalElement.clone(),c.dragDropService.originalElement.addClass(c.dragDropService.originalElementClass),c.dragDropService.currentDragElement.addClass(c.dragDropService.movableElementClass),c.dragDropService.originalElement.addClass(c.dragDropService.dragHoverClass),c.dragDropService.setDropTarget(e.content().id))}),e.$on("keyboard-drag-end",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&c.isOnSamePanel()&&c.timeout(function(){if(c.dragDropService.originalElement&&c.dragDropService.originalElement.removeClass(c.dragDropService.originalElementClass),r.b.FOLDER.isEqualTo(c.dragPosition)?c.dragDropService.positionAfter=e.content().id:r.b.TOP.isEqualTo(c.dragPosition)?(c.dragDropService.positionBefore=e.content().id,c.dragDropService.positionAfter=null):(c.dragDropService.positionAfter=e.content().id,c.dragDropService.positionBefore=null),c.dropTargetElement.removeClass(c.dragDropService.dragHoverClass),c.dragDropService.currentDragElement&&c.dragDropService.currentDragElement.remove(),!c.isDnDPreventedInDiscussionContext()&&!c.isDropPreventedByContentDepthRules()&&!c._isDroppingInSamePlace()){var t={dragContentId:c.dragDropService.currentDragId,dragElement:c.dragDropService.currentDragElement,parentFolderId:c.scope.content().parentId,positionAfterId:c.dragDropService.positionAfter,positionBeforeId:c.dragDropService.positionBefore,rootScope:c.$rootScope,targetFolderId:c.scope.content().id};e.onMoveHandler()(t)}c._keyboardEndDragAndClearValues()},e)}),e.$on("keyboard-drag-cancel",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&(c._keyboardEndDragAndClearValues(),c.dropTargetElement.removeClass(c.dragDropService.dragHoverClass),c.dragDropService.originalElement.removeClass(c.dragDropService.originalElementClass),c.dragDropService.currentDragElement.remove())}),e.$on("keyboard-drag-up",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&(c._removeKeyboardPlaceholderAndStyling(),c.isEmptyTarget&&(c.dragPosition=r.b.TOP),r.b.SELF.isEqualTo(c.dragPosition)||r.b.TOP.isEqualTo(c.dragPosition)?e.previousContentId&&e.previousContentId()?c.keyboardMoveUpToItem(e.previousContentId()):e.content().depth>1?(c.dragDropService.queuedScreenReaderMessages+=" ",c.dragDropService.queuedScreenReaderMessages+=c.bbLocalizeService.translateSync({locale:c.bbLocalizeService.getLocale(c.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),c.keyboardMoveOntoFolder(e.content().parentId)):(c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation()):r.b.FOLDER.isEqualTo(c.dragPosition)?c._keyboardMoveAboveThisItem():r.b.BOTTOM.isEqualTo(c.dragPosition)&&(c.isAFolder()?!0!==e.isFolderOpen()||!c.isNotSameDropTarget()||c.isDnDPreventedInDiscussionContext()||c.isDropPreventedByContentDepthRules()?!1!==e.isFolderOpen()||!c.isNotSameDropTarget()||c.isDnDPreventedInDiscussionContext()||c.isDropPreventedByContentDepthRules()||c.keyboardMoveOntoFolder(c.scope.content().id):(c.dragDropService.queuedScreenReaderMessages+=" ",c.dragDropService.queuedScreenReaderMessages+=c.bbLocalizeService.translateSync({locale:c.bbLocalizeService.getLocale(c.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),c.keyboardMoveIntoFolderAsLastItem()):c._keyboardMoveAboveThisItem()))}),e.$on("keyboard-drag-down",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&(c._removeKeyboardPlaceholderAndStyling(),c.isEmptyTarget&&(c.dragPosition=r.b.BOTTOM),r.b.SELF.isEqualTo(c.dragPosition)||r.b.BOTTOM.isEqualTo(c.dragPosition)?e.nextContentId&&e.nextContentId()?c.keyboardMoveDownToItem(e.nextContentId()):e.content().depth>1?(c.dragDropService.queuedScreenReaderMessages+=" ",c.dragDropService.queuedScreenReaderMessages+=c.bbLocalizeService.translateSync({locale:c.bbLocalizeService.getLocale(c.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),c.keyboardMoveBelowItem(e.content().parentId)):(c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation()):r.b.FOLDER.isEqualTo(c.dragPosition)?e.isFolderOpen&&!0===e.isFolderOpen()&&c.isNotSameDropTarget()&&!c.isDnDPreventedInDiscussionContext()&&!c.isDropPreventedByContentDepthRules()?(c.dragDropService.queuedScreenReaderMessages+=" ",c.dragDropService.queuedScreenReaderMessages+=c.bbLocalizeService.translateSync({locale:c.bbLocalizeService.getLocale(c.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),c.keyboardMoveIntoFolderAsFirstItem()):c._keyboardMoveBelowThisItem():r.b.TOP.isEqualTo(c.dragPosition)&&(c.isAFolder()&&c.isNotSameDropTarget()&&!c.isDnDPreventedInDiscussionContext()&&!c.isDropPreventedByContentDepthRules()?c.keyboardMoveOntoFolder(c.scope.content().id):c._keyboardMoveBelowThisItem()))}),e.$on("keyboard-drag-right",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&r.b.FOLDER.isEqualTo(c.dragPosition)&&e.isFolderOpen&&!1===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)}),e.$on("keyboard-drag-left",function(){c.isEnabledForReordering()&&c.dragDropService.isCurrentDropTarget(e.content().id)&&r.b.FOLDER.isEqualTo(c.dragPosition)&&e.isFolderOpen&&!0===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)}),e.$on("keyboard-move-up-to-item",function(t,n){c.isEnabledForReordering()&&e.content().id===n&&(c.dragDropService.setDropTarget(e.content().id),e.content().id===c.dragDropService.currentDragId?(c.dragPosition=r.b.SELF,c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation()):c.isAFolder()?c.scope.isFolderOpen&&!0===c.scope.isFolderOpen()?c.keyboardMoveIntoFolderAsLastItem():(c.dragPosition=r.b.FOLDER,c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation()):c._keyboardMoveAboveThisItem())}),e.$on("keyboard-move-down-to-item",function(t,n){c.isEnabledForReordering()&&e.content().id===n&&(c.dragDropService.setDropTarget(e.content().id),e.content().id===c.dragDropService.currentDragId?(c.dragPosition=r.b.SELF,c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation()):c.isAFolder()?c.keyboardMoveOntoFolder(c.scope.content().id):c._keyboardMoveBelowThisItem())}),e.$on("keyboard-move-above-item",function(t,n){c.isEnabledForReordering()&&e.content().id===n&&(c.dragDropService.setDropTarget(e.content().id),c._keyboardMoveAboveThisItem())}),e.$on("keyboard-move-below-item",function(t,n){c.isEnabledForReordering()&&e.content().id===n&&(c.dragDropService.setDropTarget(e.content().id),c._keyboardMoveBelowThisItem())}),e.$on("keyboard-move-onto-folder",function(t,n){c.isEnabledForReordering()&&e.content().id===n&&(c.dragDropService.setDropTarget(e.content().id),c.dragPosition=r.b.FOLDER,c._applyKeyboardPlaceholderAndStyling(),c._informScreenReaderOfNewLocation())}),e.$on("remove-placeholder",function(){c.isEnabledForReordering()&&c.dragDropService.dropPlaceholderElement&&c.dragDropService.dropPlaceholderElement.remove(),c.isEmptyTarget&&c.element.children("bb-add-content-button").show()})}return t.prototype._keyboardMoveBelowThisItem=function(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.content().id):this.scope.nextContentId&&this.scope.nextContentId()===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.nextContentId()):(this.dragPosition=r.b.BOTTOM,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())},t.prototype._keyboardMoveAboveThisItem=function(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.content().id):this.scope.previousContentId&&this.scope.previousContentId()===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.previousContentId()):(this.dragPosition=r.b.TOP,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())},t.prototype._informScreenReaderOfNewLocation=function(){var e=this.element.find("[bb-drag-handle]").eq(0).attr("drag-item-name"),t="";if(""!==this.dragDropService.queuedScreenReaderMessages&&(t+=this.dragDropService.queuedScreenReaderMessages,t+=" "),-1!==this.dragDropService.currentDropTargetId.indexOf("blank"))return t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-only-item-in-folder",noWrap:!0}),this.$rootScope.$broadcast(d.a,t),void(this.dragDropService.queuedScreenReaderMessages="");this.scope.previousContentId&&this.scope.previousContentId()||!r.b.TOP.isEqualTo(this.dragPosition)&&!r.b.SELF.isEqualTo(this.dragPosition)?this.scope.nextContentId&&this.scope.nextContentId()||!r.b.BOTTOM.isEqualTo(this.dragPosition)&&!r.b.SELF.isEqualTo(this.dragPosition)||(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-end-of-list",noWrap:!0}),t+=" "):(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-top-of-list",noWrap:!0}),t+=" "),r.b.SELF.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-self",noWrap:!0}):r.b.FOLDER.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-folder",params:{itemName:e},noWrap:!0}):r.b.TOP.isEqualTo(this.dragPosition)?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-above",params:{itemName:e},noWrap:!0}):r.b.BOTTOM.isEqualTo(this.dragPosition)&&(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-below",params:{itemName:e},noWrap:!0})),this.$rootScope.$broadcast(d.a,t),this.dragDropService.queuedScreenReaderMessages=""},t.prototype._applyKeyboardPlaceholderAndStyling=function(){var e=this.dropTargetElement;r.b.SELF.isEqualTo(this.dragPosition)?this.dropTargetElement.addClass(this.dragDropService.dragHoverClass):r.b.FOLDER.isEqualTo(this.dragPosition)?(this.dropTargetElement.before(this.dragDropService.currentDragElement),this.dragDropService.currentDragElement&&(1===this.scope.content().depth?this.dragDropService.currentDragElement.addClass(this.dragDropService.onFolderClass):2===this.scope.content().depth&&this.dragDropService.currentDragElement.addClass(this.dragDropService.onNestedFolderClass))):r.b.BOTTOM.isEqualTo(this.dragPosition)?(e=this.dragDropService.currentDragElement,this.dropTargetElement.after(this.dragDropService.currentDragElement)):r.b.TOP.isEqualTo(this.dragPosition)&&(e=this.dragDropService.currentDragElement,this.dropTargetElement.before(this.dragDropService.currentDragElement)),this._scrollContainer(e)},t.prototype._removeKeyboardPlaceholderAndStyling=function(){this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&(this.dragDropService.currentDragElement.removeClass(this.dragDropService.onFolderClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.onNestedFolderClass),this.dragDropService.currentDragElement.remove())},t.prototype._scrollContainer=function(e){this.dragDropService.scrollDragDropItemsContainer(e.offset().top,r.a.SCROLLING_CONSTANTS.keyboardInteractionDistanceToScroll)},t.prototype._keyboardEndDragAndClearValues=function(){var t=this;this.timeout(function(){e('[bb-drag-handle][drag-item-id="'+t.dragDropService.currentDragId+'"]').focus(),t.dragDropService.clearDropTarget(),t.dragDropService.currentDragId=void 0,t.dragDropService.currentDragType=void 0,t.dragDropService.isKeyboardDragging=!1},this.scope,0,!1)},t.prototype.isDropPreventedByContentDepthRules=function(){var e=this;return c.r.ContentHandler.Folder.isEqualTo(e.dragDropService.currentDragType)&&(this.isDraggingOverFolder&&this.scope.content().depth===s.l||this.scope.content().depth>s.l)},t.prototype.isDnDPreventedInDiscussionContext=function(){var e=this;return a.a.Discussions.toString()===e.dragDropService.currentDragContext&&c.r.ContentHandler.Folder.isEqualTo(e.dragDropService.currentDragType)&&(this.isDraggingOverFolder&&this.scope.content().depth===s.k||this.scope.content().depth>s.k)},t.prototype.dragOverFunc=function(e){var t=this;if(this.dragDropService.currentDragId&&this.dragDropService.currentDragId!==this.scope.content().id){this.dragDropService.setDropTarget(this.scope.content().id),!this.folderHoverTimeout&&this.scope.isFolderOpen&&!1===this.scope.isFolderOpen()&&(this.dropTargetElement.addClass(this.dragDropService.dragHoverClass),this.folderHoverTimeout=this.timeout(function(){t.isDropPreventedByContentDepthRules()||t.isDnDPreventedInDiscussionContext()?(t.dragDropService.isShowingDepthMessage=!0,t.$rootScope.$broadcast("show-override-message",t.bbLocalizeService.translateSync({locale:t.bbLocalizeService.getLocale(t.scope),key:t.dragDropService.folderDepthMessageKey}),t.scope.content().id)):(t.scope.$emit("toggle-folder-by-id",t.scope.content().id),t.wasFolderOpened=!0)},this.scope,1500)),this.dragDropService.isShowingDepthMessage&&this.dragDropService.isNotSameDropTarget()&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());var n=e,o=this.element.offset().top+this.element.height()/2,i=this.dragPosition;this.isAFolder()&&(this.isDraggingOverFolder=!0),this.scope.content().id.indexOf("placeholder")>-1?(this.dragDropService.positionAfter=this.scope.content().parentId,this.dragDropService.positionBefore=void 0,this.dragPosition=r.b.BOTTOM):n<=o?(this.dragDropService.positionBefore=this.scope.content().id,this.dragDropService.positionAfter=void 0,this.dragPosition=r.b.TOP):(this.dragDropService.positionAfter=this.scope.content().id,this.dragDropService.positionBefore=void 0,this.dragPosition=r.b.BOTTOM),(this.dragDropService.isNotSameDropTarget()||this.dragPosition!==i)&&(this._moveDropPlaceholderElement(),this.isEmptyTarget&&this.element.children().hide())}},t.prototype._moveDropPlaceholderElement=function(){var e=this;if(this.$rootScope.$broadcast("remove-placeholder"),this.dragDropService.currentDragId!==this.dragDropService.currentDropTargetId){e.dragDropService.positionBefore&&e.dragDropService.currentDropTargetId!==e.dragDropService.idOfNextItem?this.dropTargetElement.before(this.dragDropService.dropPlaceholderElement):e.dragDropService.currentDropTargetId.indexOf("placeholder")>-1&&e.dragDropService.idOfNextItem===e.dragDropService.currentDropTargetId||!e.dragDropService.positionAfter||e.dragDropService.currentDropTargetId===e.dragDropService.idOfPreviousItem||this.dropTargetElement.after(this.dragDropService.dropPlaceholderElement)}},t.prototype._isDroppingInSamePlace=function(){if(null!=this.dragDropService.positionAfter&&this.scope.previousContentId&&this.dragDropService.positionAfter===this.scope.previousContentId()||this.dragDropService.positionAfter===this.dragDropService.currentDragId||null!=this.dragDropService.positionBefore&&this.scope.nextContentId&&this.dragDropService.positionBefore===this.scope.nextContentId()||this.dragDropService.positionBefore===this.dragDropService.currentDragId)return!0},t.prototype.dropHandlerFunc=function(){var e=this;this.timeout.cancel(this.folderHoverTimeout),this.dropTargetElement.parents("[data-parent-id]").last().removeAttr("style"),this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("remove-placeholder"),this.$rootScope.$broadcast("file-drag-restore"),this.dragDropService.isShowingDepthMessage&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());var t={dragContentId:this.dragDropService.currentDragId,originalElement:this.dragDropService.originalElement,parentFolderId:this.scope.content().parentId,positionAfterId:this.dragDropService.positionAfter,positionBeforeId:this.dragDropService.positionBefore,rootScope:this.$rootScope,targetFolderId:this.scope.content().id};this._isDroppingInSamePlace()||this.isDnDPreventedInDiscussionContext()?this.dropCleanupFunc():!this.isDropPreventedByContentDepthRules()&&this.isDraggingOverFolder?this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.scope.onMoveIntoFolderHandler()(t),this.dropCleanupFunc()):this.scope.$apply(function(){e.scope.onMoveIntoFolderHandler()(t),e.dropCleanupFunc()}):this.isDropPreventedByContentDepthRules()?this.dropCleanupFunc():this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.scope.onMoveHandler()(t),this.dropCleanupFunc()):this.scope.$apply(function(){e.scope.onMoveHandler()(t),e.dropCleanupFunc()}),this.isDraggingOverFolder=!1},t.prototype.dropCleanupFunc=function(){this.wasFolderOpened&&(this.wasFolderOpened=!1,this.scope.$emit("toggle-folder-by-id",this.scope.content().id)),this.dragDropService.currentDragId=void 0,this.dragDropService.currentDragType=void 0,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&this.dragDropService.currentDragElement.remove()},t.prototype.dragLeaveFunc=function(){this.isDraggingOverFolder=!1,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.timeout.cancel(this.folderHoverTimeout),this.folderHoverTimeout=void 0,this.isDropPreventedByContentDepthRules()&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage())},t.prototype.broadcastShowOverrideMessage=function(){var e=this;this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?this.$rootScope.$broadcast("show-override-message",void 0,this.scope.content().id):this.scope.$apply(function(){return e.$rootScope.$broadcast("show-override-message",void 0,e.scope.content().id)})},t.prototype.keyboardMoveUpToItem=function(e){var t=this;this.timeout(function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-up-to-item",e)},this.scope)},t.prototype.keyboardMoveDownToItem=function(e){var t=this;this.timeout(function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-down-to-item",e)},this.scope)},t.prototype.keyboardMoveBelowItem=function(e){var t=this;this.timeout(function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-below-item",e)},this.scope)},t.prototype.keyboardMoveAboveItem=function(e){var t=this;this.timeout(function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-above-item",e)},this.scope)},t.prototype.keyboardMoveOntoFolder=function(e){var t=this;this.timeout(function(){t.dragDropService.clearDropTarget(),t.$rootScope.$broadcast("keyboard-move-onto-folder",e)},this.scope)},t.prototype.keyboardMoveIntoFolderAsLastItem=function(){var e=this.scope.content().children;e.length>0?this.keyboardMoveBelowItem(e[e.length-1].id):this.keyboardMoveBelowItem(this.scope.content().id+"blank")},t.prototype.keyboardMoveIntoFolderAsFirstItem=function(){var e=this.scope.content().children;e.length>0?this.keyboardMoveAboveItem(e[0].id):this.keyboardMoveAboveItem(this.scope.content().id+"blank")},t.prototype.isNotSameDropTarget=function(){return this.scope.content().id!==this.dragDropService.currentDragId},t.prototype.isOnSamePanel=function(){return this.element.closest(".panel-content").is(this.dragDropService.originalElement.closest(".panel-content"))},t.prototype.isEnabledForReordering=function(){return!(this.scope.disableForReordering&&this.scope.disableForReordering())},t.prototype.isAFolder=function(){return null!=this.scope.isFolderOpen},t.$inject=["scope","element","attrs","$rootScope",l.b,r.d,i.serviceName],t}(),m=function(){function e(e){var t=this;this.$injector=e,this.scope={onMoveIntoFolderHandler:"&?",onMoveHandler:"&",onFileDropHandler:"&",isFolderOpen:"&?",content:"&",previousContentId:"&?",nextContentId:"&?",disableForReordering:"&?"},this.restrict="A",this.link=function(e,n,o){e.dropHandlerDirective=t.$injector.instantiate(p,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(u,[r.c,l.a]).directive("bbDropHandler",["$injector",function(e){return e.instantiate(m)}])}).call(this,n("EVdn"))},DXZ4:function(e,t,n){},EDrk:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-conversation",use:"icon-small-conversation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-conversation"><path d="M15 4.5C15 6.433 13.433 8 11.5 8c-.4457 0-.872-.0833-1.264-.2352L8 8l.25-2.1985A3.4905 3.4905 0 0 1 8 4.5C8 2.567 9.567 1 11.5 1S15 2.567 15 4.5zM7 15c0-2-2-4-4-4M3 11c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Et3n:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("mrSG"),i=n("0JpG"),s=n("yC9S"),a=n("Nj19"),r="ultra.directives.group.group-count";!function(){function e(){}e.prototype.$onInit=function(){},e=o.__decorate([Object(s.a)({moduleName:r,componentName:"bbGroupCount",template:a,bindings:{content:"<"},requireModules:[i.moduleName]})],e)}()},FGjj:function(e,t){e.exports='<div\n  ng-switch="rootContent().isInForcedSequenceModule() || rootContent().isForcedSequenceModule() "\n  id="{{::addContentButton.getButtonWrapperId()}}"\n  tabindex="-1"\n>\n  <button\n    ng-switch-when="true"\n    id="{{::addContentButton.getTargetId()}}"\n    class="button-add-content js-show-add-options"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    bb-tooltip\n    enhanced-tooltip="true"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    bb-translate-attrs="{ title: \'course.outline.addForbidden.text\' }"\n    analytics-id="components.directives.add-content-button.course-outline.button"\n    >\n  </button>\n  <button\n    ng-switch-default\n    id="{{::addContentButton.getTargetId()}}"\n    class="button-add-content js-show-add-options"\n    data-show-add-options\n    ng-click="addContentButton.toggleAddContentMenu()"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    analytics-id="components.directives.add-content-button.course-outline.addContentMenu.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible && !addContentButton.isEmptyFolder()"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu">\n</bb-ui-contextual-menu>\n<ul class="element-list-add-menu angular-animate small-block-grid-2 medium-block-grid-2 large-block-grid-3"\n    ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n    ng-show="addContentButton.isEmptyFolder()">\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-create"\n       bb-peek-sref="content-manage.create(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.link">\n      <div>\n        <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.create</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="addContentButton.currentCourse.canCopy() && addContentButton.isEmptyFolder()">\n    <a class="content-import-button"\n       bb-peek-sref="content-manage.copy(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.import.link">\n      <div>\n        <bb-svg-icon size="small" icon="duplicate"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.copy</span>\n      </div>\n    </a>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      is-content="true"\n      primary-key="fileListViewLocalId"\n      skip-zip-file-check="true"\n      class="js-file-upload"\n      depth="depth()">\n      <button ng-if="addContentButton.isEmptyFolder()"\n              class="file-upload-button"\n              analytics-id="components.directives.add-content-button.course-outline.upload.button">\n        <div>\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n          <span bb-translate>components.directives.add-content-button.upload</span>\n        </div>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-market"\n       href="javascript:void(0);"\n       ng-click="addContentButton.openContentMarket()"\n       analytics-id="components.directives.add-content-button.course-outline.openContentMarket.link">\n      <div>\n        <bb-svg-icon size="small" icon="content-market"></bb-svg-icon><span bb-translate>components.directives.add-content-button.contentMarket</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="::addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="true"\n      monitor-leave="true"\n      is-third-party-upload="true"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      primary-key="fileListViewId"\n      skip-zip-file-check="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      target-div="{{\'#\' + fileListViewId}}"\n      disable-drag="true"\n      ignored-states="[\'content-manage.import\']">\n      <button\n        class="doc-add-media clear ng-scope"\n        bb-kloudless\n        primary-key="fileListViewId"\n        attach-handler="addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="true"\n        on-files-selected="addContentButton.onFilesSelectedHandler"\n        analytics-id="components.directives.add-content-button.course-outline.importContentFromCloudStorage.button">\n        <bb-svg-icon size="small" icon="upload-cloud"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-collection"\n       bb-peek-sref="content-collection(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.contentCollection.link">\n      <div>\n        <bb-svg-icon size="small" icon="content-collection"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.contentCollection</span>\n      </div>\n    </a>\n  </li>\n</ul>\n'},Fa6n:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.kloudless.modal.errorTitle"\n          analytics-id-tag-prefix="components.directives.kloudless">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.kloudless.modal.errorFull</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.kloudless.modal.cancelUploadText">\n    <bb-translate>components.directives.kloudless.modal.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},FpRh:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("mrSG"),i=n("yC9S"),s=n("aHpC"),a=n("r3Zo"),r=n.n(a),c="ultra.directives.bbAllyContentRef";!function(){function e(e){this.$element=e}e.prototype.$postLink=function(){r.a.renderContentId(this.$element[0],{contentId:this.contentId,fileId:this.fileId,filePreviewUrl:this.filePreviewUrl})},e.prototype.$onDestroy=function(){r.a.destroyComponent(this.$element[0])},e=o.__decorate([Object(i.a)({module:angular.module(c,[]),componentName:"bbAllyContentRef",bindings:{contentId:"@",fileId:"@",filePreviewUrl:"@"}}),o.__param(0,Object(s.b)("$element"))],e)}()},FrNa:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-visible",use:"icon-medium-visible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-visible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"H/mg":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("mrSG"),i=n("IbG+"),s=n("q1tI"),a=n("1ZbL"),r=n("l4Qp"),c="ultra.components.directives.react-toolkit.contextual-menu",l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return this.props.show?s.createElement(r.ContextualMenu,{items:this.props.items,directionalHint:this.props.directionalHint,target:document.getElementById(this.props.targetId),onDismiss:this.props.dismiss,analyticsId:this.props.analyticsId}):null},t}(s.Component);i.module(c,[]).component("bbUiContextualMenu",Object(a.a)(l,["items","targetId","show","dismiss","directionalHint"],[],!1,["analyticsId"]))},IAsK:function(e,t,n){},"IR+Z":function(e,t,n){"use strict";n.d(t,"a",function(){return m});n("KuLw");var o=n("IbG+"),i=n("Oyr+"),s=n("0JpG"),a=n("Vsv2"),r=n("zXZW"),c=n("pjml"),l=n("12mu"),d=n("lEL+"),u=n("Fa6n"),p=n("gX0c"),m="ultra.directives.bbKloudless",h=function(){function e(e,t,n,o,i,s,r,c){this.scope=e,this.$q=t,this.$exceptionHandler=n,this.bbLocalize=o,this.$modal=i,this.CloudDriveModel=s,this.CloudDriveTaskModel=r,this.timeout=c,this.provider=a.a.KLOUDLESS.toString(),this.bbLocalize.loadBundle("components/directives/kloudless")}return e.prototype.getFileId=function(e){return e.account+"|"+e.id},e.prototype.onFileSelect=function(e){this.scope.$emit(i.d,e,this.scope.primaryKey&&this.scope.primaryKey()),this.scope.onFilesSelected&&this.scope.onFilesSelected(e)},e.prototype.getDownloadFileInfo=function(e){var t=this.getFileId(e);return this.CloudDriveModel.$new("Kloudless").contents.$new(t).$fetch({accessToken:this.accessToken}).$asPromise()},e.prototype.downloadFiles=function(e,t,n){var o=this,s={accessToken:this.accessToken,expand:"mimeType,isMedia"};this.scope.fileLocation&&(s.fileLocation=this.scope.fileLocation),this.scope.webLocation&&(s.webLocation=this.scope.webLocation),(t?this.CloudDriveTaskModel.$new(n||e.id):this.CloudDriveModel.$new("Kloudless").contents.$new(n||e.id).download).$fetch(s).$then(function(t){if("COMPLETE"===t.status)var n=o.scope.$on(i.e,function(s,a,r){r!==i.c.UploadProgressComplete||e.ui.fileId&&a!==e.ui.fileId||(o.attachHandler(t,e),n())});else o.timeout(function(){o.downloadFiles(e,!0,t.taskId)},o.scope,2e3);(t.completePercentage<100||"COMPLETE"===t.status)&&o.scope.$root.$broadcast(i.e,e.ui.index,t.completePercentage,null,i.c.UpdateProgress,e.ui.targetDiv,e.ui.fileId)},function(t){o.displayUploadError(),o.scope.$root.$broadcast(i.e,e.ui.fileId,e,i.c.Error,e.ui.targetDiv,o.scope.primaryKey&&o.scope.primaryKey()),o.$exceptionHandler(t,"source")})},e.prototype.attachHandler=function(e,t){var n=this.$q.defer(),o={fileName:null,fileLocation:null};return e&&(o.fileName=e.fileName,o.fileLocation=e.fileLocation,o.webLocation=e.webLocation,o.mimeType=e.mimeType,o.isMedia=e.isMedia),this.scope.attachHandler(o,t,this.scope.isUploadMultipleFiles).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},e.prototype.displayUploadError=function(){this.$modal.open({template:u,scope:this.scope})},e.$inject=["scope","$q","$exceptionHandler",s.serviceName,l.b,c.j.serviceName,c.k.serviceName,d.b],e}(),b=function(){function e(e,t,n,i){var s=this;this.$injector=e,this.$q=t,this.$modal=n,this.CloudDriveService=i,this.scope={attachHandler:"=",isFlatten:"=?",primaryKey:"&?",primaryKeyValue:"@?",fileLocation:"@?",webLocation:"@?",disableClick:"&?",allowMultiple:"=?",onFilesSelected:"=?",onCancelFocus:"=?"},this.restrict="A",this.link=function(e,t,n){var i=s,r=a.a.KLOUDLESS.toString();e.kloudless=s.$injector.instantiate(h,{scope:e}),e.folderBranchCounts=0,e.isInitialized=!!i.CloudDriveService.cloudDriveStorage[r],e.isInitialized||i.CloudDriveService.initializeCloudDrive(a.a.KLOUDLESS);var c=function(t){var n=[];if(t&&t.length>0){for(var o=0;o<t.length;o++)n.push(e.kloudless.getDownloadFileInfo(t[o]));i.$q.all(n).then(function(t){i.CloudDriveService.isGettingFilesInfo=!1,e.kloudless.onFileSelect(t),t.length>1&&(e.isUploadMultipleFiles=!0)},function(){i.CloudDriveService.isGettingFilesInfo=!1})}};t.on("click",function(){e.disableClick&&e.disableClick()||!e.isInitialized||(i.CloudDriveService.cloudDriveStorage[r].openFilePicker(e,e.allowMultiple).then(function(n){if((n||[]).length>0){if(!n[0]||!n[0].bearer_token||!n[0].bearer_token.key)return void s.$modal.open({template:p,scope:e});e.kloudless.accessToken=n[0].bearer_token.key,i.CloudDriveService.isGettingFilesInfo=!0,o.isDefined(e.allowMultiple)&&!1===e.allowMultiple&&n.length>1?c([n[0]]):c(n)}else e.onCancelFocus?e.onCancelFocus():t.focus()}),e.$on("$destroy",function(){i.CloudDriveService.isGettingFilesInfo=!1,t.off("click")}))}),e.$on("downloadFile",function(t,n){n.ui.primaryKey===(e.primaryKey&&e.primaryKey())&&n.file.$url().indexOf("Kloudless")>=0&&e.kloudless.downloadFiles(n)})}}return e.$inject=["$injector","$q","$modal",a.c],e}();o.module(m,[s.moduleName,a.b,r.a,l.a,d.a]).directive("bbKloudless",["$injector",function(e){return e.instantiate(b)}])},IdWj:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-beast-analytics",use:"icon-small-beast-analytics-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-beast-analytics"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 8V1M8 8l5-4M8 8l4.5 4.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},JScU:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options"\n          data-show-add-options ng-click="addContentButton.toggleMenu()"\n          ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n          aria-expanded="{{addContentButton.isMenuVisible}}"\n          aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n          aria-label="{{addContentButton.addButtonAriaLabel}}"\n          ng-focus="addContentButton.showButton()"\n          ng-blur="addContentButton.hideButton()"\n          analytics-id="components.directives.add-content-button.attempts.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        monitor-leave="true"\n        allow-multiple="true"\n        target-div="{{\'#\' + fileListViewId}}"\n        disable-drag="disableDrag && disableDrag()"\n        hide-transclude-during-upload="false"  is-third-party-upload="false"\n        third-party-download-handler="addContentButton.downloadFile"\n        skip-zip-file-check="true">\n        <div class="columns medium-12" ng-class="{\'medium-center\': attempt.isMobile}">\n          <a href="javascript:void(0);"\n             role="menuitem"\n             bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n             ng-click="addContentButton.toggleMenu()"\n             analytics-id="components.directives.add-content-button.attempts.fileUpload.link">\n            <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n            <span bb-translate>course.content.fileUpload.addFiles</span>\n          </a>\n        </div>\n      </bb-file-upload>\n    </li>\n    <li ng-if="::!addContentButton.isMobile">\n      \x3c!-- Skip zip file check, assignment does not support unzip file(LRN-101238) --\x3e\n      <bb-file-upload allow-multiple="true" monitor-leave="true" is-third-party-upload="true"  hide-transclude-during-upload="false" skip-zip-file-check="true"\n                      click-enabled="false" primary-key="fileListViewId" disable-drag="disableDrag && disableDrag()"\n                      third-party-download-handler="addContentButton.downloadFile" target-div="{{\'#\' + fileListViewId}}">\n        <div class="columns medium-12">\n          <a href="javascript:void(0);"\n             role="menuitem"\n             bb-one-drive\n             is-flatten="false"\n             primary-key="fileListViewId"\n             attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n             bb-translate-attrs="{\'aria-label\':\'components.directives.add-content-button.aria-label.content.oneDrive\'}"\n             ng-click="addContentButton.toggleMenu(\'OneDriveUpload\')"\n             analytics-id="components.directives.add-content-button.attempts.oneDrive.link">\n            <div>\n              <i class="icon-cloud"></i><span bb-translate>components.directives.add-content-button.oneDrive</span>\n            </div>\n          </a>\n        </div>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},JePn:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-add",use:"icon-small-add-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add"><path d="M1 8c0-3.866 3.134-7 7-7v0c3.866 0 7 3.134 7 7v0c0 3.866-3.134 7-7 7v0c-3.866 0-7-3.134-7-7v0zM11 8H5M8 5v6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},JfeD:function(e,t,n){},KmIE:function(e,t,n){},Kx5d:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-export",use:"icon-small-export-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-export"><path d="M7 9l8-8M12 1h3v3M15 9.091V15H1V1h5.909" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"L+81":function(e,t,n){"use strict";n("HuMO"),n("Siqh"),n("pG4O");var o=n("lx16"),i=n("IbG+"),s=n("kC07"),a=n("D8d/"),r=n("pjml"),c=n("lEL+"),l=n("gIYs"),d=n("mrSG"),u=(n("Zahr"),n("Oqqc"),n("nKum"),n("XBng"),n("Sa5G")),p=n("0JpG"),m=n("MKP7"),h=n("JNtI"),b=n("Ocaa"),g=n("pIXs"),v=n("aTRN"),f=n("nYZ0"),y=n("w9Zy"),S=n("TnpK"),w=n("X455"),C=n("oi1r"),D=n("jhBu"),I=n("VCh6"),k=n("aHpC"),x=n("+4Px"),$=n("e6jQ"),T="ultraUi.components.directives.content.learningModule.learningModuleBaseItem",E=function(){function e(e,t,n,o,i,s,a,r,c,l,d,p){var m=this;this.scope=e,this.element=t,this.attrs=n,this.localizeService=o,this.$q=i,this.contentService=s,this.offcanvasService=a,this.timeout=r,this.ultraState=c,this.contextCourseMembership=l,this.entitlementService=p,this.titleEditMode=!1,this.descriptionEditMode=!1,this.isEditButtonHovering=!1,this.lmTitlePlaceholder=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.learning-module.base-item.title-placeholder"}),this.description="",this.controlId=Object($.a)(),this.titleMaxLength=250,this.isGettingConfirmationOptions=!1,this.descriptionCache="",this.titleCache="",this.conditionalRelease=d.instantiate(v.a,{scope:e}),e.content.title||(e.content.title=this.lmTitlePlaceholder),e.content.description=e.content.description?e.content.description:"",this.scope.$on("refresh-conditional-release-rules",function(e,t){m.scope.content.id===t.id&&m.conditionalRelease.getConditions(t)}),this.scope.$on("bb-update-CR-tooltip",function(e,t,n,o){t&&(m.rulesCriteria&&m.rulesCriteria.gradeColumnId)===t.id&&m.conditionalRelease.getConditions(m.scope.content,n,o)}),(e.content.isConditionalReleaseLocked()||e.content.isConditionalRelease()||e.content.isForcedSequenceModule())&&this.conditionalRelease.getConditions(e.content),this.entitlementService.hasCourseEntitlement(u.f.ModifyContent,this.scope.content.courseId).then(function(e){m.entitledToModifyContent=e}),this.scope.$on("update-state",function(t,n){var o;if(n&&e.content.isForcedSequenceModule()&&!m.contextCourseMembership.isActAsInstructorMembership()&&(e.content.id===n.parentId||e.content.children&&e.content.children.some(function(e){return e.id===n.parentId&&(o=e,!0)}))){var s=[e.content.$fetch().$asPromise(),e.content.getChildren({limit:e.content.children.length+1}).$asPromise()];o&&o.children&&s.push(o.getChildren({limit:o.children.length+1}).$asPromise()),i.all(s).then(function(t){var n=t[1],i=t[2];n.forEach(function(t,o){var i=e.content.children.findIndex(function(e){return e.id===t.id});-1!==i&&(n[o].ui=e.content.children[i].ui,n[o]=Object.assign(e.content.children[i],n[o]))}),o&&i&&i.forEach(function(e,t){var n=o.children.findIndex(function(t){return t.id===e.id});-1!==n&&(o.children[n]=Object.assign(o.children[n],i[t]))})})}})}return e.prototype.enterTitleEditMode=function(e){e.stopPropagation(),this.titleEditMode=!0,this.titleCache=this.scope.content.title,this.offcanvasService.safeFocus(this.element.find("input.lm-title"))},e.prototype.exitTitleEditMode=function(e){this.titleEditMode=!1,this.scope.content.title?this.scope.content.title!==this.titleCache&&this.onChangeTitle():this.scope.content.title=this.titleCache},e.prototype.onTitlePressKey=function(e){e.keyCode===x.f&&this.exitTitleEditMode()},e.prototype.onChangeTitle=function(){this.scope.content.title.trim()&&this._persistContent(this.scope.content,["title"])},e.prototype.onChangeVisibility=function(){this._updateVisibility(this.scope.content)},e.prototype._updateVisibility=function(e){e.visibility=this.contentService.determineVisibility(e.isAvailable);var t=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],n=e.getAssociatedGradingColumn();(n||this.scope.content.isForcedSequenceModule())&&(this.scope.content.isForcedSequenceModule()&&e.applyForcedSequence(!1),n&&(n.visible=e.isAvailable),t.push("contentDetail")),this._persistContent(e,t)},e.prototype.deleteContent=function(){this.scope.$emit("deleteContent",this.scope.content)},e.prototype.getOverflowMenu=function(){var e=this;return[{icon:"trash",labelKey:"global.delete",show:function(){return e.scope.content.canDelete()},onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:function(){return e.isGettingConfirmationOptions=!0,e.getDeleteConfirmationKeyAndShowType().then(function(t){var n=t.confirmationKey.replace(/^resource\//,"");return e.isGettingConfirmationOptions=!1,e.$q.when(h.a(n))})}}}]},e.prototype.getDeleteConfirmationKeyAndShowType=function(){var e=this;return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then(function(t){return{confirmationKey:e.scope.content.ui.deleteConfirmationKey,showType:e.scope.content.ui.modalShowType}})},e.prototype.toggleLM=function(){this.scope.toggleFunc&&this.scope.toggleFunc()},e.prototype.isDescriptionEdited=function(){return this.descriptionCache!==this.scope.content.description},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.entitledToModifyContent},Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.onDescriptionClicked=function(){this.editDescription(),this.descriptionCache=this.scope.content.description},e.prototype.editDescription=function(){var e=this;this.descriptionEditMode=!0,this.timeout(function(){e.element.find(".lm-description textarea").focus()},this.scope,0)},e.prototype.cancelDescriptionEdit=function(){this.scope.content.description=this.descriptionCache,this.descriptionEditMode=!1},e.prototype.saveDescription=function(){this.descriptionEditMode=!1;this._persistContent(this.scope.content,["description"]),this.descriptionCache=""},e.prototype._persistContent=function(e,t){var n=this;e.withParams({fields:"id",expand:"gradebookCategory"}).$save(t).$asPromise().then(function(){n.scope.$root.$broadcast("content-update",e)})},e.prototype.openConditionalRelease=function(){this.ultraState.goPeekState("conditional-release",{id:this.scope.content.id})},e.$inject=["scope","element","attrs",p.serviceName,"$q",f.d,y.e,c.b,S.d,w.d,"$injector",D.b],d.__decorate([Object(k.a)(2e3)],e.prototype,"onChangeTitle",null),e}(),M=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=I,this.scope={content:"=",canToggle:"&",toggleFunc:"&",canMove:"=",contextArea:"=",isOpen:"="},this.link=function(e,n,o){e.baseItem=t.$injector.instantiate(E,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();i.module(T,[m.a,g.a,f.c,b.a,y.d,c.a,S.b,C.a,D.a]).directive("bbLearningModuleBaseItem",["$injector",function(e){return e.instantiate(M)}]),n.d(t,"a",function(){return O});var O="ultra.directives.folder",L=function(){function e(e,t,n,o){var i=this;this.scope=e,this.element=t,this.timeout=n,this.contextCourseMembership=o,this.showEmptyMenu=!0,this.showMenuOverride=!1,this.showOutlineOverride=!1,this.isOpen=!1,this.toggleLabelKey="components.directives.folder.aria-label.open",this.initialChildrenLength=0,this.FOLDER_CONTENTS_SELECTOR=".folder-contents",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.contents=e.contents,this.content.ui?this.content.ui.isOpen=!1:this.content.ui={isOpen:!1},e.$on("toggle-folder",function(e,t){i.canToggle()&&t===i.content&&i.toggleFolder()}),e.$on("toggle-folder-by-id",function(t,n){i.canToggle()&&n===i.content.id&&(i.scope.$$phase||i.scope.$root&&i.scope.$root.$$phase?i.toggleFolder():e.$apply(function(){i.toggleFolder()}))}),e.$on("close-folder-immediately-by-id",function(e,t){i.isOpen&&i.canToggle()&&t===i.content.id&&i._closeFolderImmediately()}),e.$on("bb-drag-start",function(){i.isOpen&&i.canToggle()&&(null==i.content.children||0===i.content.children.length)&&i._closeFolderImmediately()}),e.$on("close-all-add-menus",function(e,t){if(i.isOpen&&(null==i.content.children||0===i.content.children.length)&&i.content.id!==t){if(i.content.isLearningModule())return;i.toggleFolder()}}),e.$on("showContentImportProgress",function(t,n,o){i.content.id!==o||0!==i.content.children.length||i.showOutlineOverride||(i.showOutlineOverride=!0,i.timeout(function(){i.scope.$broadcast("showContentImportProgress",n,o)},e))}),e.$on("keyboard-drag-move",function(e,t){i.content.id+"blank"===t?i.showEmptyMenu=!1:i.showEmptyMenu=!0}),e.$on("keyboard-drag-lost-focus",function(){i.showEmptyMenu=!0}),e.$on("keyboard-drag-end",function(){i.showEmptyMenu=!0})}return e.prototype._closeFolderImmediately=function(){var e=this;this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1):this.scope.$apply(function(){e.element.children(".folder").children(e.FOLDER_CONTENTS_SELECTOR).hide(),e.isOpen=!1,e.content.ui.isOpen=!1})},e.prototype.toggleFolder=function(){var e=this;this.isOpen||null!=this.content.children&&0!==this.content.children.length||this.loadMoreChildren(this.content).$then(function(){e.content.children&&0===e.content.children.length&&!e.contextCourseMembership.isActAsInstructorMembership()&&e.scope.content.state!==r.r.StateType.Completed&&e.scope.content.updateState(r.r.StateType.Completed,!0)}),this.isOpen=this.content.ui.isOpen=!this.content.ui.isOpen,this.content.children?this.content.children.$then(function(){e.initialChildrenLength=e.content.children.length,0===e.content.children.length?(e._calculateDurationAndToggle(),e.showMenuOverride=!0,(e.isOpen||e.isOpen&&e.content.isLearningModule())&&e.scope.$root.$broadcast("close-all-add-menus",e.content.id)):e.timeout(function(){e._calculateDurationAndToggle(),e.showMenuOverride=!1},e.scope),e.scope.$watch(function(){return e.content.children&&e.content.children.length},function(t,n){e.showMenuOverride=0===t,0===t&&t!==n&&e.isOpen&&e.scope.$root.$broadcast("close-all-add-menus",e.content.id)})}):(this._calculateDurationAndToggle(),this.showMenuOverride=!0),this.toggleLabelKey=this.isOpen?"components.directives.folder.aria-label.close":"components.directives.folder.aria-label.open"},e.prototype._calculateDurationAndToggle=function(){var e=this.isOpen?1e3:2e3,t=this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).outerHeight(),n=Math.round(1.17*t),o=Math.min(e,n);this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).slideToggle(o)},e.prototype.canToggle=function(){return this.content.canEdit()||!this.content.isRestricted()},Object.defineProperty(e.prototype,"content",{get:function(){return this.scope.content},enumerable:!0,configurable:!0}),e.$inject=["scope","element",c.b,w.d],e}(),B=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",contextArea:"=",canCreate:"=",contents:"=",canMove:"=",loadMoreChildren:"=",nextContentId:"=?",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=",previousContentId:"=?",canCopyImport:"=?",rootContent:"&?"},this.compile=function(e){return{pre:function(e,n){e.folder=t.$injector.instantiate(L,{scope:e,element:n})}}},this.template=l}return e.$inject=["$injector"],e}();i.module(O,[s.a,a.a,o.a,c.a,T]).directive("bbFolder",["$injector",function(e){return e.instantiate(B)}])},LdA1:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});n("Oki6");var o=n("IbG+"),i=n("0JpG"),s=n("Fvsw"),a=n("hqh6"),r=n("wd/R"),c=n("e6jQ"),l=n("T0fj"),d=n("fbVO"),u="ultra.directives.contentVisibilityRulesOptions",p=function(){function t(e,t,n,o,i){this.scope=e,this.element=t,this.form=n,this.context=o,this.bbLocalize=i,this.id=c.a(),this.scope.contentVisibilityRulesOptions=this,this.dateFrom=n.dateFrom,this.timeFrom=n.timeFrom,this.dateUntil=n.dateUntil,this.timeUntil=n.timeUntil,this.startDateSelect=!!this.scope.startDate,this.untilDateSelect=!!this.scope.endDate,this.setWatchers(),this.setValidators()}return t.prototype.shouldFocus=function(e){return void 0!==this.scope.dateFieldFocus&&"undefined"!==this.scope.dateFieldFocus&&this.scope.dateFieldFocus===e},t.prototype.handleCheckClick=function(t){var n=e(t.target),o=this.element.find(".from-check").prop("checked"),i=this.element.find(".until-check").prop("checked");if(this.scope.$emit("date-selection-changed",o,i),this.scope.isAllowedEmpty?o||i||this.form.dateFrom.$setValidity("startAndOrEndDate",!0):o||i?this.form.dateFrom.$setValidity("startAndOrEndDate",!0):(this.form.dateFrom.$setTouched(),this.form.dateFrom.$setValidity("startAndOrEndDate",!1)),this.form.dateUntil.$validate(),this.form.timeUntil.$validate(),this.form.dateFrom.$validate(),this.form.timeFrom.$validate(),n.hasClass("from-check")&&o)this.scope.startDate=this.context.getServerTime(),this.scope.startTime=this.context.getServerTime();else if(n.hasClass("until-check")&&i){var s=this.scope.startDate>this.context.getServerTime()?this.scope.startDate:this.context.getServerTime();this.scope.endDate=this.addDays(s,1),this.scope.endTime=this.addDays(s,1)}this.updateStartAndEndTime()},t.prototype.addDays=function(e,t){return new Date(e.getTime()+24*t*60*60*1e3)},t.prototype.setErrorString=function(e,t){var n=(t?"start":"end")+(e?"DateValidationError":"TimeValidationError");return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.content-visibility."+n})},t.prototype.isDateRequired=function(e){var t=this.element.find("#from-check-"+this.id).prop("checked"),n=this.element.find("#until-check-"+this.id).prop("checked");return!!(e?t:n)},t.prototype.setWatchers=function(){var e=this;this.scope.$watch("startDate",function(t){e.isValidDate(t)&&e.scope.startTime!==t&&(e.scope.startTime=t),e.onChange()}),this.scope.$watch("startTime",function(t){e.isValidDate(t)&&e.scope.startDate!==t&&(e.scope.startDate=t),e.onChange()}),this.scope.$watch("endDate",function(t){e.isValidDate(t)&&e.scope.endTime!==t&&(e.scope.endTime=t),e.onChange()}),this.scope.$watch("endTime",function(t){e.isValidDate(t)&&e.scope.endDate!==t&&(e.scope.endDate=t),e.onChange()}),this.scope.$watch("startDateSelect",function(t){e.scope.isAllowedEmpty&&(e.startDateSelect=t),!1===t&&e.scope.isAllowedEmpty&&(e.scope.startTime=null,e.scope.startDate=null)}),this.scope.$watch("untilDateSelect",function(t){e.scope.isAllowedEmpty&&(e.untilDateSelect=t),!1===t&&e.scope.isAllowedEmpty&&(e.scope.endTime=null,e.scope.endDate=null)})},t.prototype.setValidators=function(){var e=this,t=this.scope.$watch("form.dateFrom",function(n,o){e.form.dateFrom&&(e.scope.isAllowedEmpty?e.form.dateFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&null!=t||e.scope.isAllowedEmpty&&null===t}:e.form.dateFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&null!=t},e.form.timeFrom.$validators.required=function(t){return!e.startDateSelect||e.startDateSelect&&""!==e.timeFrom.$viewValue},e.scope.isAllowedEmpty?e.form.dateUntil.$validators.required=function(t){return!e.untilDateSelect||e.untilDateSelect&&null!=t||e.scope.isAllowedEmpty&&null===t}:e.form.dateUntil.$validators.required=function(t){return!e.untilDateSelect||e.untilDateSelect&&null!=t},e.form.timeUntil.$validators.required=function(){return!e.untilDateSelect||e.untilDateSelect&&""!==e.timeUntil.$viewValue},e.form.dateFrom.$validators.untilAfterStart=function(t){return e.form.dateUntil.$setTouched(),e.form.dateUntil.$validate(),!0},e.form.dateUntil.$validators.untilAfterStart=function(t){return!e.untilDateSelect||!e.startDateSelect||t&&e.isValidDateOrder(e.scope.startDate,t)},e.onChange(),e.element.find(".restricted-form").focusout(function(){e.form.$setDirty(),e.form.dateFrom.$validate(),e.form.timeFrom.$validate(),e.form.dateUntil.$validate(),e.form.timeUntil.$validate()}),t())})},t.prototype.onChange=function(){this.scope.onchangeFunc&&this.scope.onchangeFunc()},t.prototype.onBlur=function(){this.scope.onblurFunc&&this.scope.onblurFunc()},t.prototype.noDateErrorsExist=function(){return this.isStartDateValid()&&this.isEndDateValid()},t.prototype.isStartDateError=function(){return this.startDateSelect&&!this.scope.startDate},t.prototype.isStartAndOrEndDateError=function(){return!this.startDateSelect&&!this.untilDateSelect&&!this.scope.endDate},t.prototype.isStartDateValid=function(){return!this.isStartDateError()&&!this.isStartAndOrEndDateError()},t.prototype.isEndDateError=function(){return this.untilDateSelect&&!this.scope.endDate},t.prototype.isEndDateBeforeError=function(){return this.untilDateSelect&&this.scope.endDate&&this.startDateSelect&&!this.isValidDateOrder(this.scope.startDate,this.scope.endDate)},t.prototype.isEndDateValid=function(){return!this.isEndDateError()&&!this.isEndDateBeforeError()},t.prototype.isValidDate=function(e){return e&&!isNaN(e.getTime())},t.prototype.updateStartAndEndTime=function(){this.startDateSelect||(this.scope.startDate=null,this.scope.startTime=null),this.untilDateSelect||(this.scope.endDate=null,this.scope.endTime=null),this.noDateErrorsExist()&&(this.onChange(),this.onBlur())},t.prototype.isValidDateOrder=function(e,t){if(null==e||null==t)return!1;var n=new Date(e.getTime()),o=new Date(t.getTime());return n.setSeconds(0,0),o.setSeconds(0,0),r(o).isAfter(n)},t.$inject=["scope","element","form",s.b,i.serviceName],t}(),m=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.require="^form",this.scope={startDate:"=?",startTime:"=?",startDateSelect:"=?",endDate:"=?",endTime:"=?",untilDateSelect:"=?",onblurFunc:"&?",onchangeFunc:"&?",isReadOnlyMode:"&?",dateFieldFocus:"@?",isAllowedEmpty:"=?"},this.template=d,this.link=function(e,n,o,i){e.contentVisibilityRulesOptions=t.$injector.instantiate(p,{scope:e,element:n,form:i})}}return e.$inject=["$injector"],e}();o.module(u,[s.a,a.a,l.a]).directive("bbContentVisibilityRulesOptions",["$injector",function(e){return e.instantiate(m)}])}).call(this,n("EVdn"))},LecS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("IAsK");var o=n("IbG+"),i=n("pjml"),s=n("MMr7"),a="ultra.directives.lti",r=function(){function e(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=s,this.link=function(e,t){var n=e.$watch("targetContent.contentHandler",function(t){null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())});!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then(function(){e.content.description=e.targetContent.description}))}}return e.$inject=[i.o.serviceName],e}();o.module(a,[]).directive("bbLtiLinkItem",["$injector",function(e){return e.instantiate(r)}])},MKP7:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("mrSG"),i=n("cd4K"),s=n("IbG+"),a=n("/KQw"),r=n("0JpG"),c=n("TnpK"),l=n("+4Px"),d=n("e6jQ"),u=n("tecA"),p="ultra.directives.basicTextEditor",m=function(e){function t(t,n,o,i,s,a){var r=e.call(this,n,o,i,s,a)||this;return r.shouldPreventLineBreaking=!0,n.$on(u.b,function(){r.updateOriginalValues(),r.isTextTouched=!1}),n.shouldPreventLineBreaking&&(r.shouldPreventLineBreaking=n.shouldPreventLineBreaking()),r}return o.__extends(t,e),t.prototype.onKeydown=function(e){this.shouldPreventLineBreaking&&e.keyCode===l.f&&(e.stopPropagation(),e.preventDefault())},t.$inject=["$q","scope","element","ctrl",r.serviceName,c.d],t}(u.a),h=function(){function e(e){var t=this;this.$injector=e,this.require=["ngModel"],this.replace=!0,this.restrict="E",this.scope={placeholderKey:"@",placeholderAttrsValues:"@",elementId:"@",readonly:"&",getInputMaxLength:"&?inputMaxLength",onchangeFunc:"&?",onblurFunc:"&?",onFocusFunc:"&",ngModel:"=",fieldRequired:"&?",plainText:"=?",validationMessage:"@?",focusOn:"@?",noValidationMessage:"&?",direction:"&?",shouldPreventLineBreaking:"&?"},this.link=function(e,n,o,i){var s=i[0];e.textEditor=t.$injector.instantiate(m,{scope:e,element:n,ctrl:s}),e.elementId||(e.elementId="text-editor-"+d.a())},this.template=i}return e.$inject=["$injector"],e}();s.module(p,[a.a,r.moduleName,c.b]).directive("bbBasicTextEditor",["$injector",function(e){return e.instantiate(h)}])},MMr7:function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-blti-link" \n     bb-component-sref="{{prefix}}.engagement.edit({contentId:\'{{targetContent.id}}\'})"\n     class="content-title"\n     analytics-id="course.content.lti.link"><span>{{ content.title }}</span></a>\n</ng-switch>\n'},MQj0:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options" data-show-add-options ng-click="addContentButton.toggleMenu()"\n     ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n     aria-expanded="{{addContentButton.isMenuVisible}}" aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n     aria-label="{{addContentButton.addButtonAriaLabel}}"\n     ng-focus="addContentButton.showButton()" ng-blur="addContentButton.hideButton()"\n     analytics-id="components.directives.add-content-button.assignment.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        allow-multiple="true"\n        monitor-leave="true"\n        disable-drag="disableDrag && disableDrag()"\n        target-div="{{\'#\' + fileListViewId}}"\n        hide-transclude-during-upload="false"\n        is-third-party-upload="false"\n        disallow-folder-uploads="true"\n        skip-zip-file-check="true"\n        ignored-states="::ignoredStates()"\n        position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n           ng-click="addContentButton.toggleMenu()"\n           analytics-id="components.directives.add-content-button.assignment.fileUpload.link" >\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon><span bb-translate analytics-id="course.content.buildContentArea.addFiles">course.content.buildContentArea.addFiles</span>\n        </a>\n      </bb-file-upload>\n    </li>\n    <li ng-if="!addContentButton.isMobile">\n      \x3c!-- Skip zip file check, assignment does not support unzip file(LRN-101238) --\x3e\n      <bb-file-upload allow-multiple="true" monitor-leave="true" is-third-party-upload="true"  hide-transclude-during-upload="false" skip-zip-file-check="true"\n                      click-enabled="false" primary-key="fileListViewId" disable-drag="disableDrag && disableDrag()"\n                      third-party-download-handler="addContentButton.downloadFile" target-div="{{\'#\' + fileListViewId}}"\n                      position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           bb-one-drive primary-key="fileListViewId"\n           is-flatten="false"\n           attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n           ignored-states="::ignoredStates()"\n           bb-translate-attrs="{\'aria-label\':\'components.directives.add-content-button.aria-label.content.oneDrive\'}"\n           ng-click="addContentButton.toggleMenu(\'OneDriveUpload\')"\n           analytics-id="components.directives.add-content-button.assignment.oneDrive.link">\n          <div>\n            <i class="icon-cloud"></i><span bb-translate>components.directives.add-content-button.oneDrive</span>\n          </div>\n        </a>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},Nj19:function(e,t){e.exports='<span class="group-count-directive" bb-load-bundle="components/directives/group/group-count">\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="!($ctrl.content.selfEnrollmentGroups) || !$ctrl.content.selfEnrollmentGroups.length">components.directives.group-count.groups.plural</bb-translate>\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="$ctrl.content.selfEnrollmentGroups && $ctrl.content.selfEnrollmentGroups.length">components.directives.group-count.groups.selfEnroll.plural</bb-translate>\n</span>\n'},Ocaa:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var o=n("mrSG"),i=(n("0lMW"),n("nR+E"),n("IbG+")),s=n("oSB+"),a=n.n(s),r=n("0JpG"),c=n("2a+M"),l=n("+4Px"),d=n("pjml"),u=n("lEL+"),p=n("GbAM"),m="ultra.components.directives.bbDragHandle",h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.Vertical=new t("vertical"),t.Horizontal=new t("horizontal"),t.Omnidirectional=new t("omnidirectional"),t}(a.a),b=function(){function t(t,n,o,i){var s=this;this.$rootScope=t,this.bbLocalizeService=n,this.dragDropService=o,this.timeout=i,this.bbDragMoveTimeoutId=null,this.scope={dragItemId:"@",dragItemName:"@",dragItemType:"@",dragDirection:"@?",dragItemContext:"@?"},this.restrict="A",this.link=function(t,n,o){s.dragDirection=h.parse(t.dragDirection)||h.Vertical,s.dragDropService.currentDragContext=t.dragItemContext,e(n).parent().attr("role","application"),n.on("mousedown",function(o){function i(e){e.stopImmediatePropagation()}o.preventDefault(),document.addEventListener("click",i,!0),s.dragStart(o,n,t),e(document).on("mousemove.reorder",function(e){s.dragMove(e,t)}),e(document).on("mouseup.reorder",function(o){s.dragEnd(o,n),e(document).off("mousemove.reorder"),e(document).off("mouseup.reorder"),s.timeout(function(){document.removeEventListener("click",i,!0)},t,0,!1)})}),n.on("keydown",function(n){if(n.stopPropagation(),n.keyCode===l.f||n.keyCode===l.t)if(n.preventDefault(),s.dragDropService.isKeyboardDragging){var o=s.bbLocalizeService.translateSync({locale:s.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-stopped",noWrap:!0});s.$rootScope.$broadcast(p.a,o),e(document.body).removeClass("bb-is-dragging"),s.$rootScope.$broadcast("keyboard-drag-end")}else{s.dragDropService.isKeyboardDragging=!0,s.dragDropService.currentDragId=t.dragItemId,s.dragDropService.currentDragType=t.dragItemType,s.dragDropService.currentDropTargetId=t.dragItemId,s.dragDropService.positionBefore=t.dragItemId,e(document.body).addClass("bb-is-dragging"),s.$rootScope.$broadcast("keyboard-drag-start");var i=s.bbLocalizeService.translateSync({locale:s.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-started",params:{itemName:t.dragItemName},noWrap:!0});s.$rootScope.$broadcast(p.a,i)}else if(n.keyCode===l.v)n.preventDefault(),s.$rootScope.$broadcast("keyboard-drag-up");else if(n.keyCode===l.d)n.preventDefault(),s.$rootScope.$broadcast("keyboard-drag-down");else if(n.keyCode===l.s)n.preventDefault(),s.$rootScope.$broadcast("keyboard-drag-right");else if(n.keyCode===l.j)n.preventDefault(),s.$rootScope.$broadcast("keyboard-drag-left");else if(n.keyCode===l.g&&(n.preventDefault(),s.dragDropService.isKeyboardDragging)){var a=s.bbLocalizeService.translateSync({locale:s.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-canceled"});s.$rootScope.$broadcast(p.a,a),e(document.body).removeClass("bb-is-dragging"),s.$rootScope.$broadcast("keyboard-drag-cancel")}}),n.on("blur",function(){s.dragDropService.isKeyboardDragging&&(e(document.body).removeClass("bb-is-dragging"),s.$rootScope.$broadcast("keyboard-drag-cancel"))});var i=function(e){s.dragStart(e,n,t)},a=function(e){s.dragMove(e,t)},r=function(e){s.dragEnd(e,n)},c=function(){s.dragCancel()};n[0].addEventListener("touchstart",i,!1),n[0].addEventListener("touchmove",a,!1),n[0].addEventListener("touchend",r,!1),n[0].addEventListener("touchcancel",c,!1),t.$on("$destroy",function(){n[0].removeEventListener("touchstart",i,!1),n[0].removeEventListener("touchmove",a,!1),n[0].removeEventListener("touchend",r,!1),n[0].removeEventListener("touchcancel",c,!1)})}}return t.prototype.dragStart=function(t,n,o){this.$rootScope.$broadcast("bb-drag-start"),e(document.body).addClass("bb-is-dragging"),this.dragDropService.originalElement=n.closest(this.dragDropService.dragElementSelector),this.dragDropService.currentDragElement=this.dragDropService.originalElement.clone(),this.dragDropService.idOfPreviousItem=this.dragDropService.originalElement.prev(".drag-element").find("[drag-item-id]").attr("drag-item-id"),this.dragDropService.idOfNextItem=this.dragDropService.originalElement.next(".drag-element").find("[drag-item-id]").attr("drag-item-id");var i=e(".f-open-dropdown");(i.length>0&&window.Foundation.libs.dropdown.close(i),this.$rootScope.$broadcast("foundation-offcanvas-close-panel"),d.r.ContentHandler.Folder.isEqualTo(o.dragItemType))&&(this.$rootScope.$broadcast("close-folder-immediately-by-id",o.dragItemId),this.dragDropService.currentDragElement.find(".img-icon-folder-open").removeClass("img-icon-folder-open").addClass("img-icon-folder"));this.dragDropService.originalElement.addClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.addClass(this.dragDropService.movableElementClass).addClass("mouse-touch-drag"),this.dragDropService.originalElement.after(this.dragDropService.currentDragElement),this.dragDropService.currentDragId=o.dragItemId,this.dragDropService.currentDragType=o.dragItemType,this.dragDropService.currentDropTargetId=o.dragItemId,this.dragDropService.positionBefore=o.dragItemId,this.dragDropService.createDropPlaceholderElement(this.dragDropService.currentDragElement),this.dragMove(t,o)},t.prototype.dragEnd=function(t,n){e(document.body).removeClass("bb-is-dragging"),t.preventDefault(),this.dragDropService.originalElement.removeClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.movableElementClass),this.dragDropService.currentDragElement.removeAttr("style"),this.$rootScope.$broadcast("bb-drag-end")},t.prototype.dragCancel=function(){this.$rootScope.$broadcast("bb-drag-cancel"),e(document.body).removeClass("bb-is-dragging")},t.prototype.dragMove=function(e,t){var n=this;e.preventDefault();var o,i,s,a,r=this.dragDropService.currentDragElement.find("[bb-drag-handle]"),l=this.dragDropService.originalElement.find("[bb-drag-handle]").offset(),d=r.offset(),u=this.dragDropService.currentDragElement.offset(),p=d.left-u.left,m=d.top-u.top,b=p+r.width()/2,g=m+r.height()/2,v=h.Horizontal.isEqualTo(this.dragDirection)||h.Omnidirectional.isEqualTo(this.dragDirection),f=h.Vertical.isEqualTo(this.dragDirection)||h.Omnidirectional.isEqualTo(this.dragDirection);e.touches?(o=v?e.touches[0].pageX-b:u.left,i=f?e.touches[0].pageY-g:u.top,s=v?e.touches[0].pageX:l.left,a=f?e.touches[0].pageY:l.top):(o=v?e.pageX-b:u.left,i=f?e.pageY-g:u.top,s=v?e.pageX:l.left,a=f?e.pageY:l.top),this.dragDropService.currentDragElement.offset({left:o,top:i}),this.dragDropService.pointerPosition={left:s,top:a},this.dragDropService.scrollDragDropItemsContainer(this.dragDropService.pointerPosition.top,c.a.SCROLLING_CONSTANTS.mouseInteractionDistanceToScroll),this.timeout.cancel(this.bbDragMoveTimeoutId),this.bbDragMoveTimeoutId=this.timeout(function(){n.$rootScope.$broadcast("bb-drag-move")},t,150,!1)},t.$inject=["$rootScope",r.serviceName,c.d,u.b],t}();i.module(m,[r.moduleName,c.c,u.a]).directive("bbDragHandle",["$injector",function(e){return e.instantiate(b)}])}).call(this,n("EVdn"))},PZch:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.oneDrive.modal.errorTitle"\n          analytics-id-tag-prefix="components.directives.oneDrive">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.oneDrive.modal.errorFull</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" role="button" class="button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.oneDrive.modal.cancelUploadText">\n    <bb-translate>components.directives.oneDrive.modal.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},Qc1G:function(e,t,n){},RxAn:function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    class="button-add-content js-show-add-options"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.editor.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="::addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>\n\x3c!--\n  The elements are kept around to trigger download actions.\n  The \'ng-hide\' class is added to prevent the buttons from interfering with AX (tab order, screen readers)\n--\x3e\n<ul class="row element-list-add-menu angular-animate ng-hide small-block-grid-2"\n    ng-class="::{\'medium-block-grid-2\': !addContentButton.isCloudServiceAvailable, \'medium-block-grid-3\': addContentButton.isCloudServiceAvailable }">\n  \x3c!-- ng-class: if isMobile==true we have 3 buttons in the add content template.  Excluding\n    \'medium-offset-2\' will allow the 3 buttons to be on the same line.  Otherwise, \'OneDrive\'\n    ends up on the second row.\n  --\x3e\n  <li>\n    <button type="button" \n            class="js-add-text-block"\n            ng-click="addContentButton.addTextBlock()"\n            analytics-id="components.directives.add-content-button.editor.addText.button">\n      <div>\n        <i class="icon-doc-pencil-2"></i>\n        <span bb-translate>components.directives.add-content-button.addContent</span>\n      </div>\n    </button>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      click-enabled="true"\n      disable-drag="false"\n      class="js-file-upload"\n      web-location="{{webLocation}}"\n      file-location="{{fileLocation}}"\n      target-div="{{\'#\' + fileListViewId}}"\n      disallow-folder-uploads="true"\n      is-third-party-upload="false"\n      ignored-states="::ignoredStates()">\n        <button\n          type="button"\n          class="file-upload-button"\n          ng-click="addContentButton.assignPosition()"\n          aria-label="{{addContentButton.uploadAriaLabel}}"\n          analytics-id="components.directives.add-content-button.editor.fileUpload.button">\n          <div ng-if="!addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromComputer</span>\n          </div>\n          <div ng-if="addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromDevice</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="::addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="false"\n      monitor-leave="true"\n      target-div="{{\'#\' + fileListViewId}}"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      disable-drag="true"\n      is-third-party-upload="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      ignored-states="::ignoredStates()">\n      <button\n        type="button"\n        class="js-upload-from-kloudless"\n        ng-click="addContentButton.assignPosition()"\n        bb-kloudless\n        primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n        attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="false"\n        on-cancel-focus="!initialUpload ? addContentButton.focusAddButton : null"\n        analytics-id="components.directives.add-content-button.editor.uploadFromCloudStorage.button">\n          <div>\n            <i class="icon-cloud"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromCloudStorage</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n</ul>'},"SEv/":function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.oneDrive.modal.singleFile.title"\n          analytics-id-tag-prefix="components.directives.oneDrive">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.oneDrive.modal.singleFile.body</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="$parent.$close()" analytics-id="components.directives.oneDrive.modal.singleFile.ok">\n    <bb-translate>components.directives.oneDrive.modal.singleFile.ok</bb-translate>\n  </button>\n</bb-modal>\n'},Siqh:function(e,t,n){},StCz:function(e,t,n){},T0fj:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n("11+n"),n("7BzJ"),n("TuB2");var o=n("EVdn"),i=n("IbG+"),s=n("0JpG"),a=n("xqn/"),r=n("lEL+"),c=n("e6jQ"),l=n("yC9S"),d=n("oQrK"),u="ultra.components.directives.timepicker";o.fn.timepicker.Constructor.prototype.elementKeydown=o.fn.timepicker.Constructor.prototype.blurElement=o.fn.timepicker.Constructor.prototype.highlightUnit=function(){return!0};var p=function(){function e(e,t,n,i,a,r,u,p){var m=this;(this.scope=e,this.$element=t,this.attrs=n,this.model=i,this.bbLocalize=a,this.bbValidateTime=r,this.timeout=u,this.$compile=p,null==n.bbValidateTime)&&(n.bbValidateTime="short",this.bbValidateTime[0].compile(t,n,void 0)(e,t,n,i));if(!d.a.detect().desktop()&&window.Modernizr.inputtypes.time){if(n.$set("type","time"),t.removeAttr("placeholder"),n.bbTranslateAttrs){var h=e.$eval(n.bbTranslateAttrs);h.placeholder&&(delete h.placeholder,n.bbTranslateAttrs=JSON.stringify(h))}}else{var b;this.bbLocalize.loadBundle("components/directives/timepicker").then(function(){null==n.placeholder&&(null==n.placeholderDate?n.$set("placeholder",m.bbLocalize.translateSync({locale:m.bbLocalize.getLocale(m.scope),key:"components.directives.timepicker.timeFormatPlaceholder"})):(n.placeholderDate&&m.formatAndSetPlaceholder(new Date(n.placeholderDate.replace(/("|\')/g,""))),n.$observe("placeholderDate",function(e){e&&(m.placeholderDate=new Date(e.replace(/("|\')/g,"")),m.formatAndSetPlaceholder(m.placeholderDate))})));var e=m.bbLocalize.translateSync({locale:m.bbLocalize.getLocale(m.scope),key:"components.directives.timepicker.timeFormatHint"}),i="timepicker_"+c.a();b=o('<div class="hide" id="'+i+'">'+e+"</div>"),t.parent().append(b),t.attr("aria-describedby",i)});var g=this.$compile('<i aria-hidden="true"><bb-svg-icon size="small" icon="away"></bb-svg-icon></i>')(this.scope);t.before(g),t.keypress(function(e){13===e.which&&(e.preventDefault(),g.click())}),t.parent().addClass("input-group").find("i").addClass("input-group-addon");var v=a.getTimePatternSync(s.ILocaleTimeFormat.Short,e),f=t.timepicker({defaultTime:!1,disableMousewheel:!0,lockTabs:!0,minuteStep:1,showMeridian:v.indexOf("a")>-1,showWidgetOnAddonClick:!0}).data("timepicker"),y=this.bbLocalize.getLocale(this.scope),S=this.bbLocalize.getDayPeriodsFormatSync(y);f.meridianAm=S.am,f.meridianPm=S.pm;var w=function(){t.prop("disabled")||t.prop("readonly")?g.remove():t.prev()!==g&&(t.before(g),g.click(function(){f.showWidget()}))};n.$observe("disabled",function(e){w()}),n.$observe("readonly",function(e){w()}),f.$widget.attr("aria-hidden","true"),e.$watch(function(){return i.$modelValue},function(e,t){!e&&t?f.$element.val(""):!t&&e&&f.setDefaultTime(f.defaultTime)}),e.$watch(function(){return i.$viewValue},function(t){e.$emit("time-view-value-is-empty",i.$name,i.$dirty&&i.$isEmpty(t))}),f.defaultTime="current",f.$element.on("show.timepicker",function(){f.$widget.find("a").attr("tabindex","-1"),f.$element.val()?f.setTime(f.$element.val()):f.setDefaultTime(m.placeholderDate||f.defaultTime),0===f.$widget.find(".timepicker-timezone").length&&f.$widget.append(m.$compile('<div class="divider"></div>\n                           <div class="timepicker-timezone" bb-translate translate-values="{datetime: timepicker.model.$modelValue}">global.timezone.short</div>')(m.scope))}),f.$element.on("focusin",function(e){f.$element.prop("readonly")||f.$element.prop("disabled")||f.showWidget()}),f.$element.on("focusout",function(t){m.timeout(function(){0===f.$widget.find(":focus").length&&!f.$element.is(":focus")&&o(":focus").length>0&&f.hideWidget()},e,0,!1)}),f.$widget.on("focusin",function(e){e.stopImmediatePropagation()}),f.$widget.on("focusout",function(t){m.timeout(function(){0===f.$widget.find(":focus").length&&!f.$element.is(":focus")&&o(":focus").length>0&&f.hideWidget()},e,0,!1)}),f.$element.on("hide.timepicker",function(){f.$widget.find(":focus").length>0&&t.focus()});var C=function(){f.place()};e.$on("$destroy",function(){f.remove(),t.parents(".panel-wrap").eq(0).unbind("scroll",C),b&&b.remove()}),l.b.OnWindow("scroll",C,e),t.parents(".panel-wrap").eq(0).bind("scroll",C)}}return e.prototype.formatAndSetPlaceholder=function(e){var t=this.bbLocalize.formatTimeSync(e,s.ILocaleTimeFormat.Short,this.scope);this.attrs.$set("placeholder",t)},e.$inject=["scope","element","attrs","model",s.serviceName,a.a+"Directive",r.b,"$compile"],e}(),m=function(){function e(e){var t=this;this.$injector=e,this.priority=1,this.restrict="A",this.require="ngModel",this.scope={},this.link=function(e,n,o,i){e.timepicker=t.$injector.instantiate(p,{scope:e,element:n,attrs:o,model:i})}}return e.$inject=["$injector"],e}();i.module(u,[s.moduleName,a.b,r.a]).directive("bbTimePicker",["$injector",function(e){return e.instantiate(m)}])},TGb3:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-lock",use:"icon-medium-lock-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-lock"><path d="M11 16c0-.5523.4477-1 1-1v0c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1v0c-.5523 0-1-.4477-1-1v-2z" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M3 11h18v12H3z" /><path d="M6 11V6s0-5 6-5 6 5 6 5v5" stroke-width="2" /></symbol>'});i.add(s);e.exports=s},TuB2:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-away",use:"icon-small-away-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-away"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 10L8 8V4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},UGfE:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("IbG+"),i=n("pjml"),s=n("9K4n"),a="ultra.directives.courseLinkItem",r=function(){function e(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=s,this.link=function(e,t){var n=e.$watch("targetContent.contentHandler",function(t){null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())});!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then(function(){e.content.description=e.targetContent.description})),e.ariaDescribedBy="content-item-icon-"+e.content.id,e.content.ui.hasIndicator&&(e.ariaDescribedBy+=" activity-indicator-"+e.content.id)}}return e.$inject=[i.o.serviceName],e}();o.module(a,[]).directive("bbCourseLinkItem",["$injector",function(e){return e.instantiate(r)}])},UGkS:function(e,t){e.exports='<a class="content-title" \n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}" \n   ng-click="contentItemLtiLaunch.ltiLaunch()" \n   href="javascript:void(0);"\n   analytics-id="content.item.ltilaunch.link"><span>{{ content.title }}</span></a>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.broken-link</span>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.approval-required</span>'},UwmR:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility" class="item-selector-container content-visibility-selector" bb-cache-compilation="content-visibility-selector">\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isVisibleToStudents()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon"></bb-svg-icon>\n    <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n      components.directives.content-visibility.visible\n    </span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isHiddenFromStudents()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon"></bb-svg-icon>\n    <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isConditionalRelease()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon"></bb-svg-icon>\n    <span class="js-visibility js-restricted-option js-conditional-release-option" bb-translate>components.directives.content-visibility.conditional-availability</span>\n  </div>\n  <button name="visibility-content" ng-model="content.visible" ng-show="contentVisibilitySelector.isEditable()"\n          ng-disabled="content.isInForcedSequenceModule()"\n          bb-prevent-click-if="!contentVisibilitySelector.isVisibilitySelectorEnabled()" type="button"\n          class="button dropdown" aria-controls="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}"\n          data-dropdown="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}" aria-expanded="false"\n          analytics-id="course.content.visibility.button">\n    <div class="visibility-label" ng-if="content.isVisibleToStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.visible\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="content.isHiddenFromStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-hidden-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.hidden\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="content.isConditionalRelease()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-restricted-option vert-centered-label-text" bb-translate>components.directives.content-visibility.conditional-availability</span>\n    </div>\n    \x3c!-- LRN-114090 The native mobile select works by covering the button to intercept the click.\n          It needs to be nested inside the button properly fill the entirety of the button. --\x3e\n    <select ng-if="::contentVisibilitySelector.useNativeSelect()" class="button"\n            ng-model="contentVisibilitySelector.selectedVisibilityOption"\n            ng-options="option.text for option in contentVisibilitySelector.visibilityOptions | filter: {show: true}"\n            ng-change="contentVisibilitySelector.selectedVisibilityOption.onSelect()"\n            analytics-id="course.content.visibility.select">\n    </select>\n  </button>\n\n  <ul ng-if="::!contentVisibilitySelector.useNativeSelect()" ng-show="contentVisibilitySelector.isEditable()"\n      id="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}" class="f-dropdown item-visibility-selector selection-full-width"\n      data-dropdown-content aria-hidden="true">\n    <li ng-class="{\'item-selected\': content.isVisibleToStudents()}" ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectVisible()" class="visible-option visibility-label"\n         analytics-id="components.directives.content-visibility.visible.link">\n        <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible"></bb-svg-icon>\n        <span bb-translate course-org-token-resolver>components.directives.content-visibility.visible</span>\n      </a>\n    </li>\n    <li ng-class="{\'item-selected\': content.isHiddenFromStudents()}" ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectHidden()" class="hidden-option visibility-label"\n         analytics-id="components.directives.content-visibility.hidden.link">\n          <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible"></bb-svg-icon>\n          <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n      </a>\n    </li>\n    <li ng-if="contentVisibilitySelector.showConditionalReleaseMenuOption()" ng-class="{\'item-selected\': content.isConditionalRelease()}">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectConditionalRelease()" class="restricted-option visibility-label conditional-release-restricted-option"\n         analytics-id="components.directives.content-visibility.conditional-availability.link">\n          <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock"></bb-svg-icon>\n          <span bb-translate>components.directives.content-visibility.conditional-availability</span>\n      </a>\n    </li>\n  </ul>\n</div>\n'},VCh6:function(e,t){e.exports='<div bb-load-bundle="components/directives/content/learning-module/learning-module-base-item" class="base-content-item bb-lm-base-item"\n  bb-cache-compilation="lm-base-item">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" ng-paste="$event.stopPropagation()">\n    <div ng-switch on="content.ui.importPlaceholder">\n      \x3c!-- Import placeholder  --\x3e\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n\n      \x3c!-- Non-imported content --\x3e\n      <div ng-switch-default class="drag-element-row" ng-class="{\'is-restricted\': content.canEdit() && content.isHiddenFromStudents(), \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canEdit()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n\n              <ng-switch on="content.ui.isUploading">\n                \x3c!-- Uploading section begin --\x3e\n\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n                \x3c!-- Uploading section end --\x3e\n\n                <div class="outline-item-inner" ng-switch-default>\n\n                  <div class="lm-header-section">\n                    \x3c!-- Learning Module title section begin --\x3e\n\n                    \x3c!-- Learning Module title editor --\x3e\n                    <div class="lm-header-row" bb-click-to-invoke-child=".list-tree-toggle button">\n                      \x3c!-- Header row section --\x3e\n                      <div class="lm-title-text-editor">\n                        <div class="editable-title-container" ng-show="!baseItem.titleEditMode">\n                          \x3c!-- Conditional release section begin --\x3e\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isConditionalReleaseLocked()">\n                            <bb-svg-icon size="small" icon="lock"></bb-svg-icon>\n                          </div>\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isForcedSequenceModule() && content.state === \'Started\'">\n                            <bb-svg-icon size="small" icon="started" status="success"></bb-svg-icon>\n                          </div>\n                          <div class="element-conditional-release" ng-if="!content.canEdit() && content.isForcedSequenceModule() && content.state === \'Completed\'">\n                            <bb-svg-icon size="small" icon="complete" status="success"></bb-svg-icon>\n                          </div>\n                          \x3c!-- Conditional release section end --\x3e\n                          \x3c!-- Attach event only at Instructor View --\x3e\n                          <div ng-if="::content.canEdit()" class="lm-title-instructor">\n                            <h3 class="sr-only" tabindex="-1">{{content.title}}</h3>\n                            <h3 class="lm-title secondary-title ellipse" ng-click="baseItem.enterTitleEditMode($event)" tabindex="-1" aria-hidden="true"\n                                analytics-id="components.directives.learningModule.baseItem.enterTitleEditMode.header">\n                            {{content.title}}\n                            </h3>\n                            <button ng-if="::content.canEdit()" class="button super-clear edit-title" type="button"\n                                ng-click="baseItem.enterTitleEditMode($event)"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.base-item.edit-title\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                analytics-id="course.learning.module.base.item.editTitle.button"\n                                >\n                                <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n                            </button>\n                          </div>\n\n                          \x3c!-- Just display title at Student View --\x3e\n                          <div class="lm-title-student" ng-if="::(!content.canEdit())">\n                            <button class="lm-title secondary-title ellipse"\n                                tabindex="0"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                aria-expanded="{{isOpen}}"\n                                title="{{::content.title}}"\n                                ng-click="!content.isConditionalReleaseLocked() && baseItem.toggleLM()"\n                                analytics-id="course.learning.module.base.item.toggleLm.button">\n                              {{::content.title}}\n                            </button>\n                            <div ng-if="content.isConditionalReleaseLocked()"\n                              role="tooltip"\n                              tabindex="0"\n                              class="lock-info"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-open-on-activation="true"\n                              tooltip-disable-on-mouse-over="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.lock-info</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div ng-show="baseItem.titleEditMode" bb-click-outside="baseItem.exitTitleEditMode()" ng-if="::content.canEdit()">\n                          <div class="lm-input">\n                            <input name="learning-module-title" class="lm-header-title lm-title" type="text" autocapitalize="off" ng-keydown="baseItem.onTitlePressKey($event)"\n                              maxlength="{{::baseItem.titleMaxLength}}" ng-model="content.title" ng-model-options="{ getterSetter: true }"\n                              ng-blur="baseItem.exitTitleEditMode($event)" ng-change="baseItem.onChangeTitle()" ng-click="$event.stopPropagation()"\n                              aria-required="true"\n                              bb-translate-attrs="{\'aria-label\': \'components.directives.header.placeholder.x-bb-lesson\'}"\n                              ng-required="true"\n                              analytics-id="course.learning.module.base.item.learningModuleTitle.input.text">\n                          </div>\n                        </div>\n                        \x3c!-- Learning Module visibility selector  --\x3e\n                        <div class="lm-visibility-selector" ng-if="content.canEdit() || (baseItem.isCourseCompletedAndInInstructorView() && content.isConditionalRelease())">\n                          <bb-content-visibility-selector ng-if="::content.canEdit()" content="content" is-visibility-selector-enabled="true" onchange-func="baseItem.onChangeVisibility()"\n                            open-panel-on-restricted="true" disable-restricted="false" enable-conditional-release="true">\n                          </bb-content-visibility-selector>\n                          <div class="rules" ng-if="(content.canEdit() || baseItem.isCourseCompletedAndInInstructorView()) && content.isConditionalRelease()">\n                            <a href="javascript:void(0);"\n                              ng-click="baseItem.canOpenConditionalRelease && baseItem.openConditionalRelease()"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n                              tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n                              tooltip-auto-update="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n                              analytics-id="components.directives.content-item-base.conditionalRelease.{{baseItem.conditionalRelease.conditionType}}.link">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.{{baseItem.conditionalRelease.conditionType}}</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </a>\n                          </div>\n                        </div>\n                        \x3c!-- Learning Module control section begin --\x3e\n                        \x3c!-- for student --\x3e\n                        \x3c!-- <div ng-if="::(!content.canEdit())">\n                          <span class="lm-counting">{{baseItem.completed}} / {{baseItem.count}}</span>\n                        </div> --\x3e\n                        \x3c!-- for instructor --\x3e\n                        <div ng-if="::(content.canEdit() && canMove)" ng-show="!baseItem.titleEditMode" class="lm-drag-button">\n                          <button bb-drag-handle drag-item-id="{{content.id}}"\n                                  drag-item-name="{{content.title}}"\n                                  drag-item-type="{{content.contentHandler}}"\n                                  drag-item-context="{{contextArea}}"\n                                  class="super-clear small button icon js-drag-handle"\n                                  translate-attrs-values="{contentTitle: content.title}"\n                                  bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                                  analytics-id="course.learning.module.base.item.move.button">\n                            <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n                          </button>\n                        </div>\n                        <div bb-foundation-defer>\n                          <bb-overflow-menu ng-if="::(content.canDelete() || content.canEdit() || content.hasConversation() && !content.isConditionalReleaseLocked())"\n                                            element-id="{{::(\'learning-module\' + baseItem.controlId)}}"\n                                            element-name="{{content.title}}"\n                                            menu-items="baseItem.getOverflowMenu()"\n                                            analytics-id-tag-prefix="components.directives.learning-module.base-item.overflowMenu">\n                          </bb-overflow-menu>\n                        </div>\n                      </div>\n\n                      \x3c!-- Learning Module control section end --\x3e\n                      <div class="list-tree-toggle" ng-if="::(content.canEdit() || !content.isRestricted())">\n                        <button class="button super-clear" ng-click="baseItem.toggleLM()" aria-controls="{{::\'learning-module-contents-\' + content.id}}"\n                          aria-expanded="{{isOpen}}"\n                          bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\',\n                          title: isOpen ? \'components.directives.learning-module.base-item.collapse\' : \'components.directives.learning-module.base-item.expand\'}"\n                          translate-attrs-values="{learningModuleName: content.title}"\n                          analytics-id="course.learning.module.base.item.toggleLm.button"\n                          >\n                          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n                    \x3c!-- Learning Module title section end --\x3e\n                  </div>\n                  \x3c!-- Learning Module description section begin --\x3e\n                  <div class="lm-description"  ng-if="::(content.canEdit() || content.description)" ng-show="isOpen">\n                    \x3c!-- Displays at instructor view  --\x3e\n\n                    <div ng-if="::(content.canEdit())">\n                      <div class="lm-add-description" ng-if="!content.description && !baseItem.descriptionEditMode">\n                        <button type="button"\n                                class="lm-add-description-btn"\n                                ng-click="baseItem.editDescription()"\n                                bb-translate-attrs="{\'aria-label\': baseItem.toggleAriaLabel}"\n                                analytics-id="course.learning.module.base.item.lmAddDescription.button">\n                          <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n                          <span bb-translate>components.directives.learning-module.base-item.add-description</span>\n                        </button>\n                      </div>\n\n                      <div ng-show="baseItem.descriptionEditMode" is-active="baseItem.descriptionEditMode" bb-click-outside="baseItem.saveDescription()">\n                        <form>\n                          <bb-basic-text-editor ng-model="content.description"\n                            element-id="{{::(\'lm-editor\' + content.id)}}"\n                            class="lm-description-editor"\n                            ng-class="{focused: baseItem.descriptionEditMode}"\n                            input-max-length="250"\n                            read-only="false"\n                            should-prevent-line-breaking="false"\n                            >\n                          </bb-basic-text-editor>\n                          <div class="buttons-2 equal-buttons panel-footer-right">\n                              <button class="button button--secondary js-cancel js-secondary-button non-first-focus"\n                                      ng-click="baseItem.cancelDescriptionEdit()"\n                                      bb-translate\n                                      ng-mousedown="$event.preventDefault()"\n                                      type="button"\n                                      analytics-id="components.directives.save-buttons.cancel">components.directives.save-buttons.cancel</button>\n                              <button class="button js-save js-primary-button non-first-focus"\n                                      ng-disabled="!baseItem.isDescriptionEdited()"\n                                      ng-click="baseItem.saveDescription()"\n                                      bb-translate\n                                      ng-mousedown="$event.preventDefault()"\n                                      type="button"\n                                      analytics-id="components.directives.save-buttons.notSaved">components.directives.save-buttons.notSaved</button>\n                            </div>\n                        </form>\n                      </div>\n\n                      <div class="description-show-text-container"\n                           ng-show="content.description && !baseItem.descriptionEditMode"\n                           ng-click="baseItem.onDescriptionClicked()"\n                           analytics-id="components.directives.learning-module.base-item.descriptionClicked"\n                      >\n                        <p class="description-show-text">\n                          {{content.description}}\n                        </p>\n                        <button class="description-editor"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.base-item.edit-description\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                analytics-id="course.learning.module.base.item.editDescription.button">\n                            <bb-svg-icon icon="draw" size="small" aria-hidden="true"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n\n                    \x3c!-- Displays at student view --\x3e\n                    <div ng-if="::(!content.canEdit())">\n                      <div>\n                        <p class="description-show-text">\n                          {{content.description}}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \x3c!-- Learning Module description section end --\x3e\n              </ng-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},WQKu:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-groups",use:"icon-medium-groups-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-groups"><g clip-path="url(#icon-medium-groups_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 23.0644C17.3246 21.1155 14.8704 20 12 20s-5.3246 1.1155-7 3.0644M12 20c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8z" /><path d="M23 11s-1-3-4.5-3c-2.1456 0-3.3517 1.1274-3.9639 2M5.5 8C3.567 8 2 6.433 2 4.5S3.567 1 5.5 1 9 2.567 9 4.5 7.433 8 5.5 8zM1 11s1-3 4.5-3c2.1456 0 3.3517 1.1274 3.9639 2" /></g><defs><clipPath id="icon-medium-groups_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});i.add(s);e.exports=s},"X+dl":function(e,t){e.exports='<button class="button-add-content js-show-add-options" \n        data-show-add-options \n        ng-click="addContentButton.addGroup()"\n        ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n        aria-expanded="{{addContentButton.isMenuVisible}}" \n        aria-label="{{addContentButton.addButtonAriaLabel}}"\n        ng-focus="addContentButton.showButton()" \n        ng-blur="addContentButton.hideButton()"\n        analytics-id="components.directives.add-content-button.course-group.button">\n</button>\n'},"XFF/":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-question-analysis",use:"icon-small-question-analysis-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-question-analysis"><path d="M11 1H5l1 2v4l-5 8h14l-5-8V3l1-2zM4.125 10h7.75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},YGje:function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    class="button-add-content"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.discussion.button"\n  >\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="::addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible && !addContentButton.isEmptyFolder()"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>\n\x3c!-- some condition --\x3e\n<ul role="menu" class="element-list-add-menu small-block-grid-1 angular-animate"\n    ng-attr-id="{{::\'add-discussion-menu-\' + addMenuId}}"\n    ng-if="addContentButton.isEmptyFolder()">\n  <li>\n    <a role="menuitem" \n       tabindex="0" \n       bb-peek-sref="discussion.view.with-grading(addContentButton.getInsertLocationData())" \n       class="js-create-discussion-link"\n       ng-click="addContentButton.toggleMenu()"\n       analytics-id="components.directives.add-content-button.discussion.link">\n      <div>\n        <bb-svg-icon size="medium" icon="discussion"></bb-svg-icon><span bb-translate>components.directives.add-content-button.addDiscussion</span>\n      </div>\n    </a>\n  </li>\n</ul>\n'},YHe3:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b});var o=n("mrSG"),i=n("IbG+"),s=n("pjml"),a=n("TnpK"),r=n("Q/M7"),c=n("12mu"),l=n("0JpG"),d=n("nYZ0"),u=n("Qbdf"),p=n("OMme"),m=n("+oAF"),h="ultra.components.services.proctoring",b="proctoring",g={Respondus:"respondus"},v=function(){function e(e,t,n,o,i,s,a,r,c,l,d,u){this.$q=e,this.$rootScope=t,this.$sce=n,this.$window=o,this.CourseModel=i,this.CourseContentModel=s,this.ProctoringServicesModel=a,this.modal=r,this.contentService=c,this.contextCourse=l,this.localize=d,this.ultraState=u}return e.prototype.getBooksAndToolsDescription=function(e){return"components.services.proctoring.booksAndTools."+g[e.vendor]+".description"},e.prototype.getProctoringServices=function(){var e=this.$q.defer();return this.ProctoringServicesModel.$search({"availability.available":"Yes"}).$allow(["400-599"]).$asPromise().then(function(t){t.$response&&t.$response.status>=400?e.resolve([]):e.resolve(t)},function(){return e.resolve([])}),e.promise},e.prototype.getProctoringOutlineSummaryText=function(e,t){var n="components.services.proctoring.outline.";if(e.getProctoringServiceHandle()){if(e.isSecureBrowserRequiredToTake()){var o=t?".instructor":".student";return e.isWebcamRequired()?n+g[e.getProctoringServiceVendor()]+o+".secureBrowserAndWebcamRequired":n+g[e.getProctoringServiceVendor()]+o+".secureBrowserRequired"}return null}return null},e.prototype.getProctoringAssessmentSettingsText=function(e){return"components.services.proctoring.settings."+g[e]+".toolLink"},e.prototype.getProctoringAssessmentSettingsRequirementsText=function(e){var t="components.services.proctoring.settings.";return e.getProctoringServiceHandle()&&e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+g[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+g[e.getProctoringServiceVendor()]+".secureBrowserRequired":null},e.prototype.getProctoringOverviewBrowserText=function(e){return e.isSecureBrowserRequiredToTake()?"components.services.proctoring.overview."+g[e.getProctoringServiceVendor()]+".browser":null},e.prototype.getProctoringOverviewRequirementsText=function(e){var t="components.services.proctoring.overview.";return e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+g[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+g[e.getProctoringServiceVendor()]+".secureBrowserRequired":null},e.prototype.getProctoringOverviewDownloadText=function(e){return e.getProctoringDownloadUrl()?"components.services.proctoring.overview."+g[e.getProctoringServiceVendor()]+".downloadBrowser":null},e.prototype.openProctoringLTITool=function(e,t){var n="/webapps/assessment/controller/proctoring/launchProctoringSettings?proctoring_svc_id="+e.id+"&course_id="+this.contextCourse.courseId;t&&(n+="&content_id="+t.id);var o={toolHref:r.c(n)};t&&t.title&&t.title.length>0&&(o.toolSubtitle=t.title),this.ultraState.goPeekState("proctoring-lti-tool",o)},e.prototype.getProctoringReviewButtonText=function(e){return"components.services.proctoring.delivery.review."+g[e]+".reviewResults"},e.prototype.getProctoringReviewDownloadText=function(e){return"components.services.proctoring.delivery.review."+g[e]+".download"},e.prototype.getProctoringModalRequirementsText=function(e){return"components.services.proctoring.modal."+g[e]+".requirements"},e.prototype.getProctoringModalDownloadText=function(e){return"components.services.proctoring.modal."+g[e]+".download"},e.prototype.getProctoringModalBrowserText=function(e){return"components.services.proctoring.modal."+g[e]+".browser"},e.prototype.openProctoringModal=function(e,t){var n=this,o=this.ultraState.getCurrentUrlParams();setTimeout(function(){var i=n.$rootScope.$new(!0);n.proctoringModal=n.modal.open({scope:i,template:m,backdrop:"static"});var s=n.ultraState.prev.name.lastIndexOf("peek.");n.peekState=s?n.ultraState.prev.name.substr(s+5):n.ultraState.prev.name,n.proctoringModal.dismiss=n.openOverviewPeekPanel.bind(n),n.courseId=o.courseId,n.contentId=o.contentId,i.requirementsText=n.getProctoringModalRequirementsText(e.getProctoringServiceVendor()),i.downloadText=n.$sce.trustAsHtml(n.localize.translateSync({key:n.getProctoringModalDownloadText(e.getProctoringServiceVendor()),params:{downloadUrl:e.getProctoringDownloadUrl()},locale:t,noWrap:!0,noEscape:!0})),i.browserText=n.getProctoringModalBrowserText(e.getProctoringServiceVendor())},3e3)},e.prototype.openOverviewPeekPanel=function(){this.ultraState.goPeekState(this.peekState,this.ultraState.prevParams),this.proctoringModal.close()},e.prototype.getSecureBbEditorOptions=function(e){return this.ultraState.current.name===p.a&&(e.attachment=!1,e.image=!1,e.thirdPartyContent=!1,e.video=!1),e},e.prototype.handleProctoredAssessmentClose=function(e){"Respondus"===e.getProctoringServiceVendor()?r.p(r.c("/ultra/proctoring/close?rldbsm=1&rldbxb=1")):this.$window.close()},e.$inject=["$q","$rootScope","$sce","$window",s.o.serviceName,s.r.serviceName,s.ob.serviceName,c.b,d.d,u.e,l.serviceName,a.d],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o.__extends(t,e)}(v);i.module(h,["ngSanitize",d.c,l.moduleName,c.a,a.b,u.b]).service(b,v)},Zahr:function(e,t,n){},aTRN:function(e,t,n){"use strict";var o=n("mrSG"),i=n("pjml"),s=n("aHpC"),a=n("oSB+"),r=n.n(a),c=n("4GL6"),l=n("0JpG"),d=n("oi1r"),u=n("TnpK"),p=n("Qbdf"),m=n("X455"),h=n("LvDl"),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.Multiple=new t("multiple-conditions"),t.Performance=new t("performance"),t.ForcedSequence=new t("forced-sequence"),t.Date=new t("date"),t.None=new t("none"),t}(r.a),g=function(){function e(e,t,n,o,i,s,a){var r=this;this.localizeService=e,this.schemaService=t,this.courseModel=n,this.contextCourse=o,this.contextCourseMembership=i,this.scope=a,this.isPerformanceConditionInvalid=!1,this.role=h.memoize(function(){return r.contextCourseMembership.courseMembership&&r.contextCourseMembership.courseMembership.isActAsInstructorMembership()?"instructor":"student"}),this.courseId=o.courseId?o.courseId:s.params.courseId}return e.prototype.getConditions=function(e,t,n){this.content=e;var o=e.adaptiveReleaseRules&&e.adaptiveReleaseRules.rules;if(o&&o.length||e.isForcedSequenceModule())if(this.getConditionType(o),this.getPerformanceCriteria()?this.getPerformanceCondition(t,n):this.performanceToolTips=null,this.getDateCriteria()?this.getDateCondition():this.dateToolTips=null,e.isForcedSequenceModule()&&this.contextCourseMembership.courseMembership.isActAsInstructorMembership()||e.isForcedSequenceItem()){var i=e.isForcedSequenceModule()?"module":"item";e.isForcedSequenceItem()&&0===e.position&&(i="first-"+i),this.forcedSequenceTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease."+this.role()+"-forced-sequence-"+i+"-tooltip",noWrap:!0,noEscape:!0}),this.updatetooltipScope()}else this.forcedSequenceTips=null},e.prototype.getConditionType=function(e){e&&e[0]&&e[0].criteria&&(this.allCriteria=e[0].criteria);var t=this.getPerformanceCriteria(),n=this.getDateCriteria(),o=this.content&&(this.content.isForcedSequenceModule()||this.content.isForcedSequenceItem()),i=[t,n,o].filter(function(e){return!!e}).length;this.conditionType=i>=2?b.Multiple.toString():t?b.Performance.toString():n?b.Date.toString():o?b.ForcedSequence.toString():b.None.toString()},e.prototype.getPerformanceCriteria=function(){return this.getCriteriaByType("Grade_Range")||this.getCriteriaByType("Grade_Range_Percentage")},e.prototype.getDateCriteria=function(){return this.getCriteriaByType("Date_Range")},e.prototype.getCriteriaByType=function(e){return this.allCriteria&&this.allCriteria.find(function(t){return t.type===e})},e.prototype.getPerformanceCondition=function(e,t){var n=this;this.gradeCriteria=this.getPerformanceCriteria();var o=this.gradeCriteria&&this.gradeCriteria.minScore,s=this.gradeCriteria&&this.gradeCriteria.maxScore,a=this.gradeCriteria&&this.gradeCriteria.gradeColumnId,r="",c="";if(!a||t){var l="components.directives.content-item-base.conditionalRelease."+this.role()+"-missing-column-error";return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:l,noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updatetooltipScope()}this.courseModel.$new(this.courseId||this.content.courseId).gradebook.columns.$find(a).$allow([403]).$then(function(t){if(t.$response&&403===t.$response.status)return n.performanceToolTips=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),key:"components.directives.content-item-base.conditionalRelease.student-missing-column-error",noWrap:!0,noEscape:!0}),n.isPerformanceConditionInvalid=!0,void n.updatetooltipScope();var a="components.directives.content-item-base.conditionalRelease."+n.role()+"-lock-tooltip",l=e||t&&t.columnName;a+=void 0===s?"-common":o===s?"-equal":"-custom",n.schemaService.loadSchemas(n.courseId).then(function(e){var d=e&&e.find(function(e){return e.id===t.gradingSchemaId})||{};n.gradeCriteria&&"Grade_Range"===n.gradeCriteria.type&&(void 0!==s||i.J.ScaleType.Score.isEqualTo(d.scaleType)||i.J.ScaleType.Complete.isEqualTo(d.scaleType))&&(r=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:o||0},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}),c=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:s||t.possible},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0})),n.gradeCriteria&&"Grade_Range_Percentage"===n.gradeCriteria.type&&(void 0!==s||i.J.ScaleType.Percent.isEqualTo(d.scaleType)?(r=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:o||0},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0}),c=n.localizeService.translateSync({locale:n.localizeService.getLocale(n.scope),params:{score:s||t.possible},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0})):i.J.ScaleType.Tabular.isEqualTo(d.scaleType)&&(d.symbols.sort(function(e,t){return e.absoluteTranslation-t.absoluteTranslation}),d.symbols.forEach(function(e){e.absoluteTranslation>=o&&(o=e.symbol,r=o)}))),n.getPerformanceToolTips(a,r,c,l)})})},e.prototype.getDateCondition=function(){if(this.dateCriteria=this.getDateCriteria(),this.dateCriteria){var e=this.dateCriteria.start&&this.dateCriteria.end?"both":this.dateCriteria.start?"showon":this.dateCriteria.end?"hideafter":null,t="components.directives.content-item-base.conditionalRelease."+this.role()+"-"+e+"-date-tooltip";this.dateToolTips=e&&this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,params:{showon:new Date(this.dateCriteria.start),hideafter:new Date(this.dateCriteria.end)},noWrap:!0,noEscape:!0}),this.updatetooltipScope()}},e.prototype.getPerformanceToolTips=function(e,t,n,o,i){void 0===i&&(i=""),this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,params:{minScore:t,maxScore:n,title:o},noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!1,this.updatetooltipScope()},e.prototype.updatetooltipScope=function(){angular.isUndefined(this.tooltipScope)&&(this.tooltipScope=this.scope.$new(!0)),this.tooltipScope.items=[],this.performanceToolTips&&(this.tooltipScope.items.push(this.performanceToolTips),this.isPerformanceConditionInvalid)?this.tooltips=this.performanceToolTips:(this.dateToolTips&&this.tooltipScope.items.push(this.dateToolTips),this.forcedSequenceTips&&this.tooltipScope.items.push(this.forcedSequenceTips),this.tooltips=this.tooltipScope.items.join(" "))},e.prototype.getConditionalReleaseComplexTooltipTemplate=function(){return c.a("conditional-release-tooltip")},e=o.__decorate([o.__param(0,Object(s.b)(l.serviceName)),o.__param(1,Object(s.b)(d.b)),o.__param(2,Object(s.b)(i.o.serviceName)),o.__param(3,Object(s.b)(p.e)),o.__param(4,Object(s.b)(m.d)),o.__param(5,Object(s.b)(u.d)),o.__param(6,Object(s.b)("scope"))],e)}();t.a=g},akWS:function(e,t){e.exports='<div bb-load-bundle="components/directives/add-content-button">\n  <div class="add-element no-select js-add-content-button {{::contextArea + \'-add-button\'}}"\n       ng-class="{\n         \'force-show-add-button\': addContentButton.isForceShowAddButton && addContentButton.isForceShowAddButton(),\n         \'is-active\': addContentButton.isMenuVisible,\n         \'button-visible\': addContentButton.isButtonVisible,\n         hide: hideDividerLines() && !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)\n       }"\n       ng-keydown="addContentButton.onKeydown($event)">\n    <template></template>\n  </div>\n  <div id="{{::fileListViewId}}">\n    <bb-progress display-results="false" primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId" target-div="{{::\'#\' + fileListViewId}}"></bb-progress>\n  </div>\n</div>'},bhWV:function(e,t,n){"use strict";n("5Xie");var o=n("IbG+"),i=n("wy9x"),s=n("ga7A"),a=n("Is+C"),r=n("rVeu"),c="ultra.components.directives.content.contentItem.contentItemType.contentItemScormlaunch",l=function(){function e(e,t){this.scope=e,this.scormService=t}return e.prototype.scormLaunch=function(){if(!this.scope.content.isScorm())throw new Error("Attempted to launch a non-SCORM content item. "+this.scope.content.contentHandler.toString());this.scormService.scormLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})},e.$inject=["scope",a.c],e}(),d=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=r,this.scope=!1,this.link=function(e,n,o){e.contentItemScormLaunch=t.$injector.instantiate(l,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(c,[a.b]).directive("bbContentItemScormlaunch",["$injector",function(e){return e.instantiate(d)}]);var u=n("z+6U"),p=n("jhBu"),m=n("YHe3"),h=n("TnpK"),b=n("pjml"),g=n("/orb"),v=n("Sa5G");n.d(t,"a",function(){return f});var f="ultra.components.directives.content.contentItem.contentItemCourseOutline",y=function(){function e(e,t,n,o){var i=this;this.scope=e,this.entitlementService=t,this.proctoringService=n,this.ultraState=o,this.customCategory="",this.entitlementService.hasCourseEntitlement(v.f.ModifyContent,this.scope.content.courseId).then(function(e){i.entitledToModifyContent=e})}return Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.shouldAlignMiddle=function(){var e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))},e.prototype.openConditionalRelease=function(){if(!this.isCourseCompletedAndInInstructorView()){var e=this.scope.content.id;this.scope.content&&this.scope.content.contentHandler&&this.scope.content.contentDetail&&b.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.getLinkContentSource().$then(function(t){e=t.id}),this.ultraState.goPeekState("conditional-release",{id:e})}},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()},e.prototype.getExtraRequirementsSummary=function(){return this.proctoringService.getProctoringOutlineSummaryText(this.scope.content,this.entitledToModifyContent)},e.$inject=["scope",p.b,m.b,h.d],e}(),S=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=g,this.scope=!1,this.link=function(e){if(e.contentItemCourseOutline=t.$injector.instantiate(y,{scope:e}),e.content.getAssociatedGradingColumn()){var n=e.content.getAssociatedGradingColumn().gradebookCategory;n&&!n.isUserDefined?(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+n.title,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+n.title):(e.contentItemCourseOutline.customCategory=n&&n.title,e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description.custom",e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title.custom")}else e.contentItemBase.courseLinkContentHandler.isEqualTo(e.content.contentHandler)&&(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+b.E.GradeCategoryTitleEnum.Discussion,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+b.E.GradeCategoryTitleEnum.Discussion)}}return e.$inject=["$injector"],e}();o.module(f,[i.a,s.a,u.a,c,m.a,h.b]).directive("bbContentItemCourseOutline",["$injector",function(e){return e.instantiate(S)}])},bkfL:function(e,t){e.exports='\x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n<button ng-if="!contentItemBase.isEngagementOutline()"\n        class="content-title" ng-class="{\'name-middle\': contentItemFolder.shouldAlignMiddle()}"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-expanded="{{content.ui.isOpen}}"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        bb-translate-attrs="{\'aria-label\':\'components.directives.content-item-base.aria-label.toggle-folder\'}"\n        translate-attrs-values="{folderName: content.title}"\n        analytics-id="content.item.folder.toggleFolder.button"><span>{{ content.title }}</span></button>\n<button ng-if="contentItemBase.isEngagementOutline()"\n        class="content-title name"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        aria-expanded="{{content.ui.isOpen}}"\n        analytics-id="content.item.folder.engagementOutline.toggleFolder.button"><span>{{ content.title }}</span></button>'},cd4K:function(e,t){e.exports='<div class="text-editor" tabindex="-1" bb-load-bundle="components/directives/text-editor" bb-cache-compilation="basic-text-editor">\n  <label ng-if="inputLabelKey" class="text-editor-label" for="{{::elementId}}" bb-translate>{{::inputLabelKey}}</label>\n  <textarea id="{{::elementId}}"\n         class="read-mode editor-element"\n         name="{{::elementId}}"\n         tabindex="0"\n         type="text"\n         bb-validate-maxlength="{{::getInputMaxLength()}}"\n         ng-model="ngModel"\n         maxlength="{{::(getInputMaxLength() || \'\')}}"\n         ng-model-options="{ getterSetter: true }"\n         ng-disabled="{{::readonly()}}"\n         fng-blur="textEditor.onBlur()"\n         fng-focus="textEditor.onFocus()"\n         fng-keyup="textEditor.onChange($event)"\n         fng-keydown="textEditor.onKeydown($event)"\n         bb-translate-attrs="{ \'placeholder\': \'{{placeholderKey}}\' }"\n         aria-label="{{textEditor.getContentLabel()}}"\n         translate-attrs-values="{{::placeholderAttrsValues}}"\n         bb-focus-on="{{::focusOn}}"\n         ng-required="::fieldRequired()"\n         analytics-id="components.textEditor.basicEditor.textarea"></textarea>\n  <div bb-validation-messages\n       ng-if="::!noValidationMessage()"\n       for="{{::elementId}}" immediate="true">\n    <span ng-message="maxlengthImmediate">\n      <span bb-translate translate-values="{ diff: element.$errorImmediate.maxlengthImmediate.diff }">\n        components.directives.validation.messages.errors.maxlength.plural\n      </span>\n    </span>\n  </div>\n</div>\n'},cs5G:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});var o=n("mrSG"),i=n("LvDl"),s=n("Qbdf"),a=n("X455"),r=n("HAJP"),c=n("0JpG"),l=n("5MwF"),d=n("Q/M7"),u=n("pjml"),p=n("aHpC"),m="ultra.service.ally",h="ally",b=function(){function e(e,t,n,o,s,a,r,c){var l=this;this.$q=e,this.$timeout=t,this.$interval=n,this.allyModel=o,this.contextCourse=s,this.contextCourseMembership=a,this.bbLocalize=r,this.bbScriptLoader=c,this._mockCourses={},this._xythosIdToContentIdMap={},this.getToken=i.memoize(function(e){var t=e?l._xythosIdToContentIdMap[e]:void 0;return l.allyModel.getAllyToken(l.contextCourse.courseId,t).then(function(e){return{bearer:e.authToken}})})}return e.prototype.getAllySettings=function(){var e=this;return this._allyConfig?this.$q.resolve(this._allyConfig):this.allyModel.getAllyConfig().then(function(t){return e._allyConfig=t})},e.prototype.isAvailable=function(){return this.getAllySettings().then(function(e){return e.serviceAvailable})},e.prototype.getXythosIdFromContentFileUrl=function(e){var t=/(?:xid|_xy)-([^&]*)/.exec(e),n=t&&t[1];return n&&"_"!==n.substr(0,1)&&(n="_"+n),n},e.prototype.getXythosIdFromContentItem=function(e){var t=i.get(e,"contentDetail['resource/x-bb-file'].file.permanentUrl");return t?this.getXythosIdFromContentFileUrl(t):void 0},e.prototype.isAllySupportedContentItem=function(e){return e.isFile()&&!e.isConditionalReleaseLocked()},e.prototype.disable=function(){this._allyConfig?this._allyConfig.serviceAvailable=!1:this._allyConfig={serviceAvailable:!1}},e.prototype.ensureAlly=function(){var e=this,t=this,n=this.$q.defer();return this.ally?n.resolve():this.getAllySettings().then(function(o){if(o.serviceAvailable){var i,s=!1,a=function(t,o){s||(t?n.resolve():(e.disable(),o&&console.error(o),n.reject()),s=!0,e.$timeout.cancel(i))};i=e.$timeout(function(){a(!1,"Ally initialization timed out.  Disabling Ally Service.")},l.a.allyInitializationTimeout||1e4),e.bbScriptLoader.getScript(o.javascriptUrl,{attributes:{"data-ally-loader":""},exports:"ally"}).then(function(e){t.ally=e;try{t.ally.ready(function(){a(!0)})}catch(e){console.error(e),a(!1,"Ally initialization error.  Disabling Ally Service.")}}).catch(function(){a(!1,"Failed to load ally.js.  Disabling Ally Service.")})}else n.resolve()}),n.promise},e.prototype.getRole=function(){return this.contextCourseMembership.isActAsInstructorMembership()?"privileged":"unprivileged"},e.prototype.destroyCurrentAllyInstance=function(){this.getToken.cache.clear();var e=this.$q.defer();return this.allyUI?this.allyUI.destroy().then(function(){e.resolve()}):e.resolve(),e.promise},e.prototype.ensureAllyUI=function(e){var t=this;if(this.allyLoadInProgressPromise)return this.allyLoadInProgressPromise;var n=this.$q.defer();return this.allyLoadInProgressPromise=n.promise,this.ensureAlly().then(function(){t.getAllySettings().then(function(o){if(!o.serviceAvailable||t.currentCourseId===t.contextCourse.courseId&&t.currentLocale===t.bbLocalize.getLocale(e))t.allyLoadInProgressPromise=void 0,n.resolve();else{t.currentCourseId!==t.contextCourse.courseId&&(t._xythosIdToContentIdMap={}),t.currentCourseId=t.contextCourse.courseId,t.currentLocale=t.bbLocalize.getLocale(e);var i={client:{auth:t.getToken.bind(t),baseUrl:d.i(o.ltiUrl),clientId:o.clientId},courseId:t.currentCourseId,locale:t.currentLocale,platformName:"learn",role:t.getRole(),instructorfeedback:{callbacks:{closed:function(){t.allyUI.client.clearAllFromCache(),t.allyUI.update()}}}};l.a.features.devtools_allyMock&&(t.allyMock=t.ally.ui.$mock(t._mockCourses),i.client.jQuery=t.allyMock),t.destroyCurrentAllyInstance().then(function(){t.allyUI=t.ally.ui(i),t.allyUI.autoUpdate({domWatch:l.a.allyAutoUpdateInterval||500}).then(function(){t.allyLoadInProgressPromise=void 0,n.resolve()})})}})}).catch(function(){t.allyLoadInProgressPromise=void 0,n.reject()}),this.allyLoadInProgressPromise},e.prototype.update=function(e,t,n){var o=this;this.isAvailable().then(function(i){i&&o.ensureAllyUI(e).then(function(){t&&n&&(o._xythosIdToContentIdMap[n]=t,o.allyUI.client.clearFileIdFromCache(n)),o.registerMockFileReference(n)})})},e.prototype.registerMockFileReference=function(e){var t,n;l.a.features.devtools_allyMock&&e&&(i.merge(this._mockCourses,((t={})[this.currentCourseId]=((n={})[e]={availableAlternativeFormats:["Tts","Epub","Translation","Braille","Html"],creator:null,decorative:null,description:"mock file",id:e,isVersioned:!1,libraryReference:null,name:"mockfile",producer:null,results:{},score:.75,size:12345,suggestions:{},type:"pdf"},n),t)),this.allyMock.set(this._mockCourses))},e.prototype.fileUploadEvent=function(){var e=this;this._clearCacheInterval||"privileged"!==this.getRole()||(this._clearCacheInterval=this.$interval(function(){e.allyUI&&e.allyUI.client&&e.allyUI.client.clearAllFromCache()},l.a.allyClearCacheInterval||1e4,0,!1))},e=o.__decorate([o.__param(0,Object(p.b)("$q")),o.__param(1,Object(p.b)("$timeout")),o.__param(2,Object(p.b)("$interval")),o.__param(3,Object(p.b)(u.a.serviceName)),o.__param(4,Object(p.b)(s.e)),o.__param(5,Object(p.b)(a.d)),o.__param(6,Object(p.b)(c.serviceName)),o.__param(7,Object(p.b)(r.b))],e)}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o.__extends(t,e)}(b);angular.module(m,[s.b,a.a,c.moduleName,r.a]).service(h,b)},dr2R:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-one-drive",use:"icon-small-one-drive-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-one-drive"><path d="M4 12s-3 0-3-2.5S3 7 3 7s-.4041-2.5 1.5-3.5C6.4041 2.5 8 4 8 4s2-1.5 4 0 1 4 1 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M13 14H6s-2 0-2-2 2-2 2-2 0-2 1.5-2.5S10 8 10 8s1.5-1.5 3 0 .5 3 .5 3 1.5 0 1.5 1.5-2 1.5-2 1.5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},e7Kn:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return C}),n.d(t,"a",function(){return D});var o=n("mrSG"),i=(n("1/hr"),n("IbG+")),s=n("lx16"),a=n("oSB+"),r=n.n(a),c=n("kC07"),l=n("RPq7"),d=n("nYZ0"),u=n("LdA1"),p=n("sLTT"),m=n("D8d/"),h=n("L+81"),b=n("lr7J"),g=n("pjml"),v=n("rtZE"),f=n("lEL+"),y=n("gkef"),S=n("l1ww"),w=n("5MwF"),C="ultra.directives.contentOutline",D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.CourseOutline=new t("course-outline"),t.Discussions=new t("discussions"),t}(r.a),I=function(){function t(e,t,n,o,i,s,a){var r=this;this.scope=e,this.element=t,this.attrs=n,this.ContentService=o,this.CourseContentModel=i,this.timeout=s,this.windowService=a,this.showContentImportProgress=!1,this.LARGE_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap",this.SMALL_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap .panel-content",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.parentFolder=e.parentFolder,this.onFileDropHandler=e.onFileDropHandler,this.onMoveHandler=e.onMoveHandler,this.onMoveIntoFolderHandler=e.onMoveIntoFolderHandler,this.canMove=e.canMove&&(!e.contents.permissions||e.contents.permissions.move),this.showMenuOverride=!1,null!=e.contents&&"function"==typeof e.contents.$asPromise&&e.contents.$asPromise().then(function(){r.showMenuOverride=0===e.contents.length}),this.placeholderContent=this.CourseContentModel.$buildRaw({id:this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",parentId:this.parentFolder&&this.parentFolder.id,contentHandler:g.r.ContentHandler.Unknown.toString(),depth:this.parentFolder&&this.parentFolder.depth&&this.parentFolder.depth+1}),e.$watch("contents.length",function(t,n){r.showMenuOverride=0===t,r.placeholderContent.id=r.parentFolder&&r.parentFolder.id&&r.parentFolder.id+"_placeholder",r.placeholderContent.parentId=r.parentFolder&&r.parentFolder.id,t<n&&e.$emit("content-outline-infinite-scroll-check")}),e.$eval(n.showContentImportProgress)&&this.addImportPlaceholder(),e.$on("showContentImportProgress",function(e,t,n){"-1"!==n&&r.parentFolder.id!==n||r.addImportPlaceholder()})}return t.prototype.addImportPlaceholder=function(){var t=this;this.ContentService.getOrMakeContentInContentTree(this.parentFolder,this.parentFolder.courseId,void 0,this.parentFolder.id,"start").then(function(n){n.content.ui.importPlaceholder=!0,t.timeout(function(){e(".placeholder-container").closest(".js-content-div").scrollintoview({duration:300})},t.scope,0,!1)})},t.prototype.getScrollContainerSelector=function(){return this.windowService.isLargeBreakpoint()?this.LARGE_CONTAINER_SELECTOR:this.SMALL_CONTAINER_SELECTOR},t.prototype.isAllContentsLoaded=function(){return!!(this.scope.contents&&this.scope.contents.paging&&this.scope.contents.paging.count)&&this.scope.contents.length>=this.scope.contents.paging.count},t.prototype.shouldShowMenuOverride=function(){return this.parentFolder&&0===this.parentFolder.depth?!w.a.features.learningModule&&this.showMenuOverride:this.showMenuOverride},t.prototype.shouldShowAddButton=function(){return this.scope.isFirst||this.scope.contents&&0===this.scope.contents.length},t.$inject=["scope","element","attrs",d.d,g.r.serviceName,f.b,y.b],t}(),k=function(){function e(e,t){var n=this;this.link=e,this.recursionHelper=t,this.replace=!0,this.restrict="E",this.scope={canCreate:"=",contents:"=",contextArea:"=",loadMoreChildren:"=",isFirst:"=",parentFolder:"=",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=?",canMove:"=",canCreateAllContents:"=?",canCopyImport:"=?",hideAddMenuOverride:"=?"},this.compile=function(e){return n.recursionHelper.compile("content-outline-directive",e,n.link)},this.template=S}return e.$inject=["link",v.b],e}();i.module(C,[s.a,c.a,p.a,u.a,l.b,d.c,m.a,h.a,b.b,v.a,y.a]).directive("bbContentOutline",["$injector",d.d,function(e,t){return e.instantiate(k,{link:function(t,n,o){t.contentOutline=e.instantiate(I,{scope:t,element:n,attrs:o})}})}])}).call(this,n("EVdn"))},eWdw:function(e,t,n){},f9pe:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-upload",use:"icon-small-upload-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-upload"><path d="M14 5h1v9H1V5h1M6 4l2-2 2 2M8 10V2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},fbVO:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility" dev-suppress-hide="true">\n  <div class="panel-block restricted-form content-visibility-rules-container">\n    <div class="row collapse">\n      <div class="columns small-12 js-from-checkbox">\n        <input type="checkbox" \n               ng-model="contentVisibilityRulesOptions.startDateSelect" \n               class="from-check"\n               id="from-check-{{contentVisibilityRulesOptions.id}}" \n               name="fromCheck"\n               ng-click="contentVisibilityRulesOptions.handleCheckClick($event)" \n               ng-show="!isReadOnlyMode()" \n               analytics-id="content.visibility.rules.options.startDateSelect.input.checkbox"/>\n        <label class="date-time-label" for="from-check-{{contentVisibilityRulesOptions.id}}" ng-show="!isReadOnlyMode()"\n          bb-translate>components.directives.content-visibility.startDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.startDateSelect || isAllowedEmpty)"\n          bb-translate>\n          components.directives.content-visibility.startDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.startDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()}">\n            <input id="date-from" bb-date-picker ng-model="startDate" name="dateFrom" aria-describedby="date-from-error"\n              ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'start-date\')"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(true)"\n              ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-disabled="!contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()" \n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startDateAria\',\n                   \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}" \n              analytics-id="content.visibility.rules.options.startDate.input.text"/>\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()}">\n            <input type="text" id="time-from" bb-time-picker ng-model="startTime" name="timeFrom"\n              aria-describedby="time-from-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(true)"\n              ng-disabled="!contentVisibilityRulesOptions.startDateSelect || isReadOnlyMode()" \n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startTimeAria\',\n                   \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}" \n              analytics-id="content.visibility.rules.options.startDate.input.text"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateFrom" class="row collapse" id="date-from-error">\n            <span ng-message="required">\n                <bb-translate>components.directives.content-visibility.startDateError</bb-translate>\n              </span>\n          <span ng-message="date" bb-translate>\n            {{::contentVisibilityRulesOptions.setErrorString(true, true)}}\n          </span>\n          <span ng-message="startAndOrEndDate">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n          <span ng-message="startAndOrEndDateOnsubmit">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeFrom" class="row collapse" id="time-from-error">\n          <span ng-message="required">\n              <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n          </span>\n        <span ng-message="time">\n            {{::contentVisibilityRulesOptions.setErrorString(false, true)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n        </span>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12 js-until-checkbox">\n        <input type="checkbox" \n               ng-model="contentVisibilityRulesOptions.untilDateSelect" \n               class="until-check"\n               id="until-check-{{contentVisibilityRulesOptions.id}}" \n               name="untilCheck"\n               ng-click="contentVisibilityRulesOptions.handleCheckClick($event)" \n               ng-show="!isReadOnlyMode()" \n               analytics-id="content.visibility.rules.options.untilDate.input.checkbox"/>\n        <label class="date-time-label" for="until-check-{{contentVisibilityRulesOptions.id}}"\n          ng-show="!isReadOnlyMode()" bb-translate>components.directives.content-visibility.endDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.untilDateSelect || isAllowedEmpty)" bb-translate>\n          components.directives.content-visibility.endDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.untilDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()}">\n            <input id="date-until" bb-date-picker ng-model="endDate" name="dateUntil"\n              aria-describedby="date-until-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'end-date\')"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(false)"\n              ng-disabled="!contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()" \n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endDateAria\',\n                   \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}" \n              analytics-id="content.visiblity.rules.options.endDate.input.input.text"/>\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': !contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()}">\n            <input type="text" id="time-until" bb-time-picker ng-model="endTime" name="timeUntil"\n              aria-describedby="time-until-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n              ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n              ng-required="contentVisibilityRulesOptions.isDateRequired(false)"\n              ng-disabled="!contentVisibilityRulesOptions.untilDateSelect || isReadOnlyMode()" \n              bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endTimeAria\',\n                   \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}" \n              analytics-id="content.visibility.rules.options.endDate.input.text"/>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateUntil" class="row collapse" id="date-until-error">\n          <span ng-message="required">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="date">\n            {{::contentVisibilityRulesOptions.setErrorString(true, false)}}\n          </span>\n          <span ng-message="requiredOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStart">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStartOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeUntil" class="row collapse" id="time-until-error">\n        <span ng-message="time">\n           {{::contentVisibilityRulesOptions.setErrorString(false, false)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.endTimeError</bb-translate>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>'},gIYs:function(e,t){e.exports='<div bb-load-bundle="components/directives/folder" class="folder" ng-class="{\'is-empty-folder\': content.children.length === 0 && folder.showEmptyMenu, \'learning-module\': content.isLearningModule()}" bb-cache-compilation="content-folder">\n  <div bb-drop-handler on-move-handler="onMoveHandler" on-move-into-folder-handler="onMoveIntoFolderHandler" on-file-drop-handler="onFileDropHandler" content="content" is-folder-open="folder.isOpen" next-content-id="nextContentId" previous-content-id="previousContentId">\n    <div ng-if="::(!content.isLearningModule())" class="row collapse element-list-row folder-row-container js-parent js-course-skip-link-target" can-create="canCreate" bb-content-item-mouseover ng-class="{open: folder.isOpen, \'is-conditional-release\': content.isConditionalReleaseLocked()}" bb-click-to-invoke-child="button.content-title">\n      <bb-content-item-base contents="contents" content="content" context-area="folder.contextArea" can-move="canMove"></bb-content-item-base>\n      <div class="list-tree-toggle" ng-if="folder.canToggle()">\n        <button class="button super-clear"\n                ng-click="folder.toggleFolder()"\n                aria-controls="{{::\'folder-contents-\' + content.id}}"\n                aria-expanded="{{folder.isOpen}}"\n                bb-translate-attrs="{\'aria-label\':\'components.directives.folder.aria-label.toggle-folder\'}"\n                translate-attrs-values="{folderName: content.title}"\n                analytics-id="course.content.folder.toggle.button">\n          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n        </button>\n      </div>\n    </div>\n\n    <div ng-if="::(content.isLearningModule())" ng-class="{open: folder.isOpen}">\n      <bb-learning-module-base-item content="content" contents="contents" context-area="folder.contextArea" can-toggle="::folder.canToggle()"\n        toggle-func="folder.toggleFolder()" can-move="canMove" is-open="folder.isOpen">\n      </bb-learning-module-base-item>\n    </div>\n  </div>\n  <div ng-attr-id="{{::(content.isLearningModule() ? \'learning-module-contents-\' : \'folder-contents-\') + content.id}}" class="folder-contents" aria-expanded="{{folder.isOpen}}" ng-class="{\'not-empty\': content.children && content.children.length > 0}">\n    <div ng-if="(content.children.length > 0 || folder.showOutlineOverride) && folder.isOpen">\n      <bb-content-outline hide-add-menu-override="folder.showOutlineOverride" on-file-drop-handler="onFileDropHandler" on-move-handler="onMoveHandler"\n                          on-move-into-folder-handler="onMoveIntoFolderHandler" load-more-children="loadMoreChildren" parent-folder="folder.content"\n                          contents="folder.content.children" can-create="canCreate" can-move="canMove" context-area="folder.contextArea"\n                          can-copy-import="canCopyImport"></bb-content-outline>\n    </div>\n    <div class=\'drag-element\'>\n      <div bb-drop-handler\n        ng-show="content.children.length === 0"\n        on-move-handler="onMoveHandler"\n        on-move-into-folder-handler="onMoveIntoFolderHandler"\n        on-file-drop-handler="onFileDropHandler"\n        content="{id: content.id + \'blank\', parentId: content.id, depth: content.depth + 1}"\n        empty-target\n      >\n        <span class="empty-message" ng-if="content.children.length === 0  && folder.showEmptyMenu"\n          ng-class="{\'foder-in-force-sequence-empty-message\': content.isForcedSequenceItem()}"\n          bb-translate="{{\n            content.isForcedSequenceItem() && canCreate? \'components.directives.folder.emptyInSequence\':\n              (content.isLearningModule() ? \'components.directives.learning-module.empty\' : \'components.directives.folder.empty\')\n          }}">\n        </span>\n        \x3c!-- (|| false) keep showMenuOverride in watch status in add-content-button directive --\x3e\n        \x3c!-- use ng-show instead of ng-if to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n        <ng-switch on="::content.isLearningModule()">\n          <bb-add-content-button ng-switch-when="false" show-menu-override="folder.showMenuOverride || false" depth="(content.depth + 1)" content="content"\n                                 root-content="rootContent()" parent-id="content.id" position-before="\'start\'"\n                                 ng-show="canCreate && folder.showEmptyMenu && !content.isForcedSequenceItem()" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n          <bb-add-content-button ng-switch-when="true" show-menu-override="false" depth="(content.depth + 1)" content="content"\n                                 root-content="content" parent-id="content.id" position-before="\'start\'"\n                                 is-render-by-default="true"\n                                 class="empty-lm-add-content-btn"\n                                 ng-show="canCreate && folder.showEmptyMenu && !content.isForcedSequenceItem()" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n        </ng-switch>\n      </div>\n    </div>\n  </div>\n</div>\n'},gX0c:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.kloudless.modal.authorizationRequiredTitle"\n          analytics-id-tag-prefix="components.directives.kloudless.authorizationRequired">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.kloudless.modal.authorizationRequiredMessage</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="global.close">\n    <bb-translate>global.close</bb-translate>\n  </button>\n</bb-modal>\n'},ga7A:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("IbG+"),i=n("pjml"),s=n("vhkR"),a=n("X455"),r=n("UGkS"),c="ultra.components.directives.content.contentItem.contentItemType.contentItemLtilaunch",l=function(){function e(e,t,n){this.scope=e,this.ltiService=t,this.contextCourseMembership=n}return e.prototype.ltiLaunch=function(){var e=this;if(!this.scope.content.getContentDisplay().isLtiLink())throw new Error("Attempted to LTI launch a non-LTI content item. "+this.scope.content.contentHandler.toString());this.ltiService.ltiLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0}).then(function(){return e.markStart()})},e.prototype.ltiLinkNeedsApproval=function(){var e=this.ltiService.getDomainConfigStatusType(this.scope.content);return i.O.LTIStatusType.NeedsApproval.isEqualTo(e)},e.prototype.markStart=function(){this.contextCourseMembership.isActAsInstructorMembership()||this.scope.content.state===i.r.StateType.Started||this.scope.content.updateState(i.r.StateType.Started,!0)},e.$inject=["scope",s.c,a.d],e}(),d=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=r,this.scope=!1,this.link=function(e,n,o){e.contentItemLtiLaunch=t.$injector.instantiate(l,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(c,[s.b,a.a]).directive("bbContentItemLtilaunch",["$injector",function(e){return e.instantiate(d)}])},grcB:function(e,t){e.exports='<bb-svg-icon size="small" icon="add" class="js-add-plus add-circle-default"></bb-svg-icon>\n<bb-svg-icon size="small" icon="add" status="active" class="js-add-plus add-circle-active"></bb-svg-icon>'},h6mG:function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    class="button-add-content"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.grades.button"\n  >\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>'},hvVM:function(e,t){e.exports='<div class="group-student-self-enroll-directive" bb-load-bundle="components/directives/group/group-student-enrollment">\n  <span ng-if="$ctrl.content.assignedGroups.length > 0" class="ellipse title"\n        title="{{$ctrl.content.assignedGroups[0].groupTitle}}">\n    {{$ctrl.content.assignedGroups[0].groupTitle}}\n  </span>\n  <span ng-if="!($ctrl.content.assignedGroups.length > 0) && !$ctrl.isSelfEnrollment" class="ellipse title" bb-translate\n        translate-values="{title: components.directives.group-student-enrollment.unknown}">\n    components.directives.group-student-enrollment.unknown\n  </span>\n  <div ng-if="!($ctrl.content.assignedGroups.length > 0) && $ctrl.isSelfEnrollment">\n    <div ng-if="$ctrl.isOpenEnrollment()">\n      <a href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()" class="self-enroll-link js-self-enroll-link"\n         bb-translate analytics-id="components.directives.group-student-enrollment.self-enroll-to-participate">components.directives.group-student-enrollment.self-enroll-to-participate</a>\n    </div>\n    <div ng-if="$ctrl.isBeforeEnrollment()" class="self-enroll-date" translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-starts</div>\n    <div ng-if="$ctrl.isOpenEnrollmentWithEnding()" class="self-enroll-date"\n         ng-class="{\'is-important\': $ctrl.selfEnrollGroupInfo.isEnrollmentDateImportant}"\n         translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closes</div>\n    <div ng-if="$ctrl.isAfterEnrollment()" class="self-enroll-date"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closed</div>\n  </div>\n</div>\n'},kC07:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return W});var o=n("mrSG"),i=(n("DXZ4"),n("5C1M"),n("WQKu"),n("IdWj"),n("p55S"),n("Oqqc"),n("EDrk"),n("o/fg"),n("5PLe"),n("Kx5d"),n("r6qW"),n("nR+E"),n("XFF/"),n("LvDl")),s=n("IbG+"),a=n("yC9S"),r=n("+O05"),c=n("FpRh"),l=n("laCM"),d=n("cs5G"),u=n("nYZ0"),p=n("bhWV"),m=n("xAaQ"),h=n("ga7A"),b=n("z+6U"),g=n("Fvsw"),v=n("Et3n"),f=n("5Tom"),y=n("Qbdf"),S=n("X455"),w=n("bF8R"),C=n("UioO"),D=n("jhBu"),I=n("Oyr+"),k=n("ujI6"),x=n("0JpG"),$=n("vhkR"),T=n("w9Zy"),E=n("r6lH"),M=n("lEL+"),O=n("Tn43"),L=n("lmMM"),B=n("4nF1"),F=n("IWgv"),A=n("LecS"),R=n("UGfE"),P=n("Ocaa"),j=n("Sa5G"),V=n("oi1r"),_=n("pjml"),z=n("JNtI"),H=n("0rzL"),q=n("M+Ig"),N=n("TnpK"),G=n("0c8s"),K=n("aTRN"),U=n("+4Px"),W="ultra.directives.contentItemBase",J=function(){function t(e,t,n,o,s,r,c,l,d,u,p,m,h,b,g,v,f,y,S,w){var C=this;this.$q=e,this.$rootScope=t,this.element=n,this.scope=o,this.CourseModel=s,this.schemaService=r,this.contentService=c,this.contextService=l,this.contextCourse=d,this.contextCourseMembership=u,this.courseContentService=p,this.entitlementService=m,this.localizeService=h,this.ltiService=b,this.offcanvasService=g,this.telemetryService=v,this.timeoutService=f,this.ultraState=y,this.allyService=S,this.courseLinkContentHandler=_.r.ContentHandler.CourseLink,this.disableRestricted=!1,this.displayTelemetryUserActivity=!1,this.displayTelemetryDiscussionActivity=!1,this.entitledToDesignAssessment=!1,this.isModifyPermissionLoaded=!1,this.isGettingConfirmationOptions=!1,this.displayGradeInfo=!1,this.isLate=!1,this.scope.shouldShowContent=!0,this.canViewGroups=this.entitlementService.isEntitled(j.w.ViewGroups),this.hasViewGroupsAsAdmin=this.entitlementService.isEntitled(j.w.ViewGroupsAsAdmin),this.courseId=d.courseId?d.courseId:this.ultraState.params.courseId,this.conditionalRelease=w.instantiate(K.a,{scope:o}),this.scope.content.$then(function(e){C.entitlementService.hasAnyCourseEntitlement([j.j.ModifyAssessment,j.j.ViewAssessment],e.courseId).then(function(t){if(C.entitledToDesignAssessment=t,C.isModifyPermissionLoaded=!0,e.canHaveAttempts()&&!C.entitledToDesignAssessment&&e.contentDetail){var n=e.getAssociatedGradingColumn(),o=s.$new(e.courseId).gradebook.columns.$buildRaw(n);C.scope.gradingColumn=o;(C.displayGradeInfo?C.courseContentService.loadContentAndGrades({course:C.CourseModel.$buildRaw({id:e.courseId}),content:e,column:o}):C.$q.when({courseContent:e,gradingColumn:o})).then(function(e){C.displayGradeInfo&&C.scope.gradingColumn.isLate()&&(!e.gradeDetail||e.gradeDetail.ui.attempt.isInProgress())&&(C.isLate=!0),C.isGradeLoaded=!0,e.gradeDetail&&e.gradeDetail.column.id===o.id&&(C.scope.gradeDetail=e.gradeDetail)})}else C.isLate=!1,C.isGradeLoaded=!0}),C.entitlementService.hasAnyCourseEntitlement([j.v.ViewGrades],e.courseId).then(function(e){C.canViewQuestionAnalysis=e}),C.contextService.getSystemInfo().$asPromise().then(function(e){e.telemetryEnabled&&(C.telemetryService.determineContentSupportsActivityData(C.scope.content).then(function(e){C.displayTelemetryUserActivity=e}),C.displayTelemetryDiscussionActivity=C.shouldShowDiscussionAnalytics())}),C.allyService.isAvailable().then(function(e){e&&C.allyService.isAllySupportedContentItem(C.scope.content)?C.canShowAlly=!0:C.canShowAlly=!1}),o.content.title||_.r.ContentHandler.UltraAssignment.isEqualTo(C.scope.content.contentHandler)||_.r.ContentHandler.TestLink.isEqualTo(C.scope.content.contentHandler)||C.localizeService.loadBundle("features/course/content/course-content").then(function(){o.content.title=C.localizeService.translateSync({locale:C.localizeService.getLocale(C.scope),key:"course.content.contentTitlePlaceholder"})});var t=function(e){e.getLinkContentSource().$then(function(e){C.targetContent=e,C.contentHandler=e.contentHandler&&e.contentHandler.toString()},function(t){403===t.$response.status&&i.remove(C.scope.contents,function(t){return t.$pk===e.$pk})})};C.scope.$watch("::content.id",function(){if(_.r.ContentHandler.CourseLink.isEqualTo(C.scope.content.contentHandler))if(C.scope.content.contentDetail)t(C.scope.content);else var e=C.scope.$watch("content.isConditionalReleaseUnlocked()",function(n){n&&(t(C.scope.content),e())})}),a.b.OnRootScope(C.scope,"grade-attempt",function(e,t,n){C.scope.content.id===t&&(C.scope.gradeDetail=n)}),o.content.contentHandler?o.content.isBbPage()?C.contentHandler=_.r.ContentHandler.Document.toString():C.contentHandler=o.content.contentHandler.toString():C.contentHandler=_.r.ContentHandler.Document.toString(),C.disableRestricted=_.r.ContentHandler.PartnerCloud.isEqualTo(C.contentHandler),C.conditionalRelease.getConditions(C.scope.content)}),this.scope.$on("refresh-conditional-release-rules",function(e,t){C.scope.content.id===t.id&&C.conditionalRelease.getConditions(t)}),this.scope.$on("content-update",function(e,t){C.scope.content.id!==t.id||C.scope.content.ui.linkSource||(C.scope.content=t),C.scope.content.ui.linkSource&&C.scope.content.ui.linkSource.id===t.id&&(C.scope.content.ui.linkSource=t);var n=C.scope.content.getDueDate();C.scope.dueDate=n&&new Date(n)}),this.scope.$on("bb-update-CR-tooltip",function(e,t,n,o){t&&(C.conditionalRelease.gradeCriteria&&C.conditionalRelease.gradeCriteria.gradeColumnId)===t.id&&C.conditionalRelease.getConditions(C.scope.content,n,o)}),this.scope.$on("show-override-message",function(e,t,n){C.scope.content&&C.scope.content.id===n&&(t?(C.scope.shouldShowContent=!1,C.overrideMessage=t):C.scope.shouldShowContent=!0)});var D=i.once(function(){C.scope.$watch(function(){return C.scope.content.getDueDate()},function(e){C.scope.dueDate=e&&new Date(e)})});this.scope.$watch("content.contentHandler",function(){o.content.ui.importPlaceholder||D()}),this.scope.$on("discussion-group-content-update",function(e,t){C.scope.content&&_.r.ContentHandler.CourseLink.isEqualTo(C.scope.content.contentHandler)&&C.scope.content.contentDetail&&C.scope.content.getLinkContentSource().$then(function(e){e.id===t.id&&C.scope.content.applyGroupSettings(t)})})}return t.prototype.isEngagementOutline=function(){return"discussions"===this.scope.contextArea},t.prototype.getDescription=function(){return this.scope.content.systemGeneratedLocalizableDescription?this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:this.scope.content.systemGeneratedLocalizableDescription.languageKey}):this.scope.content.description},t.prototype.getAriaDescribedBy=function(){var e="content-item-icon-"+this.scope.content.id;return this.scope.content.ui.hasIndicator&&(e+=" activity-indicator-"+this.scope.content.id),e},t.prototype.getDeleteConfirmationKeyAndShowType=function(){var e=this;return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then(function(t){return{confirmationKey:e.scope.content.ui.deleteConfirmationKey,showType:e.scope.content.ui.modalShowType}})},t.prototype.deleteContent=function(){var e=this;_.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)?this.scope.content.getLinkContentSource().$then(function(t){e._deleteContent(t)}):(this._deleteContent(this.scope.content),this.$rootScope.$broadcast("bb-update-CR-tooltip",this.scope.content.getAssociatedGradingColumn(),"",!0))},t.prototype._deleteContent=function(t){var n=this,o=this.$q.when();_.r.ContentHandler.Discussion.isEqualTo(t.contentHandler)&&(o=t.getSoftLinks().$asPromise().then(function(e){0!==e.length&&n.$q.all(e.map(function(e){return n.CourseModel.$new(t.courseId).contents.$new(e.courseContent).$fetch().$asPromise().then(function(e){n.$rootScope.$broadcast("deleteContent",e,!1)})}))})),o.then(function(){return n.$rootScope.$broadcast("deleteContent",t)});var i=this.element.closest(".js-content-div"),s=i.next(".js-content-div");if(s.length>0)s.find(".js-content-item-base").first().find(".content-title").focus();else{var a=i.prev(".js-content-div");if(a.length>0)a.find(".js-content-item-base").first().find(".content-title").focus();else{var r=i.closest(".folder");r.length>0?r.find(".js-content-item-base").first().find(".content-title").focus():this.timeoutService(function(){e(".js-create").focus()},this.scope.$root,0,!1)}}},t.prototype.hasSupportedConversation=function(){return!!this.scope.content.hasConversation()&&B.a.create(this.scope.content).supportsConversations()},t.prototype.shouldShowAlertIcon=function(){return this.isLate||this.scope.content.canViewAsInstructor()&&this.isUnlaunchableLtiLink()},t.prototype.shouldShowDiscussionAnalytics=function(){return this.scope.content.contentHandler&&j.g.Discussion.isEqualTo(B.a.create(this.scope.content).viewHandler())},t.prototype.shouldShowScormAnalysisReport=function(){return this.scope.content&&this.entitlementService.isEntitled("course.gradebook.MODIFY",this.scope.content.courseId||this.courseId)&&this.scope.content.isScorm()&&this.scope.content.hasReport()},t.prototype.isUnlaunchableLtiLink=function(){return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&!this.scope.content.getContentDisplay().isXplorLtiLink()&&!this.ltiService.getLaunchLinkFromContent(this.scope.content)},t.prototype.showVisibility=function(){return!this.isUnlaunchableLtiLink()},t.prototype.usesEditButton=function(){var e=this.scope.content.getContentDisplay();return e.usesEditButton()&&e.canUseEditButton()},t.prototype.openEditContentPanel=function(){this.ultraState.goPeekState(this.scope.content.getContentDisplay().getEditState(),this.scope.content.getContentDisplay().getEditStateParams())},t.prototype.updateContentVisibility=function(){this.targetContent&&this.scope.content?(this.targetContent.applyAvailabilitySettings(this.scope.content),this._updateVisibility(this.targetContent),this._updateVisibility(this.scope.content)):this.scope.content&&this._updateVisibility(this.scope.content)},t.prototype._updateVisibility=function(e){var t=this;e.visibility=this.contentService.determineVisibility(e.isAvailable);var n=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],o=e.getAssociatedGradingColumn();o&&(o.visible=e.isAvailable,n.push("contentDetail")),e.withParams({fields:"id"}).$save(n).$asPromise().then(function(){t.$rootScope.$broadcast("content-update",e)})},t.prototype.updateAlly=function(){this.canShowAlly&&this.allyService.update(this.scope,this.scope.content.id,this.allyService.getXythosIdFromContentItem(this.scope.content))},t.prototype.getOverflowMenu=function(){var e=this;return[{icon:"draw",labelKey:"global.edit",show:function(){var t=e.isGettingConfirmationOptions?e.lastIsEditButtonShow:e.usesEditButton();return e.lastIsEditButtonShow=t,t},onClick:this.openEditContentPanel.bind(this)},{icon:"conversation",labelKey:"components.directives.content-item-base.overflow-menu.open-conversation",show:this.hasSupportedConversation.bind(this),onClick:function(){e.ultraState.goPeekState("conversations",{courseId:e.scope.content.courseId,contentId:e.scope.content.id})}},{icon:"beast-analytics",labelKey:"components.directives.content-item-base.overflow-menu.student-activity",show:function(){return e.displayTelemetryUserActivity&&!e.isAnonymouslyGraded()},onClick:function(){e.ultraState.goPeekState(q.a.ContentActivityInDetail.toString(),{contentId:e.scope.content.id})}},{icon:"beast-analytics",uniqueId:"scorm-analytics-report",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:function(){return e.shouldShowScormAnalysisReport()},onClick:function(){e.ultraState.goPeekState("scorm-analytics-report",{courseId:e.scope.content.courseId,contentId:e.scope.content.id})}},{icon:"beast-analytics",uniqueId:"discussion-insights",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:function(){return e.displayTelemetryDiscussionActivity},onClick:function(){var t=e.scope.content.contentDetail["resource/x-bb-courselink"]?e.scope.content.contentDetail["resource/x-bb-courselink"].linkSourceId:e.scope.content.id;e.ultraState.goPeekState(q.a.DiscussionForumInsights.toString(),{contentId:t,forumContentId:e.scope.content.id})}},{icon:"question-analysis",labelKey:"components.directives.content-item-base.overflow-menu.question-analysis",show:function(){return e.canViewQuestionAnalysis&&e.scope.content.isQuestionAnalysisAvailable()},onClick:function(){e.ultraState.goPeekState("question-analysis.report",{qaContentId:e.scope.content.id})}},{icon:"trash",labelKey:"global.delete",show:function(){return e.scope.content.canDelete()},disable:function(){return e.scope.content.isInForcedSequenceModule()},disableInfo:this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"course.content.deleteDisabledDueToFS"}),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:function(){return e.isGettingConfirmationOptions=!0,e.getDeleteConfirmationKeyAndShowType().then(function(t){var n=t.confirmationKey.replace(/^resource\//,"");return e.isGettingConfirmationOptions=!1,e.$q.when(z.a(n))})}}},{icon:"download",labelKey:"ally.context_menu.download_original_file",show:function(){return e.canShowAlly},onClick:function(){window.open(e.scope.content.getContentDisplay().contentUrl(),"_blank")}},{icon:"ally-alt-formats",labelKey:"ally.context_menu.download_alternative_formats",show:function(){return e.canShowAlly},onClick:function(){},additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"alternativeformats",style:"display:none;",onkeydown:"(function(e) {\n                if (e.keyCode === "+U.f+" || e.keyCode === "+U.t+') {\n                 $(e.target).closest("li").click();\n                }\n              })(event)'}}]},Object.defineProperty(t.prototype,"deployedAssessment",{get:function(){return this.scope.content&&this.scope.content.getDeployedAssessment()},enumerable:!0,configurable:!0}),t.prototype.isAnonymouslyGraded=function(){var e=this.scope.content.getAssociatedGradingColumn();return e&&e.anonymousGrading},t.prototype.editGroups=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,n;return o.__generator(this,function(o){switch(o.label){case 0:return t=this.scope.content.id,this.scope.content.isAssignment()||this.scope.content.isTest()?(e=this.deployedAssessment.gradingColumn.id,[3,3]):[3,1];case 1:return e=this.scope.gradeColumn&&this.scope.gradeColumn.id,_.r.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail?[4,this.scope.content.getLinkContentSource().$asPromise()]:[3,3];case 2:n=o.sent(),t=n.id,o.label=3;case 3:return this.ultraState.goPeekState("course-group",{groupCourseId:this.scope.content.courseId||this.ultraState.params.courseId,groupContentId:t,groupColumnId:e}),[2]}})})},t.prototype.showOverflowMenu=function(){var e=this.scope.content;return e.canDelete()||e.canViewAsInstructor()||this.usesEditButton()||e.hasConversation()||this.canShowAlly&&!e.isConditionalReleaseLocked()},t.prototype.openAssessmentItem=function(){r.a.isExternalSubmissionsAssessment(this.scope.content)?this.ultraState.goPeekState("assessment.external-overview",{contentId:this.scope.content.id}):this.ultraState.goPeekState("assessment.overview",{contentId:this.scope.content.id})},t.prototype.markCompleted=function(){this.contextCourseMembership.isActAsInstructorMembership()||this.scope.content.state===_.r.StateType.Completed||this.scope.content.updateState(_.r.StateType.Completed,!0)},t.$inject=["$q","$rootScope","element","scope",_.o.serviceName,V.b,u.d,g.b,y.e,S.d,w.b,D.b,x.serviceName,$.c,T.e,E.b,M.b,N.d,d.b,"$injector"],t}(),Y=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",contents:"=",contextArea:"=",canMove:"="},this.template=G,this.link=function(e,n){e.contentItemBase=t.$injector.instantiate(J,{scope:e,element:n}),e.$on(I.e,function(t,o,i,s){s===I.c.FileDrop&&e.content===i.content&&(i.targetElement=n.find(".bb-progress"),e.$root.$broadcast(I.e,o,i,e.content.ui.fileUploadId,i.targetElement,I.c.LinkProgress))})}}return e.$inject=["$injector"],e}();s.module(W,[p.a,m.a,h.a,b.a,C.a,v.a,f.b,$.b,T.d,L.c,F.a,R.a,A.a,P.a,k.c,x.moduleName,u.c,w.a,V.a,z.b,H.a,O.a,c.a,l.a]).directive("bbContentItemBase",["$injector",function(e){return e.instantiate(Y)}])}).call(this,n("EVdn"))},l1ww:function(e,t){e.exports='<div class="content-outline" bb-load-bundle="components/directives/content/content-outline">\n  <bb-add-content-button ng-if="contentOutline.contextArea === \'discussions\' && canCreate && contents.length > 0"\n                         can-create-all-contents="canCreateAllContents"\n                         show-menu-override="contentOutline.showMenuOverride" parent-id="contentOutline.parentFolder.id"\n                         position-before="\'start\'" item-name="contents[0].title"\n                         depth="contentOutline.parentFolder.depth + 1" always-show="isFirst" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n  <bb-add-content-button ng-if="contentOutline.contextArea !== \'discussions\' && !hideAddMenuOverride && canCreate"\n                         can-create-all-contents="canCreateAllContents"  is-render-by-default="contentOutline.parentFolder.depth === 0"\n                         show-menu-override="contentOutline.shouldShowMenuOverride()" parent-id="contentOutline.parentFolder.id"\n                         root-content="contentOutline.parentFolder" position-before="\'start\'" item-name="contents[0].title"\n                         depth="(contentOutline.parentFolder.depth + 1)" always-show="contentOutline.shouldShowAddButton()" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n  <div class="content-outline-scroll-container" ng-if="contents"\n       bb-infinite-scroll="contentOutline.loadMoreChildren(contentOutline.parentFolder)"\n       infinite-scroll-immediate-check="true"\n       infinite-scroll-disabled="contentOutline.isAllContentsLoaded()"\n       infinite-scroll-container="contentOutline.getScrollContainerSelector()"\n       infinite-scroll-listen-for-event="content-outline-infinite-scroll-check"\n       infinite-scroll-current-count="contents.length"\n       infinite-scroll-total-count="contents.paging.count"\n       infinite-scroll-load-limit="contents.paging.limit"\n       infinite-scroll-tray-id="content-outline-{{::contentOutline.parentFolder.id}}"\n       infinite-scroll-focusable-children-selector=".content-title"\n       infinite-scroll-localization-keys-prefix="components.directives.content.content-outline.infiniteScroll.{{::contentOutline.contextArea === \'discussions\' ? \'discussions\' : \'content\'}}"\n       sortable-parent>\n    <div class="content-outline-scroll-list" data-parent-id="{{::contentOutline.parentFolder.id}}">\n      <div class="js-content-div drag-element"\n           ng-class="{\'is-restricted\': content.canViewAsInstructor() && content.isHiddenFromStudents(), \'last\': $last, \'has-conversation-indicator\': content.ui.hasIndicator}"\n           ng-repeat="content in contents track by content.id" data-content-id="{{content.id}}">\n\n        <ng-switch on="(content.isFolder() && !content.isBbPage()) || content.isLearningModule()">\n          <div ng-switch-when="true">\n            <bb-folder root-content="contentOutline.parentFolder" on-file-drop-handler="contentOutline.onFileDropHandler"\n                       on-move-handler="contentOutline.onMoveHandler"\n                       on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" contents="contents" content="content"\n                       next-content-id="contents[$index + 1].id" previous-content-id="contents[$index - 1].id"\n                       load-more-children="contentOutline.loadMoreChildren" can-create="canCreate" can-move="contentOutline.canMove"\n                       context-area="contentOutline.contextArea" can-copy-import="canCopyImport"></bb-folder>\n          </div>\n          <div ng-switch-when="false" bb-drag drag-item="::content.id" can-move="contentOutline.canMove">\n            <div ng-if="!content.isGroupContent || content.assignedGroups.length >= 0 || contentOutline.canMove">\n              <div bb-drop-handler on-file-drop-handler="contentOutline.onFileDropHandler"\n                  on-move-handler="contentOutline.onMoveHandler" on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler"\n                  content="content" root-content="contentOutline.parentFolder"\n                  next-content-id="contents[$index + 1].id" previous-content-id="contents[$index - 1].id">\n                <div class="row collapse element-list-row js-course-skip-link-target" can-create="canCreate" can-move="contentOutline.canMove"\n                    bb-content-item-mouseover>\n                  <bb-content-item-base contents="contents" content="content" context-area="contentOutline.contextArea"\n                                        can-move="contentOutline.canMove"></bb-content-item-base>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-switch>\n\n        <div class="add-element-container">\n          \x3c!--\n            LRN-123904: For file upload content items positionAfter is set to `content.id` in course-outline.html. But when file upload is\n            in progress, `content.id` stays undefined. As a result `positionAfter` receives `undefined`. To avoid that we use current content\n            `positionAfter` value when `content.id` is not available. When upload-in-progress file is very first item - positionAfter value is not\n            available, thefore we using `positionBefore` instead.\n          --\x3e\n          <bb-add-content-button ng-if="::canCreate && !content.ui.importPlaceholder" can-create-all-contents="canCreateAllContents" content="content"\n                                 root-content="contentOutline.parentFolder" parent-id="contentOutline.parentFolder.id"\n                                 position-after="content.id || content.positionAfter"\n                                 position-before="(content.id || content.positionAfter) ? null : content.positionBefore"\n                                 item-name="content.title"\n                                 depth="content.depth" context-area="contentOutline.contextArea"\n                                 can-copy-import="canCopyImport" show-both-buttons="true"></bb-add-content-button>\n        </div>\n      </div>\n      <div class="drag-element">\n        <div drag-item-id="{{contentOutline.placeholderContent.id}}"></div>\n        <div class="drop-placeholder" bb-drop-handler\n             content="contentOutline.placeholderContent"\n             on-move-handler="contentOutline.onMoveHandler"\n             on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},l4Qp:function(e,t,n){e.exports=n("ZJ/X")(1312)},laCM:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n("mrSG"),i=n("r3Zo"),s=n.n(i),a=n("cs5G"),r=n("0JpG"),c=n("yC9S"),l=n("aHpC"),d="ultra.directives.bbAllyShow";!function(){function e(e,t,n){this.$element=e,this.$scope=t,this.localize=n,this.showIcon=!1}e.prototype.$postLink=function(){var e={contentRef:this.contentId,widgetType:this.showViewScoreLink?i.WidgetType.ScoreIndicator:i.WidgetType.AlternativeFormats},t=this.localize.getLocale(this.$scope);this.showIcon||(e.text=this.localize.translateSync({locale:t,key:this.showViewScoreLink?"ally.open_feedback_panel":"ally.download_alternative_formats"})),this.showAlternativeFormatsLink&&(e.ariaLabel=this.localize.translateSync({locale:t,key:"ally.download_alternative_formats"})),s.a.renderWidget(this.$element[0],e)},e.prototype.$onDestroy=function(){s.a.destroyComponent(this.$element[0])},e=o.__decorate([Object(c.a)({module:angular.module(d,[a.a,r.moduleName]),componentName:"bbAllyShow",bindings:{contentId:"@",showViewScoreLink:"<?",showAlternativeFormatsLink:"<?",showIcon:"<?"}}),o.__param(0,Object(l.b)("$element")),o.__param(1,Object(l.b)("$scope")),o.__param(2,Object(l.b)(r.serviceName))],e)}()},lke1:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-time",use:"icon-small-time-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-time"><path d="M15 8c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zM5 11l1-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 4v4l3 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},lx16:function(e,t,n){"use strict";n("HuMO"),n("VZTK"),n("KmIE"),n("JePn"),n("5eHd"),n("n57l"),n("4gA4"),n("CNuu"),n("dr2R"),n("f9pe"),n("5C1M");var o=n("IbG+"),i=n("mrSG"),s=n("dCrD"),a=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return i.__extends(t,e),t.$inject=["$injector","scope","element"],t}(s.a),r=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return i.__extends(t,e),t.$inject=["$injector","scope","element"],t}(s.a),c=n("Sa5G"),l=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;return i.addTextBlock=function(){i.scope.$emit("bb-bbml-editor-add-block",c.d.Text,i.getInsertLocationData())},i.uploadLocalFile=function(){i.element.find(".file-upload-button").click()},i.uploadCloudFile=function(){i.element.find(".js-upload-from-kloudless").click()},i.focusAddButton=function(){i.element.find("button").focus()},i.items=[{key:"addText",className:"js-add-content",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addContent"}),iconProps:{iconName:"notes",iconSize:"small"},onClick:i.addTextBlock},{key:"addLocalFile",className:"js-add-local-file",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button."+(i.isMobile?"uploadFromDevice":"uploadFromComputer")}),iconProps:{iconName:"upload-file",iconSize:"small"},onClick:i.uploadLocalFile}],i.isCloudServiceAvailablePromise.then(function(e){e&&i.items.push({key:"addCloudFile",className:"js-add-cloud-file",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.uploadFromCloudStorage"}),iconProps:{iconName:"upload-cloud",iconSize:"small"},onClick:i.uploadCloudFile})}),i}return i.__extends(t,e),t.$inject=["$injector","scope","element"],t}(s.a),d=n("HjsN"),u=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}return i.__extends(t,e),t.prototype.addGroup=function(){this.toggleMenu();var e=this.scope.positionBefore?this.scope.positionBefore():this.scope.positionAfter()+1;this.scope.createFunction(e),this.closeMenu()},t.$inject=["$injector","scope","element"],t}(s.a),p=(n("P82Y"),n("LvDl")),m=n("Oyr+"),h=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this;if(i.uploadFile=function(){i.element.find(".file-upload").click()},i.uploadCloudFile=function(){i.element.find(".doc-add-media").click()},i.openContentMarket=function(){var e=i.scope.rootContent(),t=i.getInsertLocationData();i.contentSvc.getParentFolder(t.parentId,i.contextCourse.courseId,e).$then(function(e){if(e.children){var n=""+e.children.getInsertionIndex(t.positionBefore,t.positionAfter,!0,e.hasMoreChildren);i.ultraState.goPeekState("content-market",{position:n,parentId:t.parentId,positionBefore:t.positionBefore,positionAfter:t.positionAfter,depth:t.depth})}})},i.initContextMenuItems(),n.$on("always-show-time-expires",function(){i.turnOffAlwaysShow()}),n.$on(m.e,function(e,t,o){o===m.c.OutlineAddContentButtonFileSelected&&t===n.fileListViewLocalId&&(i.closeMenu(),n.$emit(m.e,n.parentId(),n.positionBefore&&n.positionBefore(),n.positionAfter&&n.positionAfter(),n.depth(),t,n.content,m.c.AssignDropTarget),i.assignPosition())}),i.scope.isRenderByDefault&&i.scope.isRenderByDefault())var s=i.scope.$watch("addContentButton.isMenuVisible",function(e){e&&(i.scope.addContentButton.removeDefaultRenderClass=!0,s())});return i.scope.$watch("parentId()",function(e,t){e!==t&&i.initContextMenuItems()}),i}return i.__extends(t,e),t.prototype.initContextMenuItems=function(){var e=this,t=this.element.closest("[data-base-state-name]").data("baseStateName"),n=this.getInsertLocationData();this.$q.all({isCloudServiceAvailable:this.isCloudServiceAvailablePromise,createHref:this.ultraState.peekHref("content-manage.create",n,t),copyHref:this.ultraState.peekHref("content-manage.copy",n,t),contentCollectionHref:this.ultraState.peekHref("content-collection",n,t)}).then(function(t){var n=e.bbLocalize.getLocale(e.scope);e.items=[{key:"create",className:"js-create",href:t.createHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.create"}),iconProps:{iconName:"add",iconSize:"small"}},{key:"copy",className:"js-copy",href:t.copyHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.copy"}),iconProps:{iconName:"duplicate",iconSize:"small"}},{key:"upload-file",className:"js-upload-file",onClick:e.uploadFile,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.upload"}),iconProps:{iconName:"upload",iconSize:"small"}},{key:"content-market",className:"js-content-market",onClick:e.openContentMarket,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.contentMarket"}),iconProps:{iconName:"content-market",iconSize:"small"}},{key:"upload-cloud-file",className:"js-upload-cloud-file",onClick:e.uploadCloudFile,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.importContentFromCloudStorage.title"}),iconProps:{iconName:"upload-cloud",iconSize:"small"}},{key:"content-collection",className:"js-content-collection",href:t.contentCollectionHref,name:e.bbLocalize.translateSync({locale:n,key:"components.directives.add-content-button.contentCollection"}),iconProps:{iconName:"content-collection",iconSize:"small"}}],e.isCloudServiceAvailable||Object(p.remove)(e.items,function(e){return"upload-cloud-file"===e.key}),e.currentCourse.canCopy()||Object(p.remove)(e.items,function(e){return"copy"===e.key})})},t.$inject=["$injector","scope","element"],t}(s.a),b=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this,s=o.closest("[data-base-state-name]").data("baseStateName");return i.$q.all([i.ultraState.peekHref("discussion.view.with-grading",i.getInsertLocationData(),s),i.ultraState.peekHref("content-manage.create.folder",i.getInsertLocationData(),s)]).then(function(e){i.items=[{key:"addDiscussion",href:e[0],name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addDiscussion"}),iconProps:{iconName:"discussion",iconSize:"small"}}],i.getInsertLocationData().depth<2&&i.scope.canCreateAllContents&&i.items.push({key:"addFolder",href:e[1],name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.add-content-button.addFolder"}),iconProps:{iconName:"folder-closed",iconSize:"small"}})}),n.$on("always-show-time-expires",function(){i.turnOffAlwaysShow()}),i}return i.__extends(t,e),t.$inject=["$injector","scope","element"],t}(s.a),g=function(e){function t(t,n,o){var i=e.call(this,t,n,o)||this,s=o.closest("[data-base-state-name]").data("baseStateName");return i.$q.all([i.ultraState.peekHref("grade-item.create",i.getInsertLocationData(),s),i.ultraState.peekHref("gradebook-item.calculation",i.getInsertLocationData(),s),i.ultraState.peekHref("attendance",null,s)]).then(function(e){i.attendanceHref=e[2],i.items=[{key:"addGradebookItem",href:e[0],className:"doc-add-grade",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.grade.grader-column.actions.addItem"}),iconProps:{iconName:"add",iconSize:"small"}},{key:"addCalculation",href:e[1],className:"doc-add-calc",name:i.bbLocalize.translateSync({locale:i.bbLocalize.getLocale(i.scope),key:"components.directives.grade.grader-column.actions.addCalculation"}),iconProps:{iconName:"calculation",iconSize:"small"}}],i.scope.showAddAttendance&&i.scope.showAddAttendance()&&i.addAttendanceButton()}),n.$on("always-show-time-expires",function(){n.addContentButton.alwaysShow=!1}),n.$on("update-content-menu",function(){i.items&&(i.scope.showAddAttendance&&i.scope.showAddAttendance()?i.addAttendanceButton():i.items=i.items.filter(function(e){return"addAttendance"!==e.key}))}),i}return i.__extends(t,e),t.prototype.addAttendanceButton=function(){this.items.push({key:"addAttendance",href:this.attendanceHref,className:"doc-add-attendance",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.addAttendance"}),iconProps:{iconName:"attendance",iconSize:"small"}})},t.$inject=["$injector","scope","element"],t}(s.a),v=n("MQj0"),f=n("JScU"),y=n("RxAn"),S=n("C/Xi"),w=n("akWS"),C=n("X+dl"),D=n("FGjj"),I=n("YGje"),k=n("h6mG"),x=function(){function e(e){this.$injector=e,this.handlersAndTemplateTexts={assignment:{handler:a,templateText:v},attempts:{handler:r,templateText:f},"bbml-editor":{handler:l,templateText:y},"cloud-upload":{handler:d.b,templateText:S},"course-group":{handler:u,templateText:C},"course-outline":{handler:h,templateText:D},discussions:{handler:b,templateText:I},grades:{handler:g,templateText:k}}}return e.prototype.getTemplateText=function(e){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");if(null==this.handlersAndTemplateTexts[e].templateText)throw new Error("No template for context area: "+e);return w.replace("<template></template>",this.handlersAndTemplateTexts[e].templateText)},e.prototype.getHandler=function(e,t,n){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");return this.$injector.instantiate(this.handlersAndTemplateTexts[e].handler,{scope:t,element:n})},e.$inject=["$injector"],e}(),$=n("grcB"),T=n("+e2k"),E="ultra.components.directives.content.buttonAddContent",M=function(){function e(){this.restrict="C",this.template=$}return e.$inject=["$injector"],e}();o.module(E,[T.a]).directive("buttonAddContent",["$injector",function(e){return e.instantiate(M)}]);var O=n("0JpG"),L=n("qgBt"),B=n("IR+Z"),F=n("H/mg"),A=n("nYZ0"),R=n("3Jgm"),P=n("TnpK");n.d(t,"a",function(){return j});var j="ultra.directives.addContentButton",V=function(){function e(e,t,n){var o=this;this.$injector=e,this.$rootScope=t,this.ultraState=n,this.compiled=Object.create(null),this.restrict="E",this.scope={attachHandler:"=?",disableDrag:"&?",content:"=",createFunction:"=?",hideDividerLines:"&?",rootContent:"&?",contextArea:"=",alwaysShow:"=",showAddAttendance:"&?",showBothButtons:"&?",showMenuOverride:"=",positionBefore:"&?",positionAfter:"&?",parentId:"&",depth:"&",canCreateAllContents:"=?",canCopyImport:"=?",folderNestedButton:"&?",fileLocation:"@?",webLocation:"@?",initialUpload:"&?",primaryKey:"&?",ignoredStates:"&?",itemName:"&?",itemType:"&?",itemIndex:"&?",isRenderByDefault:"&?"},this.compile=function(){return function(e,t){var n;n=e.contextArea?e.contextArea:e.$parent.contextArea?e.$parent.contextArea:"course-outline";var i=o.$injector.instantiate(x,{});null==o.compiled[n]&&(o.compiled[n]=o.$injector.get("$compile")(i.getTemplateText(n))),e.addContentButton=i.getHandler(n,e,t),e.fileListViewId="fileListView-"+Math.floor(1e4*Math.random())+"-"+Math.floor(1e4*Math.random()),e.fileListViewLocalId=e.fileListViewId+"Local",o.compiled[n](e,function(e,n){t.append(e)}),o.$rootScope.$broadcast("add-content-button-ready")}}}return e.$inject=["$injector","$rootScope",P.d,A.d],e}();o.module(j,["ngAnimate",O.moduleName,P.b,E,L.a,B.a,A.c,R.a,F.a]).directive("bbAddContentButton",["$injector",function(e){return e.instantiate(V)}])},n57l:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-content-collection",use:"icon-small-content-collection-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-collection"><path d="M14 15H2V9h3v1h6V9h3v6zM13 9V4H3v5M4 4V1h8v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"nR+E":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-move-item-up-down",use:"icon-small-move-item-up-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-move-item-up-down"><path d="M5 11V3M7 4L5 2 3 4M11 5v8M9 12l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"o/fg":function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-discussion",use:"icon-small-discussion-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-discussion"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 0 1-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="5" cy="8" r=".5" /><circle cx="8" cy="8" r=".5" /><circle cx="11" cy="8" r=".5" /></symbol>'});i.add(s);e.exports=s},p55S:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-chat",use:"icon-small-chat-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-chat"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 0 1-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},qf7K:function(e,t){e.exports='<div class="submission-card" ng-class="{\'is-late\': isLate, \'inline\': inline}" bb-load-bundle="components/directives/submission-card">\n  <div class="panel" ng-class="{\'clickable-panel\': clickable}">\n    <i ng-if="!inline" class="{{iconClass}}"></i>\n    <div class="info" ng-class="{\'completed\': submissionCard.attempt.isCompleted(), \'rubric-icon-spacing\': submissionCard.shouldExpandForRubricIcon()}">\n      <span class="name ellipsis" bb-translate ng-if="!inline">{{title}}</span>\n      <span class="detail">\n        <span class="test-status ellipsis" ng-show="!!status">\n          <span class="inline-status" ng-if="inline && !hasAttempt && isLate" bb-translate>\n            components.directives.submission-card.outlineStatus.late\n          </span>\n          <span class="inline-status" ng-if="inline && !hasAttempt && !isLate" bb-translate>\n            components.directives.submission-card.outlineStatus.new\n          </span>\n          <span ng-if="inline && !hasAttempt"> - </span>\n          <span bb-translate class="status">{{status}}</span>\n          <ng-switch on="submissionCard.attempt.status" ng-if="submissionCard.attempt">\n            <bb-datetime class="date" format="Short" ng-switch-when="COMPLETED" value="::submissionCard.attempt.attemptLastGradedDate"></bb-datetime>\n            <bb-datetime class="date" format="Short" ng-switch-default value="::submissionCard.attempt.modifiedDate"></bb-datetime>\n          </ng-switch>\n          <bb-datetime class="date" format="Short" ng-if="!submissionCard.attempt && gradingColumn.dueDate" value="::gradingColumn.dueDate"></bb-datetime>\n        </span>\n      </span>\n    </div>\n    <div class="grade-container">\n      <ng-switch on="gradeDetail.isPosted()">\n        <bb-display-grade ng-switch-when="true"\n                          grade-detail="gradeDetail"\n                          column="gradingColumn"\n                          display-type="GradeColor"\n                          show-rubric-button="showRubricButton()"\n                          show-rubric-div="showRubricDiv()"></bb-display-grade>\n        <bb-display-grade ng-switch-default\n                          attempt="submissionCard.attempt"\n                          display-type="AttemptStatus"></bb-display-grade>\n      </ng-switch>\n    </div>\n  </div>\n</div>'},qgBt:function(e,t,n){"use strict";n.d(t,"a",function(){return m});n("KuLw");var o=n("IbG+"),i=n("Oyr+"),s=n("0JpG"),a=n("Vsv2"),r=n("zXZW"),c=n("pjml"),l=n("12mu"),d=n("lEL+"),u=n("PZch"),p=n("SEv/"),m="ultra.directives.bbOneDrive",h=function(){function e(e,t,n,o,i,r,c,l,d){var u=this;this.scope=e,this.$q=t,this.$exceptionHandler=n,this.bbLocalize=o,this.$modal=i,this.cloudDrive=r,this.CloudDriveModel=c,this.CloudDriveTaskModel=l,this.timeout=d,this.provider=a.a.ONE_DRIVE.toString(),this.displaySingleFileUploadOnlyDialog=function(e,t){u.$modal.open({template:p,scope:u.scope,resolve:{translations:[s.serviceName,function(e){return e.loadBundle("components/directives/one-drive")}]}}).result.then(function(n){e.data.files=[e.data.files[0]],t(e)})},this.bbLocalize.loadBundle("components/directives/one-drive")}return e.prototype.onFileSelect=function(e){this.scope.$emit(i.d,e,this.scope.primaryKey&&this.scope.primaryKey())},e.prototype.getDownloadFileInfo=function(e){return this.CloudDriveModel.$new("OneDrive").contents.$new(e).$fetch({accessToken:this.accessToken}).$asPromise()},e.prototype.getFilesInfoFromFolder=function(e){var t=this,n=[];this.CloudDriveModel.$new("OneDrive").contents.$new(e.id).getChildren({accessToken:this.accessToken}).$then(function(o){o&&o.length>0?(t.scope.folderBranchCounts--,o.forEach(function(o){o.ui=e.ui,"folder"===o.type?(t.scope.folderBranchCounts++,t.scope.isFlatten?t.attachHandler(null,o).then(function(e){t.getFilesInfoFromFolder(o)},function(){t.cloudDrive.isGettingFilesInfo=!1}):t.getFilesInfoFromFolder(o)):(t.cloudDrive.isGettingFilesInfo=!1,n.push(o))}),n&&n.length&&t.onFileSelect(n)):(t.scope.folderBranchCounts--,0===t.scope.folderBranchCounts&&(t.cloudDrive.isGettingFilesInfo=!1))},function(){t.cloudDrive.isGettingFilesInfo=!1})},e.prototype.downloadFiles=function(e,t,n){var o=this,s={accessToken:this.accessToken,expand:"mimeType,isMedia"};this.scope.fileLocation&&(s.fileLocation=this.scope.fileLocation),this.scope.webLocation&&(s.webLocation=this.scope.webLocation),(t?this.CloudDriveTaskModel.$new(n||e.id):this.CloudDriveModel.$new("OneDrive").contents.$new(n||e.id).download).$fetch(s).$then(function(t){if("COMPLETE"===t.status)var n=o.scope.$on(i.e,function(s,a,r){r!==i.c.UploadProgressComplete||e.ui.fileId&&a!==e.ui.fileId||(o.attachHandler(t,e),n())});else o.timeout(function(){o.downloadFiles(e,!0,t.taskId)},o.scope,2e3);(t.completePercentage<100||"COMPLETE"===t.status)&&o.scope.$root.$broadcast(i.e,e.ui.index,t.completePercentage,null,i.c.UpdateProgress,e.ui.targetDiv,e.ui.fileId)},function(t){o.displayUploadError(),o.scope.$root.$broadcast(i.e,e.ui.fileId,e,i.c.Error,e.ui.targetDiv,o.scope.primaryKey&&o.scope.primaryKey()),o.$exceptionHandler(t,"source")})},e.prototype.attachHandler=function(e,t){var n=this.$q.defer(),o={fileName:null,fileLocation:null};return e&&(o.fileName=e.fileName,o.fileLocation=e.fileLocation,o.webLocation=e.webLocation,o.mimeType=e.mimeType,o.isMedia=e.isMedia),this.scope.attachHandler(o,t,this.scope.isUploadMultipleFiles).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise},e.prototype.displayUploadError=function(){this.$modal.open({template:u,scope:this.scope})},e.$inject=["scope","$q","$exceptionHandler",s.serviceName,l.b,a.c,c.j.serviceName,c.k.serviceName,d.b],e}(),b=function(){function e(e,t,n){var i=this;this.$injector=e,this.$q=t,this.CloudDriveService=n,this.scope={attachHandler:"=",isFlatten:"=?",primaryKey:"&?",primaryKeyValue:"@?",fileLocation:"@?",webLocation:"@?",disableClick:"&?",allowMultiple:"=?"},this.restrict="A",this.link=function(e,t,n){var s=i,r=a.a.ONE_DRIVE.toString();e.oneDrive=i.$injector.instantiate(h,{scope:e}),e.folderBranchCounts=0,e.isInitialized=!(!s.CloudDriveService.cloudDriveStorage[r]||!s.CloudDriveService.cloudDriveStorage[r].isInitialized),e.isInitialized||s.CloudDriveService.initializeCloudDrive(a.a.ONE_DRIVE);var c=function(t){var n=[];if(t.data.files&&t.data.files.length>0){for(var o=0;o<t.data.files.length;o++){var i=t.data.files[o].id;n.push(e.oneDrive.getDownloadFileInfo(i))}s.$q.all(n).then(function(t){s.CloudDriveService.isGettingFilesInfo=!1,e.oneDrive.onFileSelect(t),t.length>1&&(e.isUploadMultipleFiles=!0)},function(){s.CloudDriveService.isGettingFilesInfo=!1})}t.data.folders&&t.data.folders.length>0&&(t.data.folders.forEach(function(t){e.folderBranchCounts++,e.isFlatten?(t.type="folder",e.oneDrive.attachHandler(null,t).then(function(n){e.oneDrive.getFilesInfoFromFolder(t)},function(){t.CloudDriveService.isGettingFilesInfo=!1})):e.oneDrive.getFilesInfoFromFolder(t)}),e.isUploadMultipleFiles=!0)},l=function(){e.disableClick&&e.disableClick()||!e.isInitialized||(s.CloudDriveService.cloudDriveStorage[r].openFilePicker(null,e.allowMultiple).then(function(t){s.CloudDriveService.cloudDriveStorage[r].getAccessToken()?(e.oneDrive.accessToken=s.CloudDriveService.cloudDriveStorage[r].getAccessToken(),e.$root.$broadcast("uploadingByOneDrive"),s.CloudDriveService.isGettingFilesInfo=!0,o.isDefined(e.allowMultiple)&&!1===e.allowMultiple&&t.data.files.length>1?e.oneDrive.displaySingleFileUploadOnlyDialog(t,c):c(t)):l()}),e.$on("$destroy",function(){s.CloudDriveService.isGettingFilesInfo=!1,t.off("click")}))};t.on("click",l),e.primaryKeyValue&&e.$on("oneDriveUpload",function(t,n){e.primaryKey()===n&&l()});var d=e.$watch(function(){return!!s.CloudDriveService.cloudDriveStorage[r]&&s.CloudDriveService.cloudDriveStorage[r].isInitialized},function(n,o){n?(e.isInitialized=!0,t.is("a")&&t.attr("tabindex",0),t.removeAttr("disabled"),d()):(e.isInitialized=!1,t.is("a")&&t.attr("tabindex",-1),t.attr("disabled","disabled"))});e.$on("downloadFile",function(t,n){n.ui.primaryKey===(e.primaryKey&&e.primaryKey())&&n.file.$url().indexOf("OneDrive")>=0&&e.oneDrive.downloadFiles(n)})}}return e.$inject=["$injector","$q",a.c],e}();o.module(m,[s.moduleName,a.b,r.a,l.a,d.a]).directive("bbOneDrive",["$injector",function(e){return e.instantiate(b)}])},r6qW:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-small-groups",use:"icon-small-groups-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-groups"><path d="M12 15s-1-2-4-2M4 15s1-2 4-2M8 13c1.6569 0 3-1.3431 3-3S9.6569 7 8 7s-3 1.3431-3 3 1.3431 3 3 3zM12 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2zM1 7s1-2 3-2 3 2 3 2M9 7s1-2 3-2 3 2 3 2M4 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},rNjB:function(e,t,n){var o=n("4BeY"),i=n("IaFt"),s=new o({id:"icon-medium-invisible",use:"icon-medium-invisible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-invisible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6zM1 23L23 1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},rVeu:function(e,t){e.exports='<a class="content-title" \n   ng-click="contentItemScormLaunch.scormLaunch()" \n   href="javascript:void(0);"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   analytics-id="content.item.scormlaunch.link">\n  <span>{{ content.title }}</span>\n</a>'},rtZE:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var o=n("mrSG"),i=n("LvDl"),s=n("IbG+"),a="ultra.service.RecursionHelper",r="recursionHelper",c=function(){function e(e){this.$compile=e,this.compileContents=i.memoize(this.compileContents)}return e.prototype.compileContents=function(e,t){return this.$compile(t)},e.prototype.compile=function(e,t,n){var o=this;s.isFunction(n)&&(n={post:n});var i=t.contents();return t.empty(),{pre:n&&n.pre?n.pre:null,post:function(t,s){for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];var c=o.compileContents(e,i);c(t,function(e){s.append(e)}),n&&n.post&&n.post.apply(null,[t,s].concat(a))}}},e.$inject=["$compile"],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o.__extends(t,e)}(c);s.module(a,[]).service(r,c)},sLTT:function(e,t,n){"use strict";n.d(t,"a",function(){return v});n("Oki6"),n("StCz"),n("lke1"),n("95Xd"),n("+Z5k"),n("Oqqc"),n("5koT"),n("FrNa"),n("rNjB"),n("TGb3");var o=n("IbG+"),i=n("LvDl"),s=n("Sa5G"),a=n("jhBu"),r=n("0JpG"),c=n("oQrK"),l=n("+4Px"),d=n("pjml"),u=n("e6jQ"),p=n("TnpK"),m=n("ZzYr"),h=n("Qbdf"),b=n("UwmR"),g=n("0oSe"),v="ultra.directives.contentVisibilitySelector",f=function(){function e(e,t,n,o,a,r,c,p,m){var h=this;if(this.iScope=e,this.element=t,this.$q=n,this.$ngRedux=o,this.bbLocalize=a,this.entitlementService=r,this.ultraState=c,this.$modal=p,this.currentCourse=m,this.contentHandler="",this.isBbPage=!1,this.todayDate=new Date,this.visibilityOptions=new Array,this.scope=e,this.scope.contentVisibilitySelector=this,this.visibleOptionKey="components.directives.content-visibility."+(m.course.isOrganization?"organization.":"")+"visible",this.hiddenOptionKey="components.directives.content-visibility."+(m.course.isOrganization?"organization.":"")+"hidden",this.contentId=this.scope.content.id,this.contentHandler=this.scope.content.contentHandler?this.scope.content.contentHandler.toString():"",null==this.contentId)var b=this.scope.$watch(function(){return h.scope.content.id},function(e){e&&(null==h.contentId&&(h.contentId=e),b())});if(this.selectorId=u.a(),this.contentHandler&&(d.r.ContentHandler.CourseLink.isEqualTo(this.contentHandler)&&null!=this.scope.content.contentDetail&&this.scope.content.getLinkContentSource().$then(function(e){h.contentHandler=e.contentHandler&&e.contentHandler.toString(),h.contentId=e.id}),d.r.ContentHandler.Folder.isEqualTo(this.contentHandler)&&null!=this.scope.content.contentDetail)){var g=this.scope.content.contentDetail[d.r.ContentHandler.Folder.toString()];g&&g.isBbPage&&(this.isBbPage=!0)}if(this.useNativeSelect()&&this.initVisibilityOptions(),this.scope.content.permissions){var v=this.scope.content.permissions;this.entitledToViewDesigner=i.isFunction(this.scope.content.canViewAsInstructor)&&this.scope.content.canViewAsInstructor(),v.adaptiveRelease?(this.entitledToViewConditionalRelease=v.adaptiveRelease.view,this.entitledToDeleteConditionalRelease=v.adaptiveRelease.delete):this.loadAdaptiveReleaseEntitlements()}else this.entitlementService.hasCourseEntitlement(s.f.ViewAsDesigner,this.scope.content.courseId).then(function(e){h.entitledToViewDesigner=e}),this.loadAdaptiveReleaseEntitlements();t.find(".item-visibility-selector, .item-visibility-selector a").on("keydown",function(e){e.keyCode===l.f&&e.preventDefault()})}return e.prototype.getIconSize=function(){return this.scope.hasMediumIcon?"medium":"small"},e.prototype.loadAdaptiveReleaseEntitlements=function(){var e=this,t=this.entitlementService.hasCourseEntitlement(s.j.ViewAdaptiveRelease,this.scope.content.courseId).then(function(t){e.entitledToViewConditionalRelease=t}),n=this.entitlementService.hasCourseEntitlement(s.j.DeleteAdaptiveRelease,this.scope.content.courseId).then(function(t){e.entitledToDeleteConditionalRelease=t});return this.$q.all([t,n])},e.prototype.onChange=function(){this.scope.onchangeFunc&&this.scope.onchangeFunc()},e.prototype.onBlur=function(){this.scope.onblurFunc&&this.scope.onblurFunc()},e.prototype.disableRestricted=function(){return!!this.scope.disableRestricted&&this.scope.disableRestricted()},e.prototype.onRestrictedSelected=function(){this.scope.onRestrictedSelectedFunc&&this.scope.onRestrictedSelectedFunc()},e.prototype.selectVisible=function(){this.visibilitySelected(d.r.Visibility.Visible)},e.prototype.selectHidden=function(){this.visibilitySelected(d.r.Visibility.Hidden)},e.prototype.selectConditionalRelease=function(){var e={id:this.contentId};this.ultraState.goPeekState("conditional-release",e)},e.prototype.isEditable=function(){if(!this.isVisibilitySelectorMenuEmpty()){if(this.scope.content.canEdit())return!0;if(this.scope.content.canEditAvailability&&this.scope.content.canEditAvailability())return!0;if(!this.scope.content.id)return!0}return!1},e.prototype.validateChange=function(e){if(this.scope.validationFunc){var t=this.scope.validationFunc({visibility:e});return void 0===t||t}return!0},e.prototype.visibilitySelected=function(e){var t=this;if(this.validateChange(e)){if(this.scope.content&&this.scope.content.isForcedSequenceModule&&this.scope.content.isForcedSequenceModule())return void this.bbLocalize.loadBundle("features/course/conditional-release/conditional-release").then(function(){return t.$modal.open({template:g,scope:t.scope}).result}).then(function(){t.changeVisibility(e)});this.changeVisibility(e)}},e.prototype.changeVisibility=function(e){this.scope.content&&this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease()&&this.scope.content.conditionalReleaseAsync("DELETE"),this.scope.content.setVisibility(e),d.r.Visibility.Restricted.isEqualTo(e)&&this.onRestrictedSelected(),this.onChange(),this.onBlur()},e.getAdaptiveReleaseCriteria=function(e){return e&&e.rules?e.rules.map(function(e){return e.criteria}).reduce(function(e,t){return t.concat(e)},[]):null},e.prototype.canDeleteCriteria=function(e){switch(e.type){case"Grade_Range":case"Grade_Range_Percentage":return this.scope.content.permissions.adaptiveRelease.criteria.performance.delete;case"Date_Range":return this.scope.content.permissions.adaptiveRelease.criteria.dates.delete;default:return this.scope.content.permissions.adaptiveRelease.delete}},e.prototype.canDeleteAllCriteria=function(e){var t=this;return e.every(function(e){return t.canDeleteCriteria(e)})},e.prototype.canShowVisibleHidden=function(){var t=e.getAdaptiveReleaseCriteria(this.scope.content.adaptiveReleaseRules);return this.entitledToDeleteConditionalRelease||!t||this.canDeleteAllCriteria(t)},e.prototype.showVisibleHiddenMenuOptions=function(){var e=this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease();return!e||e&&this.canShowVisibleHidden()},e.prototype.showConditionalReleaseMenuOption=function(){return!this.disableRestricted()&&this.scope.content.id&&this.entitledToViewConditionalRelease},e.prototype.isVisibilitySelectorMenuEmpty=function(){return!this.showVisibleHiddenMenuOptions()&&!this.showConditionalReleaseMenuOption()},e.prototype.isVisibilitySelectorEnabled=function(){return!this.scope.isVisibilitySelectorEnabled||this.scope.isVisibilitySelectorEnabled()},e.prototype.useNativeSelect=function(){return!c.a.detect().desktop()},e.prototype.initVisibilityOptions=function(){var e=this;this.bbLocalize.loadBundle("components/directives/content-visibility").then(function(){e.visibilityOptions=[{show:!0,visibility:d.r.Visibility.Visible,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:e.visibleOptionKey}),onSelect:function(){e.selectVisible()}},{show:!0,visibility:d.r.Visibility.Hidden,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:e.hiddenOptionKey}),onSelect:function(){e.selectHidden()}},{show:e.showConditionalReleaseMenuOption(),visibility:d.r.Visibility.Restricted,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:"components.directives.content-visibility.conditional-availability"}),onSelect:function(){e.selectConditionalRelease()}}],e.selectedVisibilityOption=i.find(e.visibilityOptions,function(t){return t.visibility===e.scope.content.getVisibilityAsStudent()})})},e.$inject=["scope","element","$q","$ngRedux",r.serviceName,a.b,p.d,"$modal",h.e],e}(),y=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",onblurFunc:"&?",onchangeFunc:"&?",onRestrictedSelectedFunc:"&?",openPanelOnRestricted:"&?",disableRestricted:"&?",validationFunc:"&?",isVisibilitySelectorEnabled:"&?",hasMediumIcon:"=?"},this.template=b,this.link=function(e,n,o){e.contentVisibilitySelector=t.$injector.instantiate(f,{scope:e,element:n})}}return e.$inject=["$injector"],e}();o.module(v,[m.a,h.b]).directive("bbContentVisibilitySelector",["$injector",function(e){return e.instantiate(y)}])},tecA:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return p});var o=n("IbG+"),i=n("+4Px"),s=n("g66W"),a="down",r="text-editor-update-original-value",c="text-editor-reset-to-original-value",l="text-editor-viewValue-initialized",d="text-editor-set-pristine",u="text-editor-empty",p=function(){function e(e,t,n,o,i){var s=this;this.scope=e,this.element=t,this.ctrl=n,this.bbLocalize=o,this.bbUltraState=i,this.focusOnAuthorControls=!1,this.isTextTouched=!1,this.myDirection=a,this.preventBlur=!1,this.currentStateName=i.current.name,e.disableInlineEditing=null!=e.disableInlineEditing&&e.disableInlineEditing,this.scope.$stopDigestPropagation=!0,this.originalNgModel=this.scope.ngModel,e.direction&&null!=e.direction()&&(this.myDirection=e.direction());var p=!(this.scope.ngModel&&this.scope.ngModel.length);e.$emit(u,{textEditor:this,isEmpty:p}),e.$root.$on("bb-bbml-editor-bbml-pre-redraw",function(){s.updateOriginalValues()}),e.$on(d,function(){s.isTextTouched=!1}),e.$on(l,function(){s.truncatedViewValue=s.ctrl.$viewValue}),e.$on(c,function(){s.isDirty()&&s.updateOriginalValues(),s.resetEditor(!1)}),e.$on(r,function(){s.updateOriginalValues(),s.isTextTouched=!1}),e.$on("$destroy",function(){s.isTextTouched=!1})}return e.prototype.isEditorDirty=function(){return this.isTextTouched},e.prototype.getContentLabel=function(){var e=this.getPlaceholderKey();return this.truncatedViewValue||e},e.prototype.getPlaceholderKey=function(){return this.scope.placeholderAttrsValues===this.originalPlaceholderAttrValues&&null!=this.placeholderText||(this.placeholderText=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.scope.placeholderKey,params:this.scope.$eval(this.scope.placeholderAttrsValues)}),this.originalPlaceholderAttrValues=this.scope.placeholderAttrsValues),this.placeholderText},Object.defineProperty(e.prototype,"truncatedViewValue",{get:function(){return this._truncatedViewValue},set:function(e){var t=this.element.find(".editor-element"),n=t.length?t.text():void 0;this._truncatedViewValue=s.h(n,100)},enumerable:!0,configurable:!0}),e.prototype.onChange=function(e){e&&e.keyCode===i.u||this.scope.hasFocus&&(this.isTextTouched=!0,this.scope.onchangeFunc&&this.scope.onchangeFunc({event:e}))},e.prototype.onKeydown=function(e){},e.prototype.isUploadProgressModalOpen=function(){var e=o.element(".progress-indicator-modal");return e&&e.length>0},e.prototype.isAddContentSelectorOpened=function(){return this.bbUltraState.current.name.length>this.currentStateName.length&&s.k(this.bbUltraState.current.name,this.currentStateName)},e.prototype.onBeforeBlur=function(){return!this.preventBlur&&!this.scope.disableInlineEditing},e.prototype.onBlur=function(){return this.scope.hasFocus=!1,this.ctrl.$focused=!1,this.scope.onblurFunc&&this.scope.onblurFunc(),!0},e.prototype.onFocus=function(){this.focusOnAuthorControls=!1,this.scope.readonly()||this.scope.hasFocus||(this.scope.hasFocus=!0,this.ctrl.$focused=!0,this.scope.onFocusFunc&&this.scope.onFocusFunc(),this.scope.$emit("entering-edit-state"))},e.prototype.isDirty=function(){return!(this.originalText||this.isTextTouched)},e.prototype.updateOriginalValues=function(){this.scope.ngModel===this.originalNgModel&&(this.originalText=this.scope.ngModel,this.originalPlainText=this.scope.plainText)},e.prototype.restoreFromOriginalValues=function(){this.originalText||(this.originalText="",this.originalPlainText=""),this.scope.ngModel=this.originalText,this.scope.plainText=this.originalPlainText},e.prototype.resetEditor=function(e){this.restoreFromOriginalValues()},e.prototype.isValidInputLength=function(){var e=null;if(null!=this.scope.getInputMaxLength&&(e=this.scope.getInputMaxLength()),null==e)return!0;if(e){var t=this.scope.plainText;return!!t&&t.trim().length<=e}return!0},e}()},tqR7:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("IbG+"),i=n("lEL+"),s="ultra.components.directives.clickOutside",a=function(){function e(e,t,n,o,i){var s=this;this.scope=e,this.element=t,this.attrs=n,this.$document=o,this.timeout=i;var a=function(e){return s.applyExpression(e)},r=this.getContainer()||o;this.scope.$watch(this.attrs.isActive,function(e,t){e?s.timeout(function(){r.on("click",a)},s.scope,0,!1):r.off("click",a)}),this.scope.$on("$destroy",function(){r.off("click",a)})}return e.prototype.applyExpression=function(e){var t=this.element.is(e.target),n=this.element.has(e.target).length>0;t||n||this.scope.$apply(this.attrs.bbClickOutside)},e.prototype.getContainer=function(){if("currentPanelOnly"in this.attrs)for(var e=this.element;(e=e.parent()).length;)if(e.is(".bb-offcanvas-panel,#main-content-inner"))return e},e.$inject=["scope","element","attrs","$document",i.b],e}(),r=function(){function e(e){var t=this;this.$injector=e,this.priority=100,this.restrict="A",this.compile=function(e,n){return{pre:function(e,n,o){return t.$injector.instantiate(a,{scope:e,element:n,attrs:o})}}}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbClickOutside",["$injector",function(e){return e.instantiate(r)}])},ujI6:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p});n("LATI"),n("Qc1G");var o=n("IbG+"),i=n("EVdn"),s=n("tqR7"),a=n("H8CZ"),r=n("lEL+"),c=n("+4Px"),l=n("zAxi"),d="ultra.components.directives.foundationOffcanvas",u="OFFCANVASE-TOGGLE-CLOSE",p="OFFCANVAS-TOGGLE-OPEN",m=function(){function e(e,t,n,o,s,a,r){var l=this;this.scope=e,this.element=t,this.attrs=n,this.$compile=o,this.$parse=s,this.$q=a,this.timeout=r,this.overrideButtonClass=!1,this.isPanelOpen=!1,this.justOpenedPanel=!1,this.isFromKeyBoard=!1,this.wiredup=!1,this.position="right",this.dialogModel=!1,this.initialProperties(),r(function(){if(l.openButtonElement=i("#"+l.attrs.bbFoundationOffcanvasOpenButton),0===l.openButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find an "Open Menu" button with an ID of '+l.attrs.bbFoundationOffcanvasOpenButton);l.openButtonElement.on("click.bbFoundationOffcanvas",function(){l.scope.$apply(function(){l.togglePanel()})}),l.openButtonElement.on("keydown.bbFoundationOffcanvas",function(e){e.keyCode===c.f&&(l.isFromKeyBoard=!0)})},e,0,!1)}return e.prototype.initialProperties=function(){var e=this;this.attrs.bbFoundationOffcanvasPosition&&(this.position=this.attrs.bbFoundationOffcanvasPosition),this.attrs.bbFoundationOffcanvasEventDelegate&&(this.scope.$on(p,function(){e.openPanel()}),this.scope.$on(u,function(){e.closePanel()})),this.attrs.bbFoundationOffcanvasDialogModel&&(this.dialogModel=this.attrs.bbFoundationOffcanvasDialogModel)},e.prototype.wireup=function(){var e=this;return this.wiredup=!0,this.timeout(function(){if(e.closeButtonElement=i("#"+e.attrs.bbFoundationOffcanvasCloseButton),0===e.closeButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find a "Close Menu" button with an ID of '+e.attrs.bbFoundationOffcanvasCloseButton);if(e.wrapperElement=e.element,e.offcanvasPanelElement=e.element.children().children(),1!==e.offcanvasPanelElement.length)throw new Error("bbFoundationOffcanvas directive must have exactly one child element. Fix the usage in the html template.");if(e.offcanvasPanelElement.addClass(e.position+"-off-canvas-menu"),e.attrs.bbFoundationOffcanvasOverrideButtonClass&&(e.overrideButtonClass=e.$parse(e.attrs.bbFoundationOffcanvasOverrideButtonClass)(e.scope)),e.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),e.closeButtonElement.addClass("exit-off-canvas-overlay").on("click.bbFoundationOffcanvas",function(){e.scope.$apply(function(){e.closePanel()})}),e.offcanvasPanelElement.find("a, button").last().on("keydown.bbFoundationOffcanvas",function(t){t.keyCode!==c.u||t.shiftKey||(t.preventDefault(),e.scope.$apply(function(){e.closePanel()}))}),e.offcanvasPanelElement.find("a, button").first().on("keydown.bbFoundationOffcanvas",function(t){t.keyCode===c.u&&t.shiftKey&&(t.preventDefault(),e.scope.$apply(function(){e.closePanel()}))}),e.scope.$on("foundation-offcanvas-close-panel",function(){e.closePanel()}),null!=e.attrs.bbFoundationOffcanvasCommonParent){if(e.commonParent=i("#"+e.attrs.bbFoundationOffcanvasCommonParent),0===e.commonParent.length)throw new Error("The bbFoundationOffcanvas directive couldn't find a common parent element with an ID of "+e.attrs.bbFoundationOffcanvasCommonParent)}else e.commonParent=i(e.wrapperElement).parents().has(e.closeButtonElement).first();if(e.commonParent.hasClass("group-list")||e.commonParent.addClass("off-canvas-wrap off-canvas-overlay"),!e.overrideButtonClass){var t=e.offcanvasPanelElement.find("li").not(".ng-hide").length;e.commonParent.addClass("buttons-"+t)}a.b(e.commonParent,function(t){return e.isPanelOpen&&(t.data.noTransitions||"right"===t.originalEvent.propertyName)&&(e.isFromKeyBoard?e.offcanvasPanelElement.find("a, button").first().focus():(e.offcanvasPanelElement.parent().attr("tabindex",0),e.offcanvasPanelElement.parent().focus())),!1}),e.element.foundation(),e.scope.$on("$destroy",function(){e.element.off("click.bbFoundationOffcanvas"),e.closeButtonElement.off("click.bbFoundationOffcanvas"),e.offcanvasPanelElement.find("a, button").last().off("keydown.bbFoundationOffcanvas"),e.offcanvasPanelElement.find("a, button").first().off("keydown.bbFoundationOffcanvas"),e.commonParent.removeClass("off-canvas-wrap off-canvas-overlay")})},this.scope,0,!1)},e.prototype.getPosition=function(){switch(this.position){case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"left":default:return"right"}},e.prototype._openPanel=function(){var e=this;this.offcanvasPanelElement.css("display","block"),this.justOpenedPanel=!0,this.timeout(function(){e.offcanvasPanelElement.foundation("offcanvas","show","move-"+e.getPosition()),e.isPanelOpen=!0,e.offcanvasPanelElement.find("a, button").attr("tabindex","0"),e.justOpenedPanel=!1},this.scope,0,!1)},e.prototype.openPanel=function(){var e=this;if(this.wiredup)this._openPanel();else{var t=this.$q.defer();this.scope.$watch("::foundationOffcanvas.wiredup",function(e){e&&t.resolve()}),this.$q.all([this.wireup(),t.promise]).then(function(){e._openPanel()})}},e.prototype.closePanel=function(){var e=this;this.offcanvasPanelElement.foundation("offcanvas","hide","move-"+this.getPosition()),this.isPanelOpen=!1,this.isFromKeyBoard=!1,this.offcanvasPanelElement.parent().removeAttr("tabindex"),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.openButtonElement.focus(),this.timeout(function(){e.isPanelOpen||e.offcanvasPanelElement.css("display","none")},this.scope,300,!1)},e.prototype.handleClickOutside=function(){this.dialogModel||i("body").hasClass("modal-open")||this.justOpenedPanel||this.closePanel()},e.prototype.togglePanel=function(){this.isPanelOpen?this.closePanel():this.openPanel()},e.$inject=["scope","element","attrs","$compile","$parse","$q",r.b],e}(),h=function(){function e(e){var t=this;this.$injector=e,this.transclude=!0,this.restrict="E",this.link=function(e,n,o){if(null==o.bbFoundationOffcanvasOpenButton||null==o.bbFoundationOffcanvasCloseButton)throw new Error('Please provide jQuery selectors for both the "Open Menu" and "Close Menu" buttons');var i=o.$observe("bbFoundationOffcanvasCloseButton",function(s){s&&(e.foundationOffcanvas=t.$injector.instantiate(m,{scope:e,element:n,attrs:o}),i())})},this.template=l}return e.$inject=["$injector"],e}();o.module(d,[s.a,r.a]).directive("bbFoundationOffcanvas",["$injector",function(e){return e.instantiate(h)}])},wy9x:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("IbG+"),i=n("bkfL"),s="ultra.components.directives.content.contentItem.contentItemType.contentItemFolder",a=function(){function e(e,t,n){this.scope=e,this.element=t,this.attrs=n}return e.prototype.toggleFolder=function(){this.scope.$emit("toggle-folder",this.scope.content)},e.prototype.shouldAlignMiddle=function(){var e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))},e.$inject=["scope","element","attrs"],e}(),r=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=function(e,n,o){e.contentItemFolder=t.$injector.instantiate(a,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbContentItemFolder",["$injector",function(e){return e.instantiate(r)}])},xAaQ:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("IbG+"),i=n("wy9x"),s=n("jhBu"),a=n("Sa5G"),r=n("TnpK"),c=n("2sMu"),l="ultra.components.directives.content.contentItem.contentItemEngagementOutline",d=function(){function e(e,t,n){var o=this;this.scope=e,this.entitlementService=t,this.ultraState=n,this.entitlementService.hasCourseEntitlement(a.f.ModifyContent,this.scope.content.courseId).then(function(e){o.entitledToModifyContent=e})}return Object.defineProperty(e.prototype,"canOpenConditionalRelease",{get:function(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)},enumerable:!0,configurable:!0}),e.prototype.openConditionalRelease=function(){this.isCourseCompletedAndInInstructorView()||this.ultraState.goPeekState("conditional-release",{id:this.scope.content.id})},e.prototype.isCourseCompletedAndInInstructorView=function(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()},e.$inject=["scope",s.b,r.d],e}(),u=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=c,this.scope=!1,this.link=function(e){e.contentItemEngagementOutline=t.$injector.instantiate(d,{scope:e})}}return e.$inject=["$injector"],e}();o.module(l,[i.a,r.b]).directive("bbContentItemEngagementOutline",["$injector",function(e){return e.instantiate(u)}])},"z+6U":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("IbG+"),i=n("zDa7"),s="ultra.components.directives.content.contentItem.contentItemType.contentItemPage",a=function(){function e(e){this.scope=e}return e.prototype.shouldAlignMiddle=function(){return!this.scope.content.canViewAsInstructor()},e.$inject=["scope"],e}(),r=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=function(e,n,o){e.contentItemPage=t.$injector.instantiate(a,{scope:e,element:n,attrs:o})}}return e.$inject=["$injector"],e}();o.module(s,[]).directive("bbContentItemPage",["$injector",function(e){return e.instantiate(r)}])},zAxi:function(e,t){e.exports='<div ng-if="::foundationOffcanvas.wiredup || undefined"\n      class="bb-foundation-offcanvas"\n      ng-transclude\n      bb-click-outside="foundationOffcanvas.handleClickOutside()"\n      is-active="foundationOffcanvas.isPanelOpen"\n      aria-hidden="{{!foundationOffcanvas.isPanelOpen}}"\n      current-panel-only>\n</div>'},zDa7:function(e,t){e.exports='<div ng-switch on="content.canViewAsInstructor() || !content.shouldRestrict()">\n  \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n  <a class="content-title"\n     bb-peek-sref="content-manage.edit.document({id:content.id})"\n     ng-switch-when="true"\n     ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n     aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n     analytics-id="content.item.page.edit.document.link"><span>{{ content.title }}</span></a>\n  <span class="content-title"\n        ng-switch-default\n        ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}">{{ content.title }}</span>\n</div>'}}]);